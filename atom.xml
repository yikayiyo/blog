<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Misbehavior</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://yikayiyo.github.io/"/>
  <updated>2020-01-09T11:53:01.796Z</updated>
  <id>https://yikayiyo.github.io/</id>
  
  <author>
    <name>yikayiyo</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Task Parallelism</title>
    <link href="https://yikayiyo.github.io/2020/01/08/Task%20Parallelism/"/>
    <id>https://yikayiyo.github.io/2020/01/08/Task%20Parallelism/</id>
    <published>2020-01-08T10:59:19.000Z</published>
    <updated>2020-01-09T11:53:01.796Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.coursera.org/learn/parallel-programming-in-java/" target="_blank" rel="external">https://www.coursera.org/learn/parallel-programming-in-java/</a></p><h3 id="Task-Creation-and-Termination-Async-Finish" class="heading-control"><a href="#Task-Creation-and-Termination-Async-Finish" class="headerlink" title="Task Creation and Termination (Async, Finish)"></a>Task Creation and Termination (Async, Finish)<a class="heading-anchor" href="#Task-Creation-and-Termination-Async-Finish" aria-hidden="true"></a></h3><p>ä»¥æ•°ç»„æ±‚å’Œä½œä¸ºä¾‹å­</p><p>ä¸ºäº†æ±‚å¾—æ•°ç»„çš„å’Œï¼Œå¯ä»¥å°†æ•°ç»„åˆ†ä¸ºå‰åä¸¤ä¸ªéƒ¨åˆ†ã€‚ä¸¤éƒ¨åˆ†çš„æ±‚å’Œå¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œä½†æ˜¯åœ¨æ±‚æ€»å’Œä¹‹å‰è¦ä¿è¯ä¸¤ä¸ªå­ä»»åŠ¡å·²ç»å®Œæˆã€‚</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">finish {</div><div class="line">  async SUM1;  <span class="comment">// asynchronously compute sum of the lower half of the array</span></div><div class="line">  SUM2;  <span class="comment">// compute sum of the upper half of the array in parallel with SUM1</span></div><div class="line">}</div><div class="line">SUM;  <span class="comment">// combine the two partial sums after both SUM1 and SUM2 have finished</span></div></pre></td></tr></tbody></table></figure><p><code>async &lt;stmt1&gt;</code> ï¼šçˆ¶ä»»åŠ¡åˆ›å»ºå­ä»»åŠ¡æ‰§è¡Œ<code>&lt;stmt1&gt;</code>ï¼Œå¹¶ä¸”æ˜¯å¹¶è¡Œäºçˆ¶ä»»åŠ¡çš„å…¶ä½™éƒ¨åˆ†æ‰§è¡Œ</p><p>ä¸Šé¢çš„ä¼ªä»£ç ä¸­ï¼Œ<code>async SUM1;</code>åˆ›å»ºå­ä»»åŠ¡SUM1ï¼Œå’ŒSUM2å¹¶è¡Œæ‰§è¡Œ</p><p><code>finish &lt;stmt2&gt;</code>ï¼šçˆ¶ä»»åŠ¡æ‰§è¡Œ<code>&lt;stmt2&gt;</code>ï¼Œå¹¶ä¸”ç­‰å¾…<code>&lt;stmt2&gt;ä»¥åŠå…¶ä¸­åˆ›å»ºçš„å¼‚æ­¥ä»»åŠ¡</code>å®Œæˆ</p><p>ä¸Šä¾‹ä¸­ï¼Œçˆ¶ä»»åŠ¡ç­‰å¾…SUM1å’ŒSUM2å®Œæˆï¼Œæ‰èƒ½æ‰§è¡ŒSUM</p><h3 id="Tasks-in-Javaâ€™s-Fork-Join-Framework" class="heading-control"><a href="#Tasks-in-Javaâ€™s-Fork-Join-Framework" class="headerlink" title="Tasks in Javaâ€™s Fork/Join Framework"></a>Tasks in Javaâ€™s Fork/Join Framework<a class="heading-anchor" href="#Tasks-in-Javaâ€™s-Fork-Join-Framework" aria-hidden="true"></a></h3><p>æ•°ç»„æ±‚å’Œçš„<strong>åˆ†æ²»</strong>å†™æ³•<a id="more"></a></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ASum</span></span>{</div><div class="line">  <span class="keyword">int</span>[] A; <span class="comment">// input array</span></div><div class="line">  <span class="keyword">int</span> LO, HI; <span class="comment">// subrange</span></div><div class="line">  <span class="keyword">int</span> SUM; <span class="comment">// return value</span></div><div class="line">  ASum(<span class="keyword">int</span>[] array, <span class="keyword">int</span> low, <span class="keyword">int</span> high){</div><div class="line">    <span class="keyword">this</span>.A = array;</div><div class="line">    <span class="keyword">this</span>.LO = low;</div><div class="line">    <span class="keyword">this</span>.HI = high;</div><div class="line">  }</div><div class="line">  <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">compute</span><span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">if</span> (LO==HI) SUM = A[LO];</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(LO&gt;HI) SUM = <span class="number">0</span>;</div><div class="line">    <span class="keyword">else</span> {</div><div class="line">      <span class="keyword">int</span> MID = (LO+HI)/<span class="number">2</span>;</div><div class="line">      L = <span class="keyword">new</span> ASum(A, LO, MID);</div><div class="line">      R = <span class="keyword">new</span> ASum(A, MID, HI);</div><div class="line">      L.compute();</div><div class="line">      R.compute();</div><div class="line">      SUM = L.SUM + R.SUM;</div><div class="line">    }</div><div class="line">  } <span class="comment">// compute()</span></div><div class="line">}</div></pre></td></tr></tbody></table></figure><p>å¹¶è¡Œå†™æ³•</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.concurrent.ForkJoinPool;</div><div class="line"><span class="keyword">import</span> java.util.concurrent.RecursiveTask;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ASum</span> <span class="keyword">extends</span> <span class="title">RecursiveTask</span>&lt;<span class="title">Integer</span>&gt; </span>{  <span class="comment">//æ²¡æœ‰è¿”å›å€¼çš„ç»§æ‰¿RecursiveActionï¼Œæ¯”å¦‚å¯¹æ•°ç»„æ’åº</span></div><div class="line">    <span class="keyword">final</span> <span class="keyword">int</span> seqThreshold = <span class="number">3</span>;</div><div class="line">    <span class="keyword">int</span>[] array;</div><div class="line">    <span class="keyword">int</span> lo, hi;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ASum</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span> </span>{</div><div class="line">        <span class="keyword">this</span>.array = array;</div><div class="line">        <span class="keyword">this</span>.lo = low;</div><div class="line">        <span class="keyword">this</span>.hi = high;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> Integer <span class="title">compute</span><span class="params">()</span> </span>{</div><div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span> ((hi - lo) &lt;= seqThreshold) {  <span class="comment">//ä¸å†åˆ‡åˆ†ä¸ºå­ä»»åŠ¡</span></div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = lo; i &lt; hi; i++)</div><div class="line">                res += array[i];</div><div class="line">        } <span class="keyword">else</span> {</div><div class="line">            <span class="keyword">int</span> mid = (lo + hi) / <span class="number">2</span>;</div><div class="line">            ASum L = <span class="keyword">new</span> ASum(array, lo, mid);</div><div class="line">            ASum R = <span class="keyword">new</span> ASum(array, mid, hi);</div><div class="line">            <span class="comment">// L.fork();</span></div><div class="line">            <span class="comment">// R.fork();</span></div><div class="line">            invokeAll(L, R);  <span class="comment">//å’Œä¸Šé¢çš„ä¸¤å¥ç­‰ä»·</span></div><div class="line">            res += L.join() + R.join();</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">sumOfInts</span><span class="params">(ForkJoinPool pool, <span class="keyword">int</span>[] array)</span> </span>{</div><div class="line">        <span class="keyword">int</span> n = array.length;</div><div class="line">        ASum a = <span class="keyword">new</span> ASum(array, <span class="number">0</span>, n);</div><div class="line">        <span class="keyword">return</span> pool.invoke(a);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">final</span> String[] args)</span> </span>{</div><div class="line">        <span class="keyword">int</span>[] nums = { <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> };</div><div class="line">        ForkJoinPool pool = <span class="keyword">new</span> ForkJoinPool();</div><div class="line">        System.out.println(sumOfInts(pool, nums));</div><div class="line">    }</div><div class="line">    </div><div class="line">}</div></pre></td></tr></tbody></table></figure><h3 id="Computation-Graphs-Work-Span" class="heading-control"><a href="#Computation-Graphs-Work-Span" class="headerlink" title="Computation Graphs, Work, Span"></a>Computation Graphs, Work, Span<a class="heading-anchor" href="#Computation-Graphs-Work-Span" aria-hidden="true"></a></h3><h4 id="Computation-Graphs" class="heading-control"><a href="#Computation-Graphs" class="headerlink" title="Computation Graphs"></a>Computation Graphs<a class="heading-anchor" href="#Computation-Graphs" aria-hidden="true"></a></h4><p>Computation Graphs (CGs) model the execution of a parallel program as a <a href="http://en.wikipedia.org/wiki/Partially_ordered_set" target="_blank" rel="external">partially ordered set</a>.</p><p>A CG consist of:</p><ul><li>A set of <em>vertices</em> or <em>nodes</em>, in which each node represents a <em>step</em> consisting of an <strong>arbitrary sequential computation</strong>.</li><li>A set of <em>directed</em> <em>edges</em> that represent <strong>ordering constraints</strong> among steps.</li></ul><p>å¯¹äºfork-joinæ¡†æ¶ï¼Œå¯ä»¥å°†è¿™äº›æœ‰å‘è¾¹åˆ†ä¸ºä¸‰ç±»ï¼š</p><ul><li><em>Continue</em> edgesï¼Œè¿æ¥ä»»åŠ¡ä¸­é¡ºåºæ‰§è¡Œçš„æ­¥éª¤</li><li>Fork edgesï¼Œå°†forkæ“ä½œè¿æ¥åˆ°å­ä»»åŠ¡çš„ç¬¬ä¸€ä¸ªæ­¥éª¤</li><li>join edges connect the last step of a task to all <em>join</em> operations on that task</li></ul><p>ä¸€ä¸ªå°ä¾‹å­</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">S1</div><div class="line">fork S2</div><div class="line">S3</div><div class="line">join S2  <span class="comment">// è¿™é‡Œjoin S2å‘ç”Ÿåœ¨S4ä¹‹å‰</span></div><div class="line">S4</div><div class="line"><span class="comment">// S5 å¦‚æœæœ‰çš„è¯ï¼Œè¿æ¥åˆ°S4ä¹‹å</span></div></pre></td></tr></tbody></table></figure><p>å¯¹åº”çš„CGä¸º<br><img src="/2020/01/08/Task%20Parallelism/image-20200108094903279.png" alt="image-20200108094903279.png" title=""></p><h4 id="CGsä¸Šçš„data-race" class="heading-control"><a href="#CGsä¸Šçš„data-race" class="headerlink" title="CGsä¸Šçš„data race"></a>CGsä¸Šçš„data race<a class="heading-anchor" href="#CGsä¸Šçš„data-race" aria-hidden="true"></a></h4><p>æ²¡æœ‰è¾¹è¿æ¥çš„ä¸¤ä¸ªèŠ‚ç‚¹åŒæ—¶å†™æˆ–è€…è¯»å†™ç›¸åŒçš„ä½ç½®æ—¶å‘ç”Ÿdata race</p><h4 id="CGsä¸Šçš„ç†æƒ³å¹¶è¡Œç¨‹åº¦-ï¼ˆideal-parallelismï¼‰" class="heading-control"><a href="#CGsä¸Šçš„ç†æƒ³å¹¶è¡Œç¨‹åº¦-ï¼ˆideal-parallelismï¼‰" class="headerlink" title="CGsä¸Šçš„ç†æƒ³å¹¶è¡Œç¨‹åº¦ ï¼ˆideal parallelismï¼‰"></a>CGsä¸Šçš„ç†æƒ³å¹¶è¡Œç¨‹åº¦ ï¼ˆ<em>ideal parallelism</em>ï¼‰<a class="heading-anchor" href="#CGsä¸Šçš„ç†æƒ³å¹¶è¡Œç¨‹åº¦-ï¼ˆideal-parallelismï¼‰" aria-hidden="true"></a></h4><p>ä¸è®¡ç®—æœºçš„å®é™…å¹¶è¡Œæ€§æ— å…³<br>$$<br>ideal\,parallelism = \frac{WORK(G)}{SPAN(G)} \tag{1}<br>$$</p><p>å…¶ä¸­ï¼š</p><ul><li>WORK(G)ä¸ºGä¸­æ‰€æœ‰èŠ‚ç‚¹æ‰§è¡Œæ—¶é—´ä¹‹å’Œ</li><li>SPAN(G)ä¸ºGä¸­å…³é”®è·¯å¾„ä¸ŠèŠ‚ç‚¹çš„æ‰§è¡Œæ—¶é—´ä¹‹å’Œï¼Œä¸Šä¾‹ä¸­SPAN(G)ä¸º <strong>max((S1,S3,S4), (S1,S2,S4))</strong></li></ul><h3 id="Multiprocessor-Scheduling-Parallel-Speedup" class="heading-control"><a href="#Multiprocessor-Scheduling-Parallel-Speedup" class="headerlink" title="Multiprocessor Scheduling, Parallel Speedup"></a>Multiprocessor Scheduling, Parallel Speedup<a class="heading-anchor" href="#Multiprocessor-Scheduling-Parallel-Speedup" aria-hidden="true"></a></h3><h4 id="å‡è®¾" class="heading-control"><a href="#å‡è®¾" class="headerlink" title="å‡è®¾"></a>å‡è®¾<a class="heading-anchor" href="#å‡è®¾" aria-hidden="true"></a></h4><p>æœ‰Pä¸ªå¤„ç†å™¨ï¼Œæ¯ä¸ªå¤„ç†å™¨éƒ½ç›¸åŒï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„æ‰§è¡Œæ—¶é—´éƒ½æ˜¯å›ºå®šçš„ï¼ˆä¸ç®¡åœ¨é‚£ä¸ªå¤„ç†å™¨ä¸Šï¼‰ï¼Œå¤„ç†å™¨éƒ½æ˜¯<strong>è´ªå¿ƒ</strong>åœ°æ‰§è¡Œä»»åŠ¡<br>T_pè¡¨ç¤ºåœ¨pä¸ªå¤„ç†å™¨ä¸Šæ‰§è¡Œä¸€ä¸ªCGæ‰€èŠ±çš„æ—¶é—´,<br>ç›¸åŒçš„Pä¸ªå¤„ç†å™¨ï¼Œç›¸åŒçš„CGï¼Œä¸åŒçš„è°ƒåº¦ç®—æ³•ä¹Ÿå¯èƒ½å¯¹åº”ä¸åŒçš„T_p</p><p>$$<br>T_{\infty} \le T_p \le T_1<br>$$</p><h4 id="Speedup-P" class="heading-control"><a href="#Speedup-P" class="headerlink" title="Speedup(P)"></a>Speedup(P)<a class="heading-anchor" href="#Speedup-P" aria-hidden="true"></a></h4><p>the parallel speedup for a given schedule of a CG on <em>P</em> processorsï¼Œæ»¡è¶³ä¸‹é¢ï¼š<br>$$<br>Speedup(P) = \frac{T_1}{T_P} \tag{2}<br>$$</p><p>$$<br>Speedup(P) \le P \tag{3}<br>$$</p><p>$$<br>Speedup(P) \le \frac {WORK}{SPAN} \tag{4}<br>$$</p><p>ï¼ˆ3ï¼‰è¡¨ç¤ºPä¸ªå¤„ç†å™¨ä¸èƒ½å¸¦æ¥På€çš„åŠ é€Ÿ</p><p>ï¼ˆ4ï¼‰è¡¨ç¤ºç°å®éª¨æ„Ÿï¼Œç†æƒ³ä¸°æ»¡</p><h3 id="Amdahlâ€™s-Law" class="heading-control"><a href="#Amdahlâ€™s-Law" class="headerlink" title="Amdahlâ€™s Law"></a><strong>Amdahlâ€™s Law</strong><a class="heading-anchor" href="#Amdahlâ€™s-Law" aria-hidden="true"></a></h3><p>if <em>q</em> <em>â‰¤</em> 1 is the fraction of <em>WORK</em> in a parallel program that must be executed <em>sequentially</em>, then the best speedup that can be obtained for that program for any number of processors, <em>P</em> , is <em>Speedup(P)</em> <em>â‰¤</em> 1<em>/q</em>.</p><p>ä¾‹å¦‚ï¼Œå¦‚æœçº¿æ€§å·¥ä½œå æ¯”ä¸º0.5ï¼Œåˆ™ä¸ç®¡å¤„ç†å™¨ä¸ªæ•°å†å¤šï¼Œæœ‰<em>Speedup(P)</em> <em>â‰¤</em> 2</p><p>å› ä¸ºæœ‰<br>$$<br>WORK(G)*q \leq SPAN(G) \tag{5}\<br>==&gt;  \frac{WORK(G)}{SPAN(G)} \leq \frac{1}{q}<br>$$<br>ä¸Šå¼è¡¨ç¤ºå…³é”®è·¯å¾„ç”¨æ—¶ä¸å°äºä»»åŠ¡ä¸­çº¿æ€§éƒ¨åˆ†çš„ç”¨æ—¶</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.coursera.org/learn/parallel-programming-in-java/&quot;&gt;https://www.coursera.org/learn/parallel-programming-in-java/&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Task-Creation-and-Termination-Async-Finish&quot;&gt;&lt;a href=&quot;#Task-Creation-and-Termination-Async-Finish&quot; class=&quot;headerlink&quot; title=&quot;Task Creation and Termination (Async, Finish)&quot;&gt;&lt;/a&gt;Task Creation and Termination (Async, Finish)&lt;/h3&gt;&lt;p&gt;ä»¥æ•°ç»„æ±‚å’Œä½œä¸ºä¾‹å­&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ±‚å¾—æ•°ç»„çš„å’Œï¼Œå¯ä»¥å°†æ•°ç»„åˆ†ä¸ºå‰åä¸¤ä¸ªéƒ¨åˆ†ã€‚ä¸¤éƒ¨åˆ†çš„æ±‚å’Œå¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œä½†æ˜¯åœ¨æ±‚æ€»å’Œä¹‹å‰è¦ä¿è¯ä¸¤ä¸ªå­ä»»åŠ¡å·²ç»å®Œæˆã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;finish {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  async SUM1;  &lt;span class=&quot;comment&quot;&gt;// asynchronously compute sum of the lower half of the array&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  SUM2;  &lt;span class=&quot;comment&quot;&gt;// compute sum of the upper half of the array in parallel with SUM1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;SUM;  &lt;span class=&quot;comment&quot;&gt;// combine the two partial sums after both SUM1 and SUM2 have finished&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;async &amp;lt;stmt1&amp;gt;&lt;/code&gt; ï¼šçˆ¶ä»»åŠ¡åˆ›å»ºå­ä»»åŠ¡æ‰§è¡Œ&lt;code&gt;&amp;lt;stmt1&amp;gt;&lt;/code&gt;ï¼Œå¹¶ä¸”æ˜¯å¹¶è¡Œäºçˆ¶ä»»åŠ¡çš„å…¶ä½™éƒ¨åˆ†æ‰§è¡Œ&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„ä¼ªä»£ç ä¸­ï¼Œ&lt;code&gt;async SUM1;&lt;/code&gt;åˆ›å»ºå­ä»»åŠ¡SUM1ï¼Œå’ŒSUM2å¹¶è¡Œæ‰§è¡Œ&lt;/p&gt;
&lt;p&gt;&lt;code&gt;finish &amp;lt;stmt2&amp;gt;&lt;/code&gt;ï¼šçˆ¶ä»»åŠ¡æ‰§è¡Œ&lt;code&gt;&amp;lt;stmt2&amp;gt;&lt;/code&gt;ï¼Œå¹¶ä¸”ç­‰å¾…&lt;code&gt;&amp;lt;stmt2&amp;gt;ä»¥åŠå…¶ä¸­åˆ›å»ºçš„å¼‚æ­¥ä»»åŠ¡&lt;/code&gt;å®Œæˆ&lt;/p&gt;
&lt;p&gt;ä¸Šä¾‹ä¸­ï¼Œçˆ¶ä»»åŠ¡ç­‰å¾…SUM1å’ŒSUM2å®Œæˆï¼Œæ‰èƒ½æ‰§è¡ŒSUM&lt;/p&gt;
&lt;h3 id=&quot;Tasks-in-Javaâ€™s-Fork-Join-Framework&quot;&gt;&lt;a href=&quot;#Tasks-in-Javaâ€™s-Fork-Join-Framework&quot; class=&quot;headerlink&quot; title=&quot;Tasks in Javaâ€™s Fork/Join Framework&quot;&gt;&lt;/a&gt;Tasks in Javaâ€™s Fork/Join Framework&lt;/h3&gt;&lt;p&gt;æ•°ç»„æ±‚å’Œçš„&lt;strong&gt;åˆ†æ²»&lt;/strong&gt;å†™æ³•&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="java" scheme="https://yikayiyo.github.io/tags/java/"/>
    
      <category term="å¹¶è¡Œç¼–ç¨‹" scheme="https://yikayiyo.github.io/tags/%E5%B9%B6%E8%A1%8C%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Markdownæ˜¾ç¤º__init__.py</title>
    <link href="https://yikayiyo.github.io/2019/12/25/Markdown%E6%98%BE%E7%A4%BA__/"/>
    <id>https://yikayiyo.github.io/2019/12/25/Markdown%E6%98%BE%E7%A4%BA__/</id>
    <published>2019-12-25T04:59:36.000Z</published>
    <updated>2019-12-25T05:31:10.970Z</updated>
    
    <content type="html"><![CDATA[<p>Markdownè¯­æ³•ä¸­åŒä¸‹åˆ’çº¿ <code>__</code> å’ŒåŒæ˜Ÿ <code>**</code> éƒ½æ˜¯å¼ºè°ƒä½œç”¨<br>pythonä¸­çš„ <strong>init</strong>.pyå°±æ˜¾ç¤ºæˆè¿™ä¸ªæ ·å­äº† <span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f612.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f612.png?v8">ğŸ˜’</span></p><p>å¯ä»¥ä½¿ç”¨åå¼•å·å°†å…¶åŒ…å«ï¼Œæ˜¾ç¤ºæ•ˆæœ: <code>__init__.py</code> <span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f60b.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f60b.png?v8">ğŸ˜‹</span></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Markdownè¯­æ³•ä¸­åŒä¸‹åˆ’çº¿ &lt;code&gt;__&lt;/code&gt; å’ŒåŒæ˜Ÿ &lt;code&gt;**&lt;/code&gt; éƒ½æ˜¯å¼ºè°ƒä½œç”¨&lt;br&gt;pythonä¸­çš„ &lt;strong&gt;init&lt;/strong&gt;.pyå°±æ˜¾ç¤ºæˆè¿™ä¸ªæ ·å­äº† &lt;span class=&quot;github-emoji&quot; style
      
    
    </summary>
    
    
    
      <category term="æ‚" scheme="https://yikayiyo.github.io/tags/%E6%9D%82/"/>
    
  </entry>
  
  <entry>
    <title>è®°å½•ä¸€æ¬¡æºç é˜…è¯»</title>
    <link href="https://yikayiyo.github.io/2019/05/12/requests%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/"/>
    <id>https://yikayiyo.github.io/2019/05/12/requests%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/</id>
    <published>2019-05-12T08:14:00.000Z</published>
    <updated>2019-05-21T10:04:14.000Z</updated>
    
    <content type="html"><![CDATA[<img src="/2019/05/12/requestsæºç é˜…è¯»/requestsæºç é˜…è¯».svg" alt="è®°å½•ä¸€æ¬¡æºç é˜…è¯»" title="è®°å½•ä¸€æ¬¡æºç é˜…è¯»"><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;img src=&quot;/2019/05/12/requestsæºç é˜…è¯»/requestsæºç é˜…è¯».svg&quot; alt=&quot;è®°å½•ä¸€æ¬¡æºç é˜…è¯»&quot; title=&quot;è®°å½•ä¸€æ¬¡æºç é˜…è¯»&quot;&gt;&lt;script&gt;
        document.querySelectorAll(&#39;.github-emo
      
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="pythonï¼Œè¯»ä¹¦ç¬”è®°" scheme="https://yikayiyo.github.io/tags/python%EF%BC%8C%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>DevOps for dummies</title>
    <link href="https://yikayiyo.github.io/2019/02/25/devops/"/>
    <id>https://yikayiyo.github.io/2019/02/25/devops/</id>
    <published>2019-02-25T09:19:00.000Z</published>
    <updated>2019-03-05T14:37:46.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å…³é”®è¯" class="heading-control"><a href="#å…³é”®è¯" class="headerlink" title="å…³é”®è¯"></a>å…³é”®è¯<a class="heading-anchor" href="#å…³é”®è¯" aria-hidden="true"></a></h3><p>business-driven, people, practice, tools</p><h3 id="åŸåˆ™" class="heading-control"><a href="#åŸåˆ™" class="headerlink" title="åŸåˆ™"></a>åŸåˆ™<a class="heading-anchor" href="#åŸåˆ™" aria-hidden="true"></a></h3><ul><li>Develop and test against production-like systems </li><li>Deploy with repeatable, reliable processes</li><li>Monitor and validate operational quality</li><li>Amplify feedback loops<a id="more"></a><h3 id="æ¶æ„" class="heading-control"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„<a class="heading-anchor" href="#æ¶æ„" aria-hidden="true"></a></h3></li></ul><img src="/2019/02/25/devops/devops.png" alt="devops" title="devops"><h3 id="Notes" class="heading-control"><a href="#Notes" class="headerlink" title="Notes"></a>Notes<a class="heading-anchor" href="#Notes" aria-hidden="true"></a></h3><ul><li>DevOps isnâ€™t the goal. It helps you reach your goals</li><li>Any kind of system that needs <strong>rapid</strong> delivery of <strong>innovation</strong> requires DevOps</li></ul><ul><li><p>In broad terms, DevOps is an approach based on <strong>lean and agile principles</strong> in which business owners and the development, operations, and quality assurance departments collaborate to deliver software <strong>in a continuous manner</strong> that enables the business to more quickly seize market opportunities and reduce the time to include customer feedback</p></li><li><p>A true DevOps approach includes lines of business, practitioners, executives, partners, suppliers, and so on</p></li><li><p><strong>Continuous testing</strong> is facilitated by adopting capabilities like <strong>automated testing</strong> and <strong>service virtualization</strong></p></li><li><p>software-defined environments enable you to capture infrastructure as a kind of programmable and repeatable pattern, thereby accelerating deployments</p></li><li><p>Collaboration and communication across stakeholders â€” thatâ€™s the culture of DevOps.</p></li><li><p>Giving all stakeholders <strong>visibility</strong> into a projectâ€™s goals and status is crucial for building a DevOps culture based on trust and collaboration.</p></li><li><p>Processes define what those people do. Your organization can have a great culture of collaboration, but if people are doing the wrong things or doing the right things in the wrong way, failure is still likely.</p></li><li><p>Adopting continuous delivery typically is the most critical part of adopting DevOps.</p></li><li><p>From a process perspective, you need to adopt processes in three areas to enable <strong>continuous testing</strong>:</p><p>âœ“ Test environment provisioning and configuration</p><p>âœ“ Test data management</p><p>âœ“ Test integration, function, performance, and security</p></li><li><p>If an organization is building or maintaining multiple applications, everything it does has to be repeatable, in a reliable manner, to ensure quality across all applications</p></li><li><p>Start by focusing on the critical parts of organization â€” not everything all at once â€” and then gradually broaden to include all stages</p></li><li><p>The build stage is where the code is compiled to create and unit test the binaries to be deployed. Multiple build tools may be used in this stage, based on cross-platform and cross-technology needs</p></li><li><p>Development organizations typically use <strong>build servers</strong> to facilitate the large number of builds required on an ongoing basis to enable continuous integration</p></li><li><p>For any organization that wants to enable <strong>continuous testing</strong>, <strong>managing test data</strong> is an essential function</p></li><li><p>end-to-end Develop/Test environments =  cloud environments + deployment automation + service virtualization</p></li><li><p>Cloud without DevOps means not leveraging all the benefits of cloud</p></li><li><p>When adopting cloud, you first want to decide on the scope of responsibility that you plan to hand over to the cloud platform and what responsibility you want to take on yourself</p></li><li><p>two primary service models for cloud: Infrastructure as a Service (<strong>IaaS</strong>) and Platform as a Service (<strong>PaaS</strong>)</p></li><li><p>treats infrastructure as code best practicesï¼š</p><ul><li>Treat pattern definitions, script packages, and services as code</li><li>version everything</li><li>Automate deployment of topology patterns to the cloud</li><li>Manage versions of patterns across multiple cloud environments</li><li>Automate the testing of patterns</li><li>Cleanup catalog resources to avoid sprawl</li></ul></li><li><p>Ten DevOps myths:</p><ul><li>DevOps Is Only for â€œBorn on the Webâ€ Shops</li><li>DevOps Is Operations Learning How to Code</li><li>DevOps Is Just for Development and Operations</li><li>DevOps Isnâ€™t for ITIL Shops</li><li>DevOps Isnâ€™t for Regulated Industries</li><li>DevOps Isnâ€™t for Outsourced Development</li><li>No Cloud Means No DevOps</li><li>DevOps Isnâ€™t for Large, Complex Systems</li><li>DevOps Is Only about Communication</li><li>DevOps Means Continuous Change Deployment</li></ul></li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å…³é”®è¯&quot;&gt;&lt;a href=&quot;#å…³é”®è¯&quot; class=&quot;headerlink&quot; title=&quot;å…³é”®è¯&quot;&gt;&lt;/a&gt;å…³é”®è¯&lt;/h3&gt;&lt;p&gt;business-driven, people, practice, tools&lt;/p&gt;
&lt;h3 id=&quot;åŸåˆ™&quot;&gt;&lt;a href=&quot;#åŸåˆ™&quot; class=&quot;headerlink&quot; title=&quot;åŸåˆ™&quot;&gt;&lt;/a&gt;åŸåˆ™&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Develop and test against production-like systems &lt;/li&gt;
&lt;li&gt;Deploy with repeatable, reliable processes&lt;/li&gt;
&lt;li&gt;Monitor and validate operational quality&lt;/li&gt;
&lt;li&gt;Amplify feedback loops&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="è¯»ä¹¦ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>å¼‚æ­¥ç½‘ç»œç¼–ç¨‹</title>
    <link href="https://yikayiyo.github.io/2018/11/25/python%E5%BC%82%E6%AD%A5/"/>
    <id>https://yikayiyo.github.io/2018/11/25/python%E5%BC%82%E6%AD%A5/</id>
    <published>2018-11-25T08:14:00.000Z</published>
    <updated>2019-05-18T09:14:12.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å…³é”®è¯" class="heading-control"><a href="#å…³é”®è¯" class="headerlink" title="å…³é”®è¯"></a>å…³é”®è¯<a class="heading-anchor" href="#å…³é”®è¯" aria-hidden="true"></a></h3><p>åç¨‹ã€ç”Ÿæˆå™¨</p><h3 id="ç¬”è®°" class="heading-control"><a href="#ç¬”è®°" class="headerlink" title="ç¬”è®°"></a>ç¬”è®°<a class="heading-anchor" href="#ç¬”è®°" aria-hidden="true"></a></h3><ul><li><p>åç¨‹ï¼šåˆç§°ä½œCoroutineã€‚ä»å­—é¢ä¸Šæ¥ç†è§£ï¼Œå³ååŒè¿è¡Œçš„ä¾‹ç¨‹ï¼Œå®ƒæ˜¯æ¯”æ˜¯çº¿ç¨‹ï¼ˆthreadï¼‰æ›´ç»†é‡çº§çš„ç”¨æˆ·æ€çº¿ç¨‹ï¼Œç‰¹ç‚¹æ˜¯å…è®¸ç”¨æˆ·çš„ä¸»åŠ¨è°ƒç”¨å’Œä¸»åŠ¨é€€å‡ºï¼ŒæŒ‚èµ·å½“å‰çš„ä¾‹ç¨‹ç„¶åè¿”å›å€¼æˆ–å»æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œæ¥ç€è¿”å›åˆ°åŸæ¥åœä¸‹çš„ç‚¹ç»§ç»­æ‰§è¡Œ</p></li><li><p>æœ‰æ—¶é—´å†å†™ã€‚ã€‚ã€‚</p></li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;å…³é”®è¯&quot; class=&quot;heading-control&quot;&gt;&lt;a href=&quot;#å…³é”®è¯&quot; class=&quot;headerlink&quot; title=&quot;å…³é”®è¯&quot;&gt;&lt;/a&gt;å…³é”®è¯&lt;a class=&quot;heading-anchor&quot; href=&quot;#å…³é”®è¯&quot; aria-hidden=
      
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="python" scheme="https://yikayiyo.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>word2vec + manage experiments</title>
    <link href="https://yikayiyo.github.io/2018/04/05/%E8%AF%8D%E5%90%91%E9%87%8F/"/>
    <id>https://yikayiyo.github.io/2018/04/05/%E8%AF%8D%E5%90%91%E9%87%8F/</id>
    <published>2018-04-05T14:30:10.000Z</published>
    <updated>2018-07-25T06:51:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>å…³é”®è¯ï¼šmodel base, variable sharing, model sharing</p><h4 id="word2vec" class="heading-control"><a href="#word2vec" class="headerlink" title="word2vec"></a>word2vec<a class="heading-anchor" href="#word2vec" aria-hidden="true"></a></h4><ul><li>æ–‡æœ¬çš„åˆ†å¸ƒå¼è¡¨ç¤ºæ˜¯è®¸å¤šè‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡çš„åŸºç¡€</li><li>word2vecæ˜¯ç”¨æ¥ç”Ÿæˆè¯è¯­åˆ†å¸ƒå¼è¡¨ç¤ºçš„ä¸€ç»„æ¨¡å‹</li><li>ä¸»è¦æœ‰ä¸¤ç§æ¨¡å‹ï¼šskip-gramå’ŒCBOW</li><li>ç®—æ³•è§’åº¦ï¼šCBOWæ¨¡å‹ä»ä¸Šä¸‹æ–‡è¯é¢„æµ‹ç›®æ ‡è¯ï¼Œskip-gramæ¨¡å‹ä»ç›®æ ‡è¯é¢„æµ‹ä¸Šä¸‹æ–‡è¯<a id="more"></a></li><li>ç»Ÿè®¡è§’åº¦ï¼šCBOWæ¨¡å‹å°†an entire context as one observationï¼Œè¿™æ ·åšsmoothes overäº†è®¸å¤šåˆ†å¸ƒä¿¡æ¯ï¼Œé€‚åˆå°ä¸€äº›çš„æ•°æ®é›†ä¸Šï¼›skip-gramæ¨¡å‹åˆ™æ˜¯å°†<strong>each</strong> context-target pair as a new observationï¼Œåœ¨larger datasetsä¸Šè¡¨ç°æ›´å¥½</li><li>è®­ç»ƒè¯å‘é‡ï¼šå®šä¹‰ä¸€ä¸ªå•å±‚ç½‘ç»œï¼Œä»»åŠ¡æ˜¯ç»™å®šä¸­å¿ƒè¯é¢„æµ‹è¯å…¸ä¸­çš„è¯ä½œä¸ºä¸Šä¸‹æ–‡è¯çš„æ¦‚ç‡ï¼Œæˆ‘ä»¬æœ€åè¦çš„æ˜¯éšå«å±‚çš„æƒé‡å‚æ•°</li><li>ä½¿ç”¨ softmax æ¥è·å¾—å¯èƒ½çš„ç›®æ ‡è¯çš„åˆ†å¸ƒï¼Œåˆ†æ¯è¦å¯¹å­—å…¸ä¸­çš„æ‰€æœ‰è¯å–æŒ‡æ•°å†æ±‚å’Œï¼Œè®¡ç®—æ˜¯ç“¶é¢ˆ</li><li>è§„é¿ç“¶é¢ˆçš„æ–¹æ³•ï¼šå±‚æ¬¡åŒ–çš„softmax å’ŒåŸºäºé‡‡æ ·çš„ softmax </li><li>æ–‡ç« <strong>Distributed Representations of Words and Phrases and their Compositionality </strong>æŒ‡å‡ºï¼Œè®­ç»ƒskip-gramæ¨¡å‹æ—¶ï¼Œä¸æ›´å¤æ‚çš„åˆ†å±‚softmaxç›¸æ¯”ï¼Œè´Ÿé‡‡æ ·å¯ä»¥åŠ å¿«è®­ç»ƒé€Ÿåº¦ï¼Œä¸ºé¢‘ç¹è¯æ±‡æä¾›æ›´å¥½çš„å‘é‡è¡¨ç¤º</li><li>è´Ÿé‡‡æ ·å®é™…ä¸Šæ˜¯ä¸€ç§ç§°ä¸ºå™ªå£°å¯¹æ¯”ä¼°è®¡ï¼ˆNCEï¼‰çš„ç®€åŒ–æ¨¡å‹ï¼ŒåŸºäºå‡è®¾ï¼Œå¦‚å™ªå£°æ ·æœ¬çš„æ•°é‡kå’Œå™ªå£°æ ·æœ¬çš„åˆ†å¸ƒQæ»¡è¶³kQ(w) = 1ï¼Œæ¥ç®€åŒ–è®¡ç®—ï¼›ç†è®ºä¸Šä¸èƒ½ä¿è¯å…¶å¯¼æ•°å’Œsoftmaxæ¢¯åº¦ä¸€è‡´</li><li>NCEåˆ™éšç€noiseæ ·æœ¬å¢å¤šï¼Œæä¾›äº†è¿™ç§ä¿è¯</li><li>è´Ÿé‡‡æ ·å’ŒNCEåªåœ¨è®­ç»ƒæ—¶æœ‰ç”¨</li></ul><h4 id="Implementing" class="heading-control"><a href="#Implementing" class="headerlink" title="Implementing"></a>Implementing<a class="heading-anchor" href="#Implementing" aria-hidden="true"></a></h4><ul><li>è¯çš„indicesä½œä¸ºè¾“å…¥ï¼ˆä¸€ä¸ªscalarï¼‰ï¼Œ</li><li>BATCH_SIZEçš„æ ·æœ¬ï¼Œè¾“å…¥ç»´åº¦ä¸º[BATCH_SIZE]ï¼Œè¾“å‡ºç»´åº¦ä¸º[BATCH_SIZE,1]</li><li>è¯å‘é‡çŸ©é˜µç»´åº¦ä¸º[VOCAB_SIZE,EMBED_SIZE]ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªè¯å‘é‡</li><li>åˆ©ç”¨tf.nn.embedding_lookup()æ‰¾ä¸­å¿ƒè¯å¯¹åº”çš„å‘é‡ï¼Œå…å»äº†ä¸å¿…è¦çš„è®¡ç®—ï¼ˆmatrix and onehot vectorï¼‰</li><li>lossä½¿ç”¨tf.nn.nce_loss()ï¼Œoptimizerä½¿ç”¨GradientDescentOptimizer</li></ul><h4 id="Structure-TF-models" class="heading-control"><a href="#Structure-TF-models" class="headerlink" title="Structure TF models"></a>Structure TF models<a class="heading-anchor" href="#Structure-TF-models" aria-hidden="true"></a></h4><p>å®šä¹‰å›¾</p><ul><li>å¯¼å…¥æ•°æ®ï¼ˆplaceholder or tf.dataï¼‰</li><li>å®šä¹‰æƒé‡</li><li>å®šä¹‰æ¨¡å‹</li><li>å®šä¹‰æŸå¤±å‡½æ•°</li><li>å®šä¹‰ä¼˜åŒ–å™¨</li></ul><p>æ‰§è¡Œå›¾</p><ul><li>åˆå§‹åŒ–æ‰€æœ‰å˜é‡</li><li>åˆå§‹åŒ–è¿­ä»£å™¨æˆ–è€…feed inè®­ç»ƒæ•°æ®</li><li>æ•°æ®ç»è¿‡æ¨¡å‹å¾—åˆ°ç»“æœ</li><li>è®¡ç®—cost</li><li>è°ƒæ•´æ¨¡å‹å‚æ•°ä½¿å¾—costæœ€å°æˆ–è€…æœ€å¤§</li></ul><p>build model as a class in order to reuse easily.</p><h4 id="Variable-sharing" class="heading-control"><a href="#Variable-sharing" class="headerlink" title="Variable sharing"></a>Variable sharing<a class="heading-anchor" href="#Variable-sharing" aria-hidden="true"></a></h4><p>Name scope</p><p>å°†ç›¸å…³çš„opsæ”¾åœ¨ä¸€ä¸ªname_scopeä¸‹ï¼Œè¿™æ ·å¾—åˆ°çš„å›¾åœ¨TensorBoardä¸Šæ˜¯ä¸€å—ä¸€å—çš„ï¼Œæ›´åŠ æ•´æ´ã€‚<br>TensorBoardå›¾ä¸­ä¸‰ç§è¾¹ï¼š</p><ol><li>ç°å®è¾¹ï¼šæ•°æ®æµ</li><li>æ©™å®è¾¹ï¼šå‚è€ƒè¾¹ï¼Œop_lestå½±å“op_right</li><li>ç°è™šè¾¹ï¼šæ§åˆ¶ä¾èµ–è¾¹ï¼Œop_leftä¾èµ–äºop_right</li></ol><p>Variable scope</p><p>å’ŒName scopeä¸€æ ·éƒ½åˆ›å»ºäº†namespaceï¼Œè°ƒç”¨tf.variable_scope(â€œnameâ€)ä¼šéšå¼åœ°è°ƒç”¨tf.name_scope(â€œnameâ€)ï¼ŒVariable scopeä¸»è¦åŠŸèƒ½æ˜¯ä¿ƒè¿›å˜é‡å…±äº«ï¼ˆfacilitate variable sharing)<br>ä¸ºå®ç°å˜é‡å…±äº«:</p><ol><li>ä½¿ç”¨ <strong>tf.get_variable()</strong>,å®ƒä¼šåœ¨åˆ›å»ºå˜é‡ä¹‹å‰æ£€æŸ¥å…¶æ˜¯å¦å­˜åœ¨</li><li>å°†æ‰€ç”¨åˆ°çš„å˜é‡æ”¾åˆ°ä¸€ä¸ªVarScopeï¼Œå°†è¿™ä¸ªVarScopeè®¾ç½®ä¸ºå¯å¤ç”¨çš„ï¼ˆreusableï¼‰</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">fully_connected</span><span class="params">(x,output_dim,scope_name)</span>:</span> <span class="comment">#åŸºç¡€ç»„ä»¶ï¼šå…¨è¿æ¥å±‚</span></div><div class="line">    <span class="keyword">with</span> tf.variable_scope(scope_name):</div><div class="line">        w = tf.get_variable(<span class="string">"weights"</span>,[x.shape[<span class="number">1</span>],output_dim],initializer=tf.random_normal_initializer())</div><div class="line">        b = tf.get_variable(<span class="string">"bias"</span>,[output_dim],initializer= tf.constant_initializer(<span class="number">0.0</span>))</div><div class="line">        <span class="keyword">return</span> tf.matmul(x,w) + b</div><div class="line">        </div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">two_hidden_layer</span><span class="params">(x)</span>:</span>  <span class="comment">#ç½‘ç»œç»“æ„ï¼šä¸¤ä¸ªå…¨è¿æ¥å±‚</span></div><div class="line">    h1 = fully_connected(x,<span class="number">50</span>,<span class="string">'h1'</span>)</div><div class="line">    h2 = fully_connected(h1,<span class="number">10</span>,<span class="string">'h2'</span>)</div><div class="line">    </div><div class="line"><span class="keyword">with</span> tf.variable_scope(<span class="string">'two_layers'</span>) <span class="keyword">as</span> scope: <span class="comment">#è°ƒç”¨ç½‘ç»œï¼Œè¾“å…¥x1ï¼Œx2</span></div><div class="line">    logits1 = two_hidden_layer(x1)</div><div class="line">    scope.reuse_variables()</div><div class="line">    logits2 = two_hidden_layer(x2ï¼‰</div></pre></td></tr></tbody></table></figure><p>ä»¥ä¸Šä»£ç æ¨¡å¼ï¼ŒåŸºç¡€ç»„ä»¶å¯ä»¥å®šä¹‰æ›´å¤šï¼Œæ¯”å¦‚convï¼Œreluï¼Œç½‘ç»œç»“æ„å¯ä»¥æ›´å¤æ‚ï¼Œæ¯”å¦‚æ”¾ä¸€ä¸ªResNetï¼Œéå¸¸å®¹æ˜“scaleã€‚<br>ç”±äºä½¿ç”¨äº†å˜é‡å…±äº«ï¼Œå¤šæ¬¡ä¼ å…¥xï¼Œç½‘ç»œTensorBoardå›¾çš„å¤æ‚ç¨‹åº¦ä¸ä¼šçˆ†ç‚¸å¼å¢åŠ ã€‚</p><p>Graph collections</p><p>ä½¿ç”¨è¿™ä¸ªï¼Œå¯ä»¥è·å–æ»¡è¶³ä¸€å®šæ¡ä»¶çš„æ‰€æœ‰å˜é‡ï¼Œtf.get_collection(key,scope=None)<br>æ¯”å¦‚æ‰§è¡Œoptimizerçš„æ—¶å€™ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒä¼šè·å–key=tf.GraphKeys.TRAINABLE_VARIABLESçš„å˜é‡ï¼Œå³æ‰€æœ‰å¯è®­ç»ƒçš„å˜é‡ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥ä¼ å…¥æŒ‡å®šçš„ã€è¦è®­ç»ƒçš„å˜é‡<br>è·å–æŸä¸ªscopeä¸‹çš„æ‰€æœ‰å˜é‡ï¼Œtf.get_collection(tf.GraphKeys.GLOBAL_VARIABLES,scope=â€™scope_nameâ€™)<br>keyè¿˜æœ‰è®¸å¤šå…¶å®ƒçš„å€¼ï¼Œè§å®˜ç½‘ã€‚</p><h4 id="Manage-experiments" class="heading-control"><a href="#Manage-experiments" class="headerlink" title="Manage experiments"></a>Manage experiments<a class="heading-anchor" href="#Manage-experiments" aria-hidden="true"></a></h4><p>å®éªŒæ€»æ˜¯å¾ˆä¹…ï¼Œä¸­æ–­éšæ—¶å‘ç”Ÿï¼Œå› æ­¤è®­ç»ƒå¯ä»¥éšæ—¶éšåœ°åœæ­¢ã€åƒæ²¡äº‹ä¸€æ ·æ¢å¤ï¼Œéå¸¸é‡è¦ã€‚<br>å¦å¤–ä¸€ä¸ªé—®é¢˜æ˜¯è®ºæ–‡ç»“æœå¤ç°ï¼Œæ§åˆ¶å®éªŒçš„éšæœºå› å­å¯¹å¤ç°ç»“æœéå¸¸å…³é”®ã€‚</p><p>tf.train.Saver()</p><p><strong>å‘¨æœŸæ€§åœ°ä¿å­˜æ¨¡å‹å‚æ•°</strong>æ˜¯ä¸ªå¥½ä¹ æƒ¯<br>tf.train.Saver()ç±»å°†å›¾çš„<strong>å˜é‡ä¿å­˜</strong>ï¼ˆä¸æ˜¯æ•´å¼ å›¾ï¼‰åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªcheckpointï¼ˆå˜é‡ååˆ°tensorsçš„æ˜ å°„ï¼‰</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#å®šä¹‰æ¨¡å‹</span></div><div class="line">...</div><div class="line">global_steps = tf.Variable(<span class="number">0</span>, trainable=<span class="keyword">False</span>ï¼Œname=<span class="string">'global_steps'</span>)</div><div class="line">optimizer = tf.train.GradientDescentOptimizer(lr).minimize(loss,global_step=global_steps)</div><div class="line"><span class="comment">#åˆ›å»ºä¸€ä¸ªsaverå¯¹è±¡</span></div><div class="line">saver = tf.train.Saver()</div><div class="line"></div><div class="line"><span class="comment">#å¯åŠ¨ä¸€ä¸ªä¼šè¯æ¥æ‰§è¡Œè®¡ç®—</span></div><div class="line"><span class="keyword">with</span> tf.session() <span class="keyword">as</span> sess:</div><div class="line"><span class="keyword">for</span> step <span class="keyword">in</span> range(<span class="number">1</span>,training_steps):</div><div class="line">        sess.run([optimizer]) <span class="comment">#global_stepä¼šåœ¨æ¯ä¸€æ­¥è®­ç»ƒåè‡ªåŠ 1</span></div><div class="line">        <span class="keyword">if</span> step%<span class="number">1000</span>==<span class="number">0</span>:</div><div class="line">            <span class="comment">#è¿™é‡Œä¼ å…¥stepä¹Ÿå·®ä¸å¤šå§...é»˜è®¤ä¿å­˜å›¾ä¸­æ‰€æœ‰å˜é‡</span></div><div class="line">            saver.save(sess,<span class="string">'checkpoints/model-name'</span>,global_step=global_steps)</div></pre></td></tr></tbody></table></figure><p>ç”Ÿæˆçš„checkpointåï¼Œåƒè¿™æ ·ï¼Œâ€™checkpoints/skip-gram-10000â€™<br>åœ¨æ¢å¤æ¨¡å‹æ—¶å¯ä»¥ç›´æ¥ä¼ å…¥checkpointåï¼ˆå¦‚æœæœ‰çš„è¯</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ckpt = tf.train.get_checkpoint_state(os.path.dirname(<span class="string">'checkpoints/model-name'</span>))</div><div class="line"><span class="keyword">if</span> ckpt <span class="keyword">and</span> ckpt.model_checkpoint_path:</div><div class="line">    saver.restore(sess,ckpt.model_checkpoint_path) <span class="comment">#æ¢å¤çš„æ˜¯æœ€è¿‘çš„ä¸€ä¸ªcheck point</span></div></pre></td></tr></tbody></table></figure><p>æ¢å¤çš„æ—¶å€™ï¼Œç½‘ç»œå›¾è¿˜å¾—è‡ªå·±é‡æ–°æ­ï¼ˆstill have to create the graph ourselvesï¼‰ä¹‹åå†åŠ è½½å˜é‡<br>å½“ç„¶ï¼Œç»å¸¸çš„åšæ³•æ˜¯åˆ°ç›®å‰ä¸ºæ­¢è¡¨ç°æœ€å¥½çš„å‚æ•°ä¹Ÿä¿å­˜ä¸‹æ¥ï¼ˆä¸æ­¢æ˜¯æœ€è¿‘çš„ä¸€æ¬¡ï¼‰</p><p>tf.summary</p><p>è®°å½•æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­æŒ‡æ ‡å˜åŒ–ï¼ŒåŒ…æ‹¬lossï¼Œaccuracyç­‰ç­‰</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#åˆ›å»ºsummaries</span></div><div class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">"summaries"</span>):</div><div class="line">    tf.summary.scalar(<span class="string">"loss"</span>,loss)</div><div class="line">    tf.summary.histogram(<span class="string">"histogram loss"</span>,loss)</div><div class="line">    tf.summary.scalar(<span class="string">"accuracy"</span>,accuracy)</div><div class="line">    summary_op = tf.summary.merge_all()</div><div class="line"></div><div class="line"><span class="comment">#æ‰§è¡Œsummary op</span></div><div class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</div><div class="line">    <span class="keyword">for</span> step <span class="keyword">in</span> range(steps):</div><div class="line">        _loss,_,summary = sess.run([model.loss,model.optimizer,model.summary_op],feed_dict={...})</div><div class="line">        writer = tf.summary.FileWriter(<span class="string">'path'</span>+str(lr),sess.graph) <span class="comment">#å°†lrå†™å…¥è·¯å¾„ï¼Œæ–¹ä¾¿tensorboardå¯¹æ¯”</span></div><div class="line">        writer.add(summary,global_step=step) <span class="comment">#è®°å½•æ¯ä¸€ä¸ªstepçš„summary</span></div><div class="line">    writer.close()</div></pre></td></tr></tbody></table></figure><p>control randomization</p><p>ä¸ºäº†ä½¿å¾—åˆ«äººåœ¨å®éªŒæ—¶ç»“æœä¼šä¸ä½ ä¸€è‡´</p><ol><li><p>opçº§åˆ«<br>æ‰€æœ‰çš„tensoråˆå§‹åŒ–æ—¶éƒ½ä¼ å…¥seedå‚æ•°<br>sessionè®°å½•äº†éšæœºçŠ¶æ€ï¼Œæ¯ä¸€ä¸ªæ–°çš„sessionéƒ½ä¼šé‡æ–°start the random state</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">c = tf.random_uniform([],<span class="number">-10</span>,<span class="number">10</span>,seed=<span class="number">2</span>)</div><div class="line">d = tf.random_uniform([],<span class="number">-10</span>,<span class="number">10</span>,seed=<span class="number">2</span>)</div><div class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</div><div class="line">    print(sess.run(c)) <span class="comment">#value: a</span></div><div class="line">    print(sess.run(d)) <span class="comment">#same value: a</span></div><div class="line">    print(sess.run(c)) <span class="comment">#value: b</span></div></pre></td></tr></tbody></table></figure></li><li><p>graphçº§åˆ«<br>æ¯”å¦‚demo1.pyå’Œdemo2.pyä»£ç ç›¸åŒï¼Œè®¾ç½®äº†tf.set_random_seed(seed)çš„è¯æ‰§è¡Œç»“æœæ˜¯ç›¸åŒçš„</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">tf.set_random_seed(<span class="number">2</span>)</div><div class="line">c = tf.random_uniform([],<span class="number">-10</span>,<span class="number">10</span>)</div><div class="line">d = tf.random_uniform([],<span class="number">-10</span>,<span class="number">10</span>)</div><div class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</div><div class="line">    print(sess.run(c)) <span class="comment"># éƒ½æ˜¯a</span></div><div class="line">    print(sess.run(d)) <span class="comment"># éƒ½æ˜¯b</span></div></pre></td></tr></tbody></table></figure></li></ol><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…³é”®è¯ï¼šmodel base, variable sharing, model sharing&lt;/p&gt;
&lt;h4 id=&quot;word2vec&quot;&gt;&lt;a href=&quot;#word2vec&quot; class=&quot;headerlink&quot; title=&quot;word2vec&quot;&gt;&lt;/a&gt;word2vec&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;æ–‡æœ¬çš„åˆ†å¸ƒå¼è¡¨ç¤ºæ˜¯è®¸å¤šè‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡çš„åŸºç¡€&lt;/li&gt;
&lt;li&gt;word2vecæ˜¯ç”¨æ¥ç”Ÿæˆè¯è¯­åˆ†å¸ƒå¼è¡¨ç¤ºçš„ä¸€ç»„æ¨¡å‹&lt;/li&gt;
&lt;li&gt;ä¸»è¦æœ‰ä¸¤ç§æ¨¡å‹ï¼šskip-gramå’ŒCBOW&lt;/li&gt;
&lt;li&gt;ç®—æ³•è§’åº¦ï¼šCBOWæ¨¡å‹ä»ä¸Šä¸‹æ–‡è¯é¢„æµ‹ç›®æ ‡è¯ï¼Œskip-gramæ¨¡å‹ä»ç›®æ ‡è¯é¢„æµ‹ä¸Šä¸‹æ–‡è¯&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="machine learning" scheme="https://yikayiyo.github.io/tags/machine-learning/"/>
    
      <category term="TensorFlow" scheme="https://yikayiyo.github.io/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>linear and logistic regression in TensorFlow</title>
    <link href="https://yikayiyo.github.io/2018/03/29/TensorFlow02/"/>
    <id>https://yikayiyo.github.io/2018/03/29/TensorFlow02/</id>
    <published>2018-03-29T03:37:22.000Z</published>
    <updated>2018-05-31T08:29:00.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Linear-Regression" class="heading-control"><a href="#Linear-Regression" class="headerlink" title="Linear Regression"></a>Linear Regression<a class="heading-anchor" href="#Linear-Regression" aria-hidden="true"></a></h3><h4 id="é—®é¢˜å®šä¹‰ï¼š" class="heading-control"><a href="#é—®é¢˜å®šä¹‰ï¼š" class="headerlink" title="é—®é¢˜å®šä¹‰ï¼š"></a>é—®é¢˜å®šä¹‰ï¼š<a class="heading-anchor" href="#é—®é¢˜å®šä¹‰ï¼š" aria-hidden="true"></a></h4><p>è®¾Xä¸ºç”Ÿè‚²ç‡ï¼ŒYä¸ºé¢„æœŸå¯¿å‘½ï¼Œèƒ½å¦æ‰¾åˆ°ä¸€ä¸ªçº¿æ€§å‡½æ•°fä½¿å¾—Y = f(X)ï¼Ÿ</p><img src="/2018/03/29/TensorFlow02/f1.png" alt="f1.png" title=""><a id="more"></a><p>æ•°æ®é›†æè¿°ï¼š</p><p>åç§°: Birth rate - life expectancy in 2010<br>X = ç”Ÿè‚²ç‡. Type: float.<br>Y = é¢„æœŸå¯¿å‘½. Type: foat.<br>æ•°æ®é‡: 190<br>æ•°æ®å½¢å¼: (X,Y)</p><h4 id="æ–¹æ³•1ï¼š" class="heading-control"><a href="#æ–¹æ³•1ï¼š" class="headerlink" title="æ–¹æ³•1ï¼š"></a>æ–¹æ³•1ï¼š<a class="heading-anchor" href="#æ–¹æ³•1ï¼š" aria-hidden="true"></a></h4><p><strong>å‡è®¾</strong>Xå’ŒYä¹‹é—´çš„å…³ç³»æ˜¯çº¿æ€§çš„ï¼Œè¿™æ„å‘³ç€æœ‰wå’Œbï¼Œæ»¡è¶³ï¼šY_pred = wX + b.<br>æœ¬ä¾‹ä¸­wï¼Œbéƒ½æ˜¯scalarï¼Œ</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">w = tf.get_variable(<span class="string">'weights'</span>,initializer=tf.constant(<span class="number">0.0</span>))</div><div class="line">b = tf.get_variable(<span class="string">'bias'</span>,initializer=tf.constant(<span class="number">0.0</span>))</div></pre></td></tr></tbody></table></figure><p>æŸå¤±å‡½æ•°ä½¿ç”¨å‡æ–¹è¯¯å·®</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Y_pred = w*X+b</div><div class="line">loss = tf.square(Y-Y_pred,name=<span class="string">'loss'</span>)</div></pre></td></tr></tbody></table></figure><p>å®Œæ•´ä»£ç ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</div><div class="line"><span class="keyword">import</span> utils</div><div class="line"></div><div class="line">DATA_FILE = <span class="string">"data/birth_life_2010.txt"</span></div><div class="line"></div><div class="line"><span class="comment"># Step 1: åŠ è½½æ•°æ®ï¼Œå½¢å¼ä¸ºï¼ˆ190ï¼Œ2ï¼‰çš„numpyæ•°ç»„ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªç‚¹</span></div><div class="line">data, n_samples = utils.read_birth_life_data(DATA_FILE)</div><div class="line"></div><div class="line"><span class="comment"># Step 2: åˆ›å»ºplaceholders</span></div><div class="line">X = tf.placeholder(tf.float32, name=<span class="string">'X'</span>)</div><div class="line">Y = tf.placeholder(tf.float32, name=<span class="string">'Y'</span>)</div><div class="line"></div><div class="line"><span class="comment"># Step 3: åˆ›å»ºå˜é‡ï¼Œåˆå§‹åŒ–ä¸º0</span></div><div class="line">w = tf.get_variable(<span class="string">'weights'</span>, initializer=tf.constant(<span class="number">0.0</span>))</div><div class="line">b = tf.get_variable(<span class="string">'bias'</span>, initializer=tf.constant(<span class="number">0.0</span>))</div><div class="line"></div><div class="line"><span class="comment"># Step 4: æ¨¡å‹</span></div><div class="line">Y_predicted = w * X + b </div><div class="line"></div><div class="line"><span class="comment"># Step 5: æŸå¤±å‡½æ•°</span></div><div class="line">loss = tf.square(Y - Y_predicted, name=<span class="string">'loss'</span>)</div><div class="line"></div><div class="line"><span class="comment"># Step 6: GDæœ€å°åŒ–loss</span></div><div class="line">optimizer = tf.train.GradientDescentOptimizer(learning_rate=<span class="number">0.001</span>).minimize(loss)</div><div class="line"> </div><div class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</div><div class="line"><span class="comment"># Step 7: å˜é‡åˆå§‹åŒ–</span></div><div class="line">sess.run(tf.global_variables_initializer()) </div><div class="line"></div><div class="line"><span class="comment"># Step 8: è®­ç»ƒ100å›</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>): <span class="comment"># run 100 epochs</span></div><div class="line"><span class="comment"># æ¯æ¬¡ä¼ å…¥ä¸€ä¸ªæ•°æ®ç‚¹ï¼Œäº‹å®ä¸Šï¼Œä½¿ç”¨batches of dataæ›´å¥½ä¸€ç‚¹ã€‚</span></div><div class="line">        <span class="keyword">for</span> x, y <span class="keyword">in</span> data:</div><div class="line"><span class="comment"># Session runs train_op to minimize loss</span></div><div class="line">sess.run(optimizer, feed_dict={X: x, Y:y}) </div><div class="line"></div><div class="line"><span class="comment"># Step 9: output the values of w and b</span></div><div class="line">w_out, b_out = sess.run([w, b])</div></pre></td></tr></tbody></table></figure><p>ç»“è®ºï¼š<br>ç»è¿‡100æ¬¡è®­ç»ƒåï¼Œå¹³å‡æŸå¤±ä¸º30.04ï¼Œw = -6.07ï¼Œb = 84.93ã€‚<br>è¿™è¯å®äº†æˆ‘ä»¬çš„å‡è®¾ï¼Œå³å‡ºç”Ÿç‡ä¸ä¸€ä¸ªå›½å®¶äººå£çš„é¢„æœŸå¯¿å‘½ä¹‹é—´å­˜åœ¨è´Ÿç›¸å…³å…³ç³»ã€‚ ä½†æ˜¯ï¼Œè¿™å¹¶ä¸æ„å‘³ç€å¤šä¸€ä¸ªå­©å­ä¼šå‡å°‘6å¹´çš„å¯¿å‘½ã€‚</p><h4 id="æ–¹æ³•2ï¼š" class="heading-control"><a href="#æ–¹æ³•2ï¼š" class="headerlink" title="æ–¹æ³•2ï¼š"></a>æ–¹æ³•2ï¼š<a class="heading-anchor" href="#æ–¹æ³•2ï¼š" aria-hidden="true"></a></h4><p>å‡è®¾Xå’ŒYæ»¡è¶³ï¼šY_pred = wX^2 + uX + b</p><p>åªéœ€ä¿®æ”¹éƒ¨åˆ†ä»£ç ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Step 3: åˆ›å»ºå˜é‡ï¼Œåˆå§‹åŒ–ä¸º0</span></div><div class="line">w = tf.get_variable(<span class="string">'weights_1'</span>, initializer=tf.constant(<span class="number">0.0</span>))</div><div class="line">u = tf.get_variable(<span class="string">'weights_2'</span>, initializer=tf.constant(<span class="number">0.0</span>))</div><div class="line">b = tf.get_variable(<span class="string">'bias'</span>, initializer=tf.constant(<span class="number">0.0</span>))</div><div class="line"></div><div class="line"><span class="comment"># Step 4: æ¨¡å‹</span></div><div class="line">Y_predicted = w * X * X + X * u + b</div></pre></td></tr></tbody></table></figure><p>ç”±äºå¹³æ–¹æŸå¤±ä¼šç»™ç¦»ç¾¤ç‚¹å¤ªå¤šçš„æƒé‡ï¼Œè¿™é‡ŒæŸå¤±å‡½æ•°è€ƒè™‘ä½¿ç”¨Huber lossï¼š</p><img src="/2018/03/29/TensorFlow02/f2.png" alt="f2.png" title=""><p>tensorflowæä¾›äº†ä¸€äº›æ§åˆ¶æµæ“ä½œï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># å…·ä½“å®ç°</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">huber_loss</span><span class="params">(labels, predictions, delta=<span class="number">14.0</span>)</span>:</span></div><div class="line">    residual = tf.abs(labels - predictions)</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span> <span class="keyword">return</span> <span class="number">0.5</span> * tf.square(residual)</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f2</span><span class="params">()</span>:</span> <span class="keyword">return</span> delta * residual - <span class="number">0.5</span> * tf.square(delta)</div><div class="line">    <span class="keyword">return</span> tf.cond(residual &lt; delta, f1, f2)</div></pre></td></tr></tbody></table></figure><p>æœ€åç»“æœä¸ºï¼š<strong>w: -5.883589, b: 85.124306.</strong></p><h4 id="which-one-is-betterï¼Ÿ" class="heading-control"><a href="#which-one-is-betterï¼Ÿ" class="headerlink" title="which one is betterï¼Ÿ"></a>which one is betterï¼Ÿ<a class="heading-anchor" href="#which-one-is-betterï¼Ÿ" aria-hidden="true"></a></h4><p>we do need test data setï¼ï¼ï¼</p><h3 id="tf-data" class="heading-control"><a href="#tf-data" class="headerlink" title="tf.data"></a>tf.data<a class="heading-anchor" href="#tf-data" aria-hidden="true"></a></h3><p>ä½¿ç”¨placeholderå’Œfeed_dictsçš„å¥½å¤„æ˜¯å°†æ•°æ®å¤„ç†ä¸TensorFlowåˆ†ç¦»ï¼Œä½¿ç”¨pythonå°±å¯ä»¥è½»æ¾åœ°shuffle, batch, generate arbitrary data. ä¸å¥½çš„åœ°æ–¹æ˜¯ï¼Œæ•°æ®å¤„ç†çš„çº¿ç¨‹å¾ˆæœ‰å¯èƒ½æ˜¯ç“¶é¢ˆï¼Œä½¿æ•´ä¸ªç¨‹åºslow downã€‚</p><p>ä½¿ç”¨é˜Ÿåˆ—ä¹Ÿæ˜¯TFä¸­å¤„ç†æ•°æ®çš„ä¸€ä¸ªé€‰é¡¹ï¼Œé˜Ÿåˆ—å…è®¸pipeliningã€threadingæ“ä½œï¼Œå‡å°‘äº†æ•°æ®åŠ è½½åˆ°placeholdersçš„æ—¶é—´ï¼Œä½†æ˜¯éš¾ä»¥ä½¿ç”¨ä¸”å®¹æ˜“å´©æºƒã€‚</p><p>tf.dataæ¯”placeholderæ›´å¿«ï¼Œæ¯”é˜Ÿåˆ—æ›´å®¹æ˜“ä½¿ç”¨ï¼Œè€Œä¸”ä¸ä¼šcrashã€‚</p><p>æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªtf.data.Datasetå¯¹è±¡ä¸­ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªnon-TensorFLowå¯¹è±¡ï¼ˆnumpy arrayï¼‰</p><h4 id="tf-dataåŸºæ“ï¼š" class="heading-control"><a href="#tf-dataåŸºæ“ï¼š" class="headerlink" title="tf.dataåŸºæ“ï¼š"></a>tf.dataåŸºæ“ï¼š<a class="heading-anchor" href="#tf-dataåŸºæ“ï¼š" aria-hidden="true"></a></h4><ol><li><p>åˆ›å»ºDataSet</p><ol><li><p>ä»tensoråˆ›å»º</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># features,labelséƒ½æ˜¯tensorsï¼Œä¹Ÿå¯ä»¥æ˜¯numpy arrays</span></div><div class="line">tf.data.DataSet.from_tensor_slice((features,labels))</div></pre></td></tr></tbody></table></figure></li><li><p>ä»fileåˆ›å»º</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># æ–‡ä»¶æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªæ•°æ®ï¼Œä¾‹å¦‚csvæ–‡ä»¶</span></div><div class="line">tf.data.TextLineDataset(filenames)</div><div class="line"><span class="comment"># æ¯ä¸€ä¸ªæ–‡ä»¶é•¿åº¦éƒ½å›ºå®šï¼Œæ¯”å¦‚éƒ½æ˜¯28*28çš„å›¾ç‰‡</span></div><div class="line">tf.data.FixedLengthRecordDataset([file1,file2,file3,file4,...])</div><div class="line"><span class="comment"># tfrecordæ ¼å¼ï¼Œï¼ˆè¿˜æ²¡ç”¨è¿‡</span></div><div class="line">tf.data.TFRecordDataset(filenames)</div></pre></td></tr></tbody></table></figure></li></ol></li><li><p>åˆ›å»ºIterator</p><p>å–datasetä¸­çš„æ•°æ®éœ€è¦ç”¨åˆ°è¿­ä»£å™¨</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># åªèƒ½éå†ä¸€é</span></div><div class="line">iterator = dataset.make_one_shot_iterator()</div><div class="line"><span class="comment"># å¤šæ¬¡åˆå§‹åŒ–ï¼Œå¤šæ¬¡éå†</span></div><div class="line">iterator = dataset.make_initializable_iterator()</div><div class="line"><span class="comment"># è¿”å›ä¸€ä¸ªæˆ–è€…ä¸€ç»„æ ·æœ¬</span></div><div class="line">iterator.get_next()</div></pre></td></tr></tbody></table></figure></li><li><p>è®­ç»ƒ</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">iterator = dataset.make_initializable_iterator()</div><div class="line">...</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>): </div><div class="line">        <span class="comment"># æ¯ä¸€ä¸ªepochéƒ½è¦åˆå§‹åŒ–iterator</span></div><div class="line">        sess.run(iterator.initializer) </div><div class="line">        total_loss = <span class="number">0</span></div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">                sess.run([optimizer]) </div><div class="line">        <span class="keyword">except</span> tf.errors.OutOfRangeError:</div><div class="line">            <span class="keyword">pass</span></div></pre></td></tr></tbody></table></figure></li></ol><h4 id="å…¶å®ƒæ“ä½œ" class="heading-control"><a href="#å…¶å®ƒæ“ä½œ" class="headerlink" title="å…¶å®ƒæ“ä½œ"></a>å…¶å®ƒæ“ä½œ<a class="heading-anchor" href="#å…¶å®ƒæ“ä½œ" aria-hidden="true"></a></h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#ç®€å•çš„å‘½ä»¤æ“ä½œdataset</span></div><div class="line">dataset = dataset.shuffle(<span class="number">1000</span>)</div><div class="line">dataset = dataset.repeat(<span class="number">100</span>)</div><div class="line">dataset = dataset.batch(<span class="number">128</span>)</div><div class="line">dataset = dataset.map(<span class="keyword">lambda</span> x: tf.one_hot(x, <span class="number">10</span>)) </div><div class="line"><span class="comment"># convert each element of dataset to one_hot vector</span></div></pre></td></tr></tbody></table></figure><h3 id="Logistic-Regression-with-MINIST" class="heading-control"><a href="#Logistic-Regression-with-MINIST" class="headerlink" title="Logistic Regression with MINIST"></a>Logistic Regression with MINIST<a class="heading-anchor" href="#Logistic-Regression-with-MINIST" aria-hidden="true"></a></h3><h4 id="ä¸€ä¸ªé—®é¢˜ï¼š" class="heading-control"><a href="#ä¸€ä¸ªé—®é¢˜ï¼š" class="headerlink" title="ä¸€ä¸ªé—®é¢˜ï¼š"></a>ä¸€ä¸ªé—®é¢˜ï¼š<a class="heading-anchor" href="#ä¸€ä¸ªé—®é¢˜ï¼š" aria-hidden="true"></a></h4><p>è¿™ä¸ªå®éªŒæœ‰å¤šä¸ªæ•°æ®é›†ï¼Œè®­ç»ƒé›†ã€éªŒè¯é›†å’Œæµ‹è¯•é›†ï¼Œå¦‚æœæ¯ä¸ªæ•°æ®é›†éƒ½æœ‰å„è‡ªçš„iteratorï¼Œé‚£æˆ‘ä»¬å°±å¾—ä¸ºæ¯ä¸€ä¸ªiteratoråˆ›å»ºä¸€ä¸ªgraphã€‚</p><p> ä¸ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªè¿­ä»£å™¨ï¼Œç”¨ä¸åŒçš„æ•°æ®åˆå§‹åŒ–å®ƒ</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">iterator = tf.data.Iterator.from_structure(train_data.output_types,</div><div class="line">                                           train_data.output_shapes)</div><div class="line"><span class="comment"># æ¯ä¸€ä¸ªepochçš„è®­ç»ƒå‰ï¼Œéƒ½è¦sess.run(train_init)</span></div><div class="line">train_init = iterator.make_initializer(train_data)</div><div class="line">test_init = iterator.make_initializer(test_data)</div></pre></td></tr></tbody></table></figure><p><a href="https://github.com/yikayiyo/stanford-tensorflow-tutorials/blob/master/examples/03_logreg.py" target="_blank" rel="external">å®Œæ•´ä»£ç </a>, tensorboardå›¾ç¤ºå¦‚ä¸‹ï¼š</p><img src="/2018/03/29/TensorFlow02/f3.png" alt="f3.png" title=""><p>ä¸‹ä¸€æ­¥ï¼Œå°è¯•å°†è¿™ä¸ªgraphæ”¹é€ å¾—æœ‰æ¡ç†ä¸€äº›ã€‚</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Linear-Regression&quot;&gt;&lt;a href=&quot;#Linear-Regression&quot; class=&quot;headerlink&quot; title=&quot;Linear Regression&quot;&gt;&lt;/a&gt;Linear Regression&lt;/h3&gt;&lt;h4 id=&quot;é—®é¢˜å®šä¹‰ï¼š&quot;&gt;&lt;a href=&quot;#é—®é¢˜å®šä¹‰ï¼š&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜å®šä¹‰ï¼š&quot;&gt;&lt;/a&gt;é—®é¢˜å®šä¹‰ï¼š&lt;/h4&gt;&lt;p&gt;è®¾Xä¸ºç”Ÿè‚²ç‡ï¼ŒYä¸ºé¢„æœŸå¯¿å‘½ï¼Œèƒ½å¦æ‰¾åˆ°ä¸€ä¸ªçº¿æ€§å‡½æ•°fä½¿å¾—Y = f(X)ï¼Ÿ&lt;/p&gt;
&lt;img src=&quot;/2018/03/29/TensorFlow02/f1.png&quot; alt=&quot;f1.png&quot; title=&quot;&quot;&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="machine learning" scheme="https://yikayiyo.github.io/tags/machine-learning/"/>
    
      <category term="TensorFlow" scheme="https://yikayiyo.github.io/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>TensorFlow Ops</title>
    <link href="https://yikayiyo.github.io/2018/03/28/TensorFlow01/"/>
    <id>https://yikayiyo.github.io/2018/03/28/TensorFlow01/</id>
    <published>2018-03-28T01:37:22.000Z</published>
    <updated>2018-05-29T15:46:44.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ä¸€èˆ¬æµç¨‹ï¼š" class="heading-control"><a href="#ä¸€èˆ¬æµç¨‹ï¼š" class="headerlink" title="ä¸€èˆ¬æµç¨‹ï¼š"></a>ä¸€èˆ¬æµç¨‹ï¼š<a class="heading-anchor" href="#ä¸€èˆ¬æµç¨‹ï¼š" aria-hidden="true"></a></h4><h4 id="TFboyåŸºæ“ï¼š" class="heading-control"><a href="#TFboyåŸºæ“ï¼š" class="headerlink" title="TFboyåŸºæ“ï¼š"></a>TFboyåŸºæ“ï¼š<a class="heading-anchor" href="#TFboyåŸºæ“ï¼š" aria-hidden="true"></a></h4><ul><li>å®šä¹‰å›¾<a id="more"></a></li><li>åˆ›å»ºwriterï¼Œä¸¤ç§æ–¹å¼<ul><li>tf.get_default_graph()</li><li>sess.graph</li></ul></li><li>åˆ›å»ºsessionæ‰§è¡Œå›¾</li><li>å…³é—­writer</li><li>TensorBoardå¯è§†åŒ–</li></ul><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</div><div class="line"></div><div class="line">a = tf.constant(<span class="number">2</span>, name=<span class="string">'a'</span>)</div><div class="line">b = tf.constant(<span class="number">3</span>, name=<span class="string">'b'</span>)</div><div class="line">x = tf.add(a, b, name=<span class="string">'add'</span>)</div><div class="line"><span class="comment"># ç¬¬ä¸€ç§</span></div><div class="line">writer = tf.summary.FileWriter(<span class="string">'./graphs/low'</span>, tf.get_default_graph()) </div><div class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</div><div class="line">    <span class="comment"># ç¬¬äºŒç§</span></div><div class="line">    <span class="comment"># writer = tf.summary.FileWriter('./graphs', sess.graph) </span></div><div class="line">    print(sess.run(x))</div><div class="line">writer.close() <span class="comment"># close the writer when youâ€™re done using it</span></div></pre></td></tr></tbody></table></figure><p>writerä¼šå°†å›¾ï¼ˆåŒ…å«çš„å„ç§opsï¼‰ä»¥æ—¥å¿—æ–‡ä»¶çš„å½¢å¼å†™å…¥æŒ‡å®šç›®å½•ï¼Œtensorboardå¯ä»¥å°†è¿™äº›æ–‡ä»¶å¯è§†åŒ–å‡ºæ¥</p><p>ä¸Šé¢çš„ç¨‹åºæ¯è·‘ä¸€æ¬¡å°±ä¼šäº§ç”Ÿä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œä¸ç”¨çš„æ—¥å¿—åŠæ—¶åˆ é™¤</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ tensorboard --logdir='./graphs/low' --port=6006</div><div class="line">#æ³¨æ„è·¯å¾„ä¸è¦æé”™</div></pre></td></tr></tbody></table></figure><img src="/2018/03/28/TensorFlow01/ex1.png" alt="ex1.png" title=""><h4 id="æ²¡è®°ä½çš„" class="heading-control"><a href="#æ²¡è®°ä½çš„" class="headerlink" title="æ²¡è®°ä½çš„"></a>æ²¡è®°ä½çš„<a class="heading-anchor" href="#æ²¡è®°ä½çš„" aria-hidden="true"></a></h4><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">tf.fill([2,3],8) ===&gt; [[8,8,8],[8,8,8]]</div><div class="line">tf.lin_space(10.0,13.0,4,name=None) ===&gt;[10.0 11.0 12.0 13.0]</div><div class="line">#å„ç§åˆ†å¸ƒ</div><div class="line">tf.random_normal</div><div class="line">...</div><div class="line">#add multiple tensors</div><div class="line">tf.add_n([a,b,b]) ====&gt; a+b+b</div></pre></td></tr></tbody></table></figure><h4 id="å˜é‡" class="heading-control"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡<a class="heading-anchor" href="#å˜é‡" aria-hidden="true"></a></h4><h5 id="å˜é‡å®šä¹‰" class="heading-control"><a href="#å˜é‡å®šä¹‰" class="headerlink" title="å˜é‡å®šä¹‰"></a>å˜é‡å®šä¹‰<a class="heading-anchor" href="#å˜é‡å®šä¹‰" aria-hidden="true"></a></h5><p>è®­ç»ƒä¸­éœ€è¦æ›´æ–°çš„å‚æ•°å®šä¹‰ä¸ºå˜é‡</p><p>å¸¸é‡å­˜å‚¨åœ¨å›¾ä¸­ï¼Œå˜é‡åˆ™å¯èƒ½åœ¨parameter serverä¸Š</p><p>å¸¸é‡å äº†å¾ˆå¤šå­˜å‚¨æ—¶ï¼ŒåŠ è½½å›¾ä¼šå¾ˆæ…¢</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># old way</span></div><div class="line">tf.Variable(&lt;initial-value&gt;,name=&lt;optional-name&gt;)</div><div class="line"><span class="comment"># now</span></div><div class="line">tf.get_variable(...)</div><div class="line"><span class="comment"># å½“initializeræ—¶tf.constantæ—¶ï¼Œä¸éœ€è¦å‚æ•°shape</span></div><div class="line">s = tf.get_variable(<span class="string">"scalar"</span>, initializer=tf.constant(<span class="number">2</span>)) </div><div class="line">m = tf.get_variable(<span class="string">"matrix"</span>, initializer=tf.constant([[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>]]))</div><div class="line">W = tf.get_variable(<span class="string">"big_matrix"</span>, shape=(<span class="number">784</span>, <span class="number">10</span>), initializer=tf.zeros_initializer())</div></pre></td></tr></tbody></table></figure><h5 id="å˜é‡åˆå§‹åŒ–" class="heading-control"><a href="#å˜é‡åˆå§‹åŒ–" class="headerlink" title="å˜é‡åˆå§‹åŒ–"></a>å˜é‡åˆå§‹åŒ–<a class="heading-anchor" href="#å˜é‡åˆå§‹åŒ–" aria-hidden="true"></a></h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#ä¸€æ¬¡æ€§åˆå§‹åŒ–æ‰€æœ‰å˜é‡</span></div><div class="line">sess.run(tf.global_variables_initializer())</div><div class="line"><span class="comment">#åˆå§‹åŒ–éƒ¨åˆ†å˜é‡</span></div><div class="line">sess.run(tf.variables_initializer([a, b]))</div><div class="line"><span class="comment">#å•ç‹¬åˆå§‹åŒ–</span></div><div class="line">sess.run(W.initializer)</div><div class="line"><span class="comment">#ä»æ–‡ä»¶åŠ è½½</span></div><div class="line">Todo...</div></pre></td></tr></tbody></table></figure><h5 id="å˜é‡çš„å€¼" class="heading-control"><a href="#å˜é‡çš„å€¼" class="headerlink" title="å˜é‡çš„å€¼"></a>å˜é‡çš„å€¼<a class="heading-anchor" href="#å˜é‡çš„å€¼" aria-hidden="true"></a></h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ä¸¤ç§æ–¹å¼</span></div><div class="line">print(sess.run(W))</div><div class="line">print(W.eval())</div></pre></td></tr></tbody></table></figure><h5 id="å˜é‡èµ‹å€¼" class="heading-control"><a href="#å˜é‡èµ‹å€¼" class="headerlink" title="å˜é‡èµ‹å€¼"></a>å˜é‡èµ‹å€¼<a class="heading-anchor" href="#å˜é‡èµ‹å€¼" aria-hidden="true"></a></h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># èµ‹å€¼ä¼šå®Œæˆåˆå§‹åŒ–çš„å·¥ä½œ</span></div><div class="line">W.assign(<span class="number">100</span>)</div><div class="line"><span class="comment"># è‡ªå¢è‡ªå‡ä¸ä¼šåˆå§‹åŒ–å˜é‡</span></div><div class="line">W.assign_add(<span class="number">10</span>)</div><div class="line">W.assing_sub(<span class="number">2</span>)</div><div class="line"><span class="comment"># å˜é‡ä¾èµ–,ä½¿ç”¨initialized_value()ä¿è¯ç”¨Wçš„å€¼æ¥åˆå§‹åŒ–V</span></div><div class="line">V = tf.Variable(W.initialized_value()*<span class="number">2</span>)</div></pre></td></tr></tbody></table></figure><h4 id="æ§åˆ¶ä¾èµ–" class="heading-control"><a href="#æ§åˆ¶ä¾èµ–" class="headerlink" title="æ§åˆ¶ä¾èµ–"></a>æ§åˆ¶ä¾èµ–<a class="heading-anchor" href="#æ§åˆ¶ä¾èµ–" aria-hidden="true"></a></h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># g has 5 ops: a,b,c,d,e</span></div><div class="line"><span class="comment"># è¿˜æ²¡ç”¨åˆ°è¿‡</span></div><div class="line"><span class="keyword">with</span> g.control_dependencies([a,b,c]):</div><div class="line">    <span class="comment"># d,e only run after a,b,c have executed</span></div><div class="line">    d = ...</div><div class="line">    e = ...</div></pre></td></tr></tbody></table></figure><h4 id="æ•°æ®å¯¼å…¥" class="heading-control"><a href="#æ•°æ®å¯¼å…¥" class="headerlink" title="æ•°æ®å¯¼å…¥"></a>æ•°æ®å¯¼å…¥<a class="heading-anchor" href="#æ•°æ®å¯¼å…¥" aria-hidden="true"></a></h4><ol><li><p>old wayï¼šplaceholders and feed_dict</p><p>ä¾‹å¦‚ï¼Œå¯¹äºf(x,y) = 2x + yï¼Œx y å°±æ˜¯çœŸå®å€¼çš„å ä½ç¬¦</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#shape=None æ„å‘³ç€æ¥æ”¶ä»»æ„shapeçš„å¼ é‡</span></div><div class="line">tf.placeholder(dtype,shape=<span class="keyword">None</span>,name=<span class="keyword">None</span>)</div><div class="line"><span class="comment">#any tensors that are feedable can be fed</span></div><div class="line">tf.Graph.is_feedable(tensor)</div><div class="line"><span class="comment">#feed_dictå¯ä»¥ç”¨æ¥æµ‹è¯•æ¨¡å‹ï¼Œ</span></div><div class="line"><span class="comment">#ç›´æ¥ä¼ å…¥æŸäº›å€¼å…å»äº†å¤§é‡çš„è®¡ç®—</span></div><div class="line">a = tf.add(<span class="number">2</span>, <span class="number">5</span>)</div><div class="line">b = tf.multiply(a, <span class="number">3</span>)</div><div class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</div><div class="line">    print(sess.run(b))                                 <span class="comment"># &gt;&gt; 21</span></div><div class="line">    <span class="comment"># compute the value of b given the value of a is 15</span></div><div class="line">    print(sess.run(b, feed_dict={a: <span class="number">15</span>}))              <span class="comment"># &gt;&gt; 45</span></div></pre></td></tr></tbody></table></figure></li><li><p>new way: tf.data</p><p>[ ] todoâ€¦</p></li></ol><h4 id="lazy-loading" class="heading-control"><a href="#lazy-loading" class="headerlink" title="lazy loading"></a>lazy loading<a class="heading-anchor" href="#lazy-loading" aria-hidden="true"></a></h4><p>éœ€è¦è®¡ç®—opçš„æ—¶å€™æ‰åˆ›å»º</p><p>å› ä¸ºè®­ç»ƒç»å¤§æ•°æƒ…å†µéƒ½è¦è®¡ç®—å¤šæ¬¡ï¼Œæ‰€ä»¥lazy loadingä¼šäº§ç”Ÿå¤§é‡çš„å†—ä½™èŠ‚ç‚¹</p><p>è§£å†³åŠæ³•ï¼š</p><ol><li>å°½å¯èƒ½çš„å°†opsçš„å®šä¹‰å’Œè®¡ç®—åˆ†å¼€ï¼ˆä¸è¦åœ¨è®¡ç®—çš„æ—¶å€™åˆ›å»ºop</li><li>å½“ä½ å°†ç›¸å…³opsç»„åˆåœ¨ä¸€èµ·ï¼ˆæ¯”å¦‚ï¼Œ1ä¸­çš„æ­¥éª¤åœ¨ä¸€ä¸ªç±»é‡Œé¢ï¼‰å¯ä»¥ä½¿ç”¨pythonçš„@propertyæœºåˆ¶ç¡®ä¿æŸäº›åŠŸèƒ½åªæ‰§è¡Œä¸€æ¬¡ï¼ˆ!!!æœ‰å¾…ç ”ç©¶ï¼‰</li></ol><p>ç›¸å…³åšå®¢<a href="http://danijar.com/structuring-your-tensorflow-models/" target="_blank" rel="external">http://danijar.com/structuring-your-tensorflow-models/</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;ä¸€èˆ¬æµç¨‹ï¼š&quot;&gt;&lt;a href=&quot;#ä¸€èˆ¬æµç¨‹ï¼š&quot; class=&quot;headerlink&quot; title=&quot;ä¸€èˆ¬æµç¨‹ï¼š&quot;&gt;&lt;/a&gt;ä¸€èˆ¬æµç¨‹ï¼š&lt;/h4&gt;&lt;h4 id=&quot;TFboyåŸºæ“ï¼š&quot;&gt;&lt;a href=&quot;#TFboyåŸºæ“ï¼š&quot; class=&quot;headerlink&quot; title=&quot;TFboyåŸºæ“ï¼š&quot;&gt;&lt;/a&gt;TFboyåŸºæ“ï¼š&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;å®šä¹‰å›¾&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="machine learning" scheme="https://yikayiyo.github.io/tags/machine-learning/"/>
    
      <category term="TensorFlow" scheme="https://yikayiyo.github.io/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>sparql ç¬”è®°</title>
    <link href="https://yikayiyo.github.io/2018/03/26/sparql/"/>
    <id>https://yikayiyo.github.io/2018/03/26/sparql/</id>
    <published>2018-03-26T10:53:29.000Z</published>
    <updated>2018-05-29T01:00:14.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Jumping-Right-In" class="heading-control"><a href="#Jumping-Right-In" class="headerlink" title="Jumping Right In"></a>Jumping Right In<a class="heading-anchor" href="#Jumping-Right-In" aria-hidden="true"></a></h3><ul><li>FROMæŒ‡å®šçš„æ•°æ®é›†ä¼šè¢«è°ƒç”¨SPARQLå¤„ç†å™¨æ—¶æŒ‡å®šçš„æ•°æ®é›†è¦†ç›–ï¼ˆå¦‚æœéƒ½æŒ‡å®šäº†</li><li>RDFä¸æ˜¯æ•°æ®æ ¼å¼ï¼Œè€Œæ˜¯æ•°æ®æ¨¡å‹ï¼Œå®ƒå¯ä»¥é€‰æ‹©å­˜å‚¨æ•°æ®æ–‡ä»¶çš„è¯­æ³•</li><li>å¦‚æœæˆ‘ä»¬å°†æ•°æ®ä¸å…¶å®ƒæ•°æ®ç»“åˆèµ·æ¥ï¼Œé‚£ä¹ˆRDFä¸‰å…ƒç»„çš„ä¸»è¯­å’Œè°“è¯­éƒ½å¿…é¡»å±äºç‰¹å®šçš„åç§°ç©ºé—´ï¼Œä»¥é˜²æ­¢ç±»ä¼¼åç§°ä¹‹é—´çš„æ··æ·†ï¼Œäºæ˜¯æˆ‘ä»¬ä½¿ç”¨URIæ¥è¡¨ç¤ºå®ƒä»¬</li><li>å½“ä½¿ç”¨å®Œæ•´çš„URIæ—¶ï¼Œå°†å…¶æ”¾åœ¨å°–æ‹¬å·ä¸­ä»¥å‘å¤„ç†å™¨æ˜¾ç¤ºå®ƒæ˜¯ä¸€ä¸ªURI</li><li>åœ¨semantic webå¼€å‘ä¸­ï¼Œè¯æ±‡è¡¨æ˜¯ä¸€ç»„ä½¿ç”¨æ ‡å‡†æ ¼å¼å­˜å‚¨çš„æœ¯è¯­ï¼Œä¾›äººä»¬é‡å¤ä½¿ç”¨</li><li>å‘ç°ä¸åŒæ¥æºä¸‰å…ƒç»„ä¹‹é—´è”ç³»çš„èƒ½åŠ›æ˜¯SPARQLçš„æœ€ä½³ç‰¹æ€§ä¹‹ä¸€</li><li>çº¦å®šï¼šä¸»è°“å®¾åˆ†åˆ«ç”¨?s,?p,?oè¡¨ç¤º</li><li>åªæœ‰æ»¡è¶³å›¾æ¨¡å¼ä¸­æ‰€æœ‰ä¸‰å…ƒç»„çš„æ•°æ®æ‰ä¼šè¢«è¿”å›<a id="more"></a></li></ul><h3 id="The-Semantic-Web-RDF-and-Linked-Data-and-SPARQL" class="heading-control"><a href="#The-Semantic-Web-RDF-and-Linked-Data-and-SPARQL" class="headerlink" title="The Semantic Web,RDF,and Linked Data(and SPARQL)"></a>The Semantic Web,RDF,and Linked Data(and SPARQL)<a class="heading-anchor" href="#The-Semantic-Web-RDF-and-Linked-Data-and-SPARQL" aria-hidden="true"></a></h3><ul><li>the semantic web isnâ€™t about the query language or about the modelâ€”itâ€™s about the data</li><li>RDFä¸­åŸºæœ¬çš„ä¿¡æ¯å•å…ƒæ˜¯ä¸‰å…ƒç»„</li><li>å°†RDFä½œä¸ºä¸€ä¸²å­—èŠ‚ä¿å­˜åœ¨ç£ç›˜ä¸Šçš„æŠ€æœ¯æœ¯è¯­æ˜¯åºåˆ—åŒ–</li><li>RDFS gives people a way to describe vocabularies. It is itself a vocabulary with a schema whose triples declare facts.</li><li>Linked Dataï¼š<ul><li>Use URIs as names for things.</li><li>Use HTTP URIs so that people can look up those names.</li><li>When someone looks up a URI, provide useful information, using the standards (RDF*, SPARQL).</li><li>Include links to other URIs so that they can discover more things.</li></ul></li></ul><h3 id="SPARQL-Queries" class="heading-control"><a href="#SPARQL-Queries" class="headerlink" title="SPARQL Queries"></a>SPARQL Queries<a class="heading-anchor" href="#SPARQL-Queries" aria-hidden="true"></a></h3><p>ä»‹ç»SPARQLæŸ¥è¯¢è¯­è¨€æ›´å¤šæ›´æœ‰ç”¨çš„ç‰¹å¾</p><h4 id="More-Readable-Query-Results" class="heading-control"><a href="#More-Readable-Query-Results" class="headerlink" title="More Readable Query Results"></a>More Readable Query Results<a class="heading-anchor" href="#More-Readable-Query-Results" aria-hidden="true"></a></h4><ul><li><p><strong>åˆ†å·</strong>è¡¨ç¤ºæ¥ä¸‹æ¥çš„è°“è¯­-å®¾è¯­å¯¹ä¸ä¹‹å‰çš„å…±æœ‰ä¸€ä¸ªä¸»è¯­</p>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">SELECT ?first ?last</div><div class="line">WHERE</div><div class="line">{</div><div class="line">  ?person ab:firstName ?first;</div><div class="line">          ab:lastName  ?last.</div><div class="line">}</div></pre></td></tr></tbody></table></figure></li><li><p>ä½¿ç”¨é‚£äº›å¯è¯»æ€§å¼ºçš„å±æ€§ï¼Œæ¯”å¦‚æ ‡ç­¾ã€æè¿°ç­‰ç­‰ï¼ˆå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯URI</p></li><li><strong>rdfs:label</strong> æ˜¯ç¬¬ä¸€ä¸ªåº”è¯¥æ³¨æ„çš„å±æ€§ï¼Œåˆ«çš„ï¼Œ<strong>rdfs:comment</strong>,<strong>skos:prefLabel</strong>ï¼ˆé¦–é€‰æ ‡ç­¾ï¼‰,<strong>skos:altLabel</strong>ï¼ˆå¤‡é€‰æ ‡ç­¾ï¼‰</li><li>ç»™å®šçš„èµ„æºå¹¶ä¸æ€»å¿…é¡»æ˜¯ä¸»è¯­ã€è°“è¯­æˆ–è€…å®¾è¯­ï¼Œåœ¨ä¸åŒçš„ä¸‰å…ƒç»„ä¸­å®ƒå¯ä»¥æ˜¯ä¸åŒçš„ï¼ˆå¤šä¸ªï¼‰è§’è‰²</li></ul><h4 id="Data-That-Might-Not-Be-There" class="heading-control"><a href="#Data-That-Might-Not-Be-There" class="headerlink" title="Data That Might Not Be There"></a>Data That Might Not Be There<a class="heading-anchor" href="#Data-That-Might-Not-Be-There" aria-hidden="true"></a></h4><ul><li>å°†triple patternæ”¾å…¥åˆ°OPTIONAL graph patternsä¸­ï¼Œè¡¨ç¤ºâ€œå¦‚æœæœ‰çš„è¯ï¼Œæ£€ç´¢è¯¥å€¼â€</li><li>OPTIONAL{t1.t2.t3}åŒ…å«ä¸‰ä¸ªä¸‰å…ƒç»„ï¼Œè¿™äº›ä¸‰å…ƒç»„éœ€è¦åŒæ—¶æ»¡è¶³</li><li>OPTIONAL{t1} OPTIONAL{t2} OPTIONAL{t3}åˆ™æ˜¯ä¸‰ä¸ªç‹¬ç«‹çš„æ¡ä»¶</li><li>OPTIONAL graph patternsçš„é¡ºåºå¾ˆé‡è¦  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"># ä¼˜å…ˆä½¿ç”¨nickä½œä¸º?first</div><div class="line">SELECT ?first ?last</div><div class="line">WHERE</div><div class="line">{</div><div class="line">    ?s ab:lastName ?last.</div><div class="line">    OPTIONAL {?s ab:nick ?first}</div><div class="line">    OPTIONAL {?s ab:firstName ?first}</div><div class="line">}</div></pre></td></tr></tbody></table></figure></li></ul><h4 id="Finding-Data-That-Doesnâ€™t-Meet-Certain-Conditions" class="heading-control"><a href="#Finding-Data-That-Doesnâ€™t-Meet-Certain-Conditions" class="headerlink" title="Finding Data That Doesnâ€™t Meet Certain Conditions"></a>Finding Data That Doesnâ€™t Meet Certain Conditions<a class="heading-anchor" href="#Finding-Data-That-Doesnâ€™t-Meet-Certain-Conditions" aria-hidden="true"></a></h4><ul><li><p>SPARQL1.0</p>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># åˆ©ç”¨FILTERå’Œboundï¼Œ?væ²¡æœ‰ç»‘å®šå€¼æ—¶è¿”å›trueï¼Œç„¶åè¾“å‡º</div><div class="line">OPTIONAL {?s ?p ?v}</div><div class="line">FILTER(!bound(?v))</div></pre></td></tr></tbody></table></figure></li><li><p>SPARQL1.1</p>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># å½“æŒ‡å®šçš„patternä¸å­˜åœ¨æ—¶è¿”å›ture</div><div class="line">NOT EXISTS {?s ?p ?v}</div></pre></td></tr></tbody></table></figure>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#å¦ä¸€ç§æ–¹å¼ï¼Œå‡å»æ»¡è¶³patternçš„èµ„æºï¼ˆå¤šæ•°æƒ…å†µä¸‹è¡¨ç°ç›¸åŒ</div><div class="line">MINUS {?s ?p ?v}</div></pre></td></tr></tbody></table></figure></li></ul><h4 id="Serching-Futher-In-The-Data" class="heading-control"><a href="#Serching-Futher-In-The-Data" class="headerlink" title="Serching Futher In The Data"></a>Serching Futher In The Data<a class="heading-anchor" href="#Serching-Futher-In-The-Data" aria-hidden="true"></a></h4><ul><li>RDFä¸‰å…ƒç»„ä¸­çš„å¯¹è±¡å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–è€…URIï¼Œå­—ç¬¦ä¸²å€¼æ›´æ˜“è¯»ï¼Œä½†æ˜¯<strong>URIä½¿å¾—å°†è¯¥æ•°æ®å’Œå…¶å®ƒæ•°æ®é“¾æ¥èµ·æ¥æ›´åŠ å®¹æ˜“</strong></li><li>å¦‚æœä¸€ä¸ªæ•°æ®é›†ä¸­èµ„æºçš„URIå¯ä»¥å’Œå¦ä¸€ä¸ªæ•°æ®é›†ä¸­çš„URIå¯¹åº”èµ·æ¥ï¼Œå“ªæ€•æ•°æ®é›†æ¥è‡ªä¸åŒçš„åœ°æ–¹ï¼Œä¸æ¸…æ¥šç»„ç»‡å½¢å¼ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨SPARQLæŸ¥è¯¢åˆ°æ›´å¤šçš„ä¿¡æ¯</li><li><strong>é€—å·</strong>è¡¨ç¤ºâ€œæ¥ä¸‹æ¥çš„ä¸‰å…ƒç»„ä¸»è¯­è°“è¯­å’Œå‰ä¸€ä¸ªä¸‰å…ƒç»„çš„ç›¸åŒâ€</li><li>åˆ©ç”¨å±æ€§è·¯å¾„ï¼ˆproperty pathsï¼‰ï¼š  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"># å€ŸåŠ©æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¦å·+ï¼ˆone or moreï¼‰,è¿”å›ç›´æ¥å¼•ç”¨ã€é—´æ¥å¼•ç”¨äº†Açš„è®ºæ–‡</div><div class="line">SELECT ?s </div><div class="line">WHERE</div><div class="line">{?s c:cites+ :paperA.}</div><div class="line"># æŒ‡å®šå¼•ç”¨å±‚æ•°</div><div class="line">#{?s c:cites{3} :paperA.}</div><div class="line">#ç›¸åŒæ•ˆæœ</div><div class="line">#{?s c:cites/c:cites/c:cites :paperA.}</div><div class="line">#^è¡¨ç¤ºå–ç›¸å,è¿”å›Aå¼•ç”¨çš„æ–‡ç« </div><div class="line">#{?s ^c:cites :paperA.}</div><div class="line"># ^ç»“åˆproperty pathçš„ä¾‹å­ï¼šå¼•ç”¨äº†Få¼•ç”¨çš„æ–‡ç« çš„æ–‡ç« </div><div class="line">#{</div><div class="line">#    ?s c:cites/^c:cites :paperF .</div><div class="line">#    FILTER(?s != :paperF)</div><div class="line">#}</div></pre></td></tr></tbody></table></figure></li></ul><h4 id="Searching-With-Blank-Nodes" class="heading-control"><a href="#Searching-With-Blank-Nodes" class="headerlink" title="Searching With Blank Nodes"></a>Searching With Blank Nodes<a class="heading-anchor" href="#Searching-With-Blank-Nodes" aria-hidden="true"></a></h4><ul><li>ç©ºç™½èŠ‚ç‚¹çš„ä»»ä½•åç§°éƒ½æ˜¯ä¸´æ—¶çš„ï¼Œé€šå¸¸ä¼šç»™ä¸€ä¸ªå˜é‡å</li><li>è¿‡æ¸¡çš„ä¸œè¥¿ï¼Œç”¨æ¥é“¾æ¥ä¸‰å…ƒç»„</li><li>æœ€ç»ˆçš„selectåˆ—è¡¨ä¸­ä¸€èˆ¬ä¸åŒ…å«ç©ºç™½èŠ‚ç‚¹</li></ul><h4 id="Eliminating-Redundant-Output" class="heading-control"><a href="#Eliminating-Redundant-Output" class="headerlink" title="Eliminating Redundant Output"></a>Eliminating Redundant Output<a class="heading-anchor" href="#Eliminating-Redundant-Output" aria-hidden="true"></a></h4><ul><li>DISTINCTå…³é”®å­—</li><li>DISTINCTå…³é”®å­—ä¸ä¼šå¢åŠ æŸ¥è¯¢ç»“æ„çš„å¤æ‚æ€§ï¼ˆå°±æ˜¯åœ¨SELECTå†…å®¹å‰é¢åŠ ä¸ªDISTINCT</li></ul><h4 id="Combining-Different-Search-Conditions" class="heading-control"><a href="#Combining-Different-Search-Conditions" class="headerlink" title="Combining Different Search Conditions"></a>Combining Different Search Conditions<a class="heading-anchor" href="#Combining-Different-Search-Conditions" aria-hidden="true"></a></h4><ul><li>UNIONå…³é”®å­—ï¼šæŒ‡å®šå¤šä¸ªgraph patternsï¼Œè¿”å›æ»¡è¶³ä»»æ„ä¸€ä¸ªpatternçš„æ•°æ®çš„ç»„åˆ(a combination of all the data that fits any of those patterns) </li><li>æœ‰äº›SPARQLå¤„ç†å™¨åœ¨å…¶è¿”å›ç»“æœä¸­ä½¿ç”¨å£°æ˜çš„å‰ç¼€ï¼Œä½¿å¾—ç»“æœå¯è¯»æ€§æ›´å¼º</li></ul><h4 id="Filtering-Data-Based-On-Conditions" class="heading-control"><a href="#Filtering-Data-Based-On-Conditions" class="headerlink" title="Filtering Data Based On Conditions"></a>Filtering Data Based On Conditions<a class="heading-anchor" href="#Filtering-Data-Based-On-Conditions" aria-hidden="true"></a></h4><ul><li>FILTER() åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¡¨è¾¾å¼åªè¦è¿”å›çš„æ˜¯å¸ƒå°”å€¼å°±å¯ä»¥ä½œä¸ºå‚æ•°</li><li>RDFè§£æå™¨è¯»å…¥è¾“å…¥æ•°æ®æ—¶ï¼Œå®ƒå°†è¿™äº›å‰ç¼€æ˜ å°„åˆ°é€‚å½“çš„åç§°ç©ºé—´URIsï¼Œç„¶åå°†æ•°æ®äº¤ç»™æŸ¥è¯¢å¤„ç†å™¨</li><li>!isURI(?city): å¦‚æœ?cityä¸æ˜¯ä¸€ä¸ªæ­£å¸¸çš„URIï¼Œè¿”å›true</li><li>INå…³é”®å­—ï¼šæŸ¥è¯¢æŸä¸ªå˜é‡å±äºåˆ—è¡¨çš„ä¸‰å…ƒç»„ï¼ˆå‰é¢åŠ NOTå¯ä»¥è¡¨ç¤ºç›¸åçš„æ„æ€  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># ask for data where the ?v is either A or B</div><div class="line">FILTER(?v IN (A,B))</div></pre></td></tr></tbody></table></figure></li></ul><h4 id="Retrieving-A-Specific-Number-Of-Results" class="heading-control"><a href="#Retrieving-A-Specific-Number-Of-Results" class="headerlink" title="Retrieving A Specific Number Of Results"></a>Retrieving A Specific Number Of Results<a class="heading-anchor" href="#Retrieving-A-Specific-Number-Of-Results" aria-hidden="true"></a></h4><ul><li>LIMITå…³é”®å­—</li><li>æ”¾åœ¨èŠ±æ‹¬å·å¤–é¢</li><li>OFFSETå…³é”®å­—:è·³è¿‡å‡ ä¸ªç»“æœ</li></ul><h4 id="Querying-Named-Graphs" class="heading-control"><a href="#Querying-Named-Graphs" class="headerlink" title="Querying Named Graphs"></a>Querying Named Graphs<a class="heading-anchor" href="#Querying-Named-Graphs" aria-hidden="true"></a></h4><ul><li>å‘½åå›¾(named graph)ï¼šä¸ºä¸‰å…ƒç»„é›†åˆå‘½åï¼Œæ–¹ä¾¿ç®¡ç†ï¼ˆè¿›è¡Œæ›¿æ¢ä¹‹ç±»çš„æ“ä½œ</li><li><p>æŸ¥è¯¢çš„æ•°æ®é›†å¯ä»¥åœ¨æŸ¥è¯¢å†…éƒ¨ç”¨FROMæŒ‡å®šï¼Œä¹Ÿå¯ä»¥åœ¨å¤–éƒ¨åœ¨ARQå‘½ä»¤è¡Œä¸­æŒ‡å®šï¼Œåè€…ä¼šè¦†ç›–å‰è€…</p>  <figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> * </div><div class="line"><span class="keyword">FROM</span>&lt;xx.ttl&gt;</div><div class="line"><span class="keyword">FROM</span>&lt;yy.ttl&gt;</div><div class="line"><span class="keyword">WHERE</span></div><div class="line">{...}</div></pre></td></tr></tbody></table></figure></li><li><p>æŒ‡å®šçš„æŸ¥è¯¢æ•°æ®é›†æ„æˆäº†é»˜è®¤å›¾(default graph)ï¼Œå®ƒä¸å±äºä»»ä½•å‘½åå›¾</p></li><li><p>FROM NAMED :è¡¨ç¤ºæ•°æ®é›†ä¸ä¼šè¢«åŠ å…¥åˆ°é»˜è®¤å›¾ï¼ŒæŸ¥è¯¢æ—¶éœ€è¦æŒ‡å®šå…¶graph nameï¼ˆARQçš„çº¦å®šæ˜¯å°†URIä½œä¸ºå…¶nameï¼‰ï¼Œç¬¬å…­ç« ä¼šæœ‰SPARQL1.1æ ‡å‡†çš„ç›¸å…³å†…å®¹</p>  <figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> ?lname ?courseName</div><div class="line"><span class="keyword">FROM</span> &lt;ex069.ttl&gt;</div><div class="line"><span class="keyword">FROM</span> NAMED &lt;ex125.ttl&gt;</div><div class="line"><span class="keyword">FROM</span> NAMED &lt;ex122.ttl&gt; # å³ä½¿è¿™é‡Œå†™äº†ï¼Œå¦‚æœåœ¨æŸ¥è¯¢ä¸­æ²¡æœ‰æŒ‡å®šï¼ˆGRAPH &lt;ex125.ttl&gt;ï¼‰ï¼Œå…¶æ•°æ®ä¸ä¼šè¢«ç”¨æ¥æ£€ç´¢</div><div class="line"><span class="keyword">WHERE</span></div><div class="line">{</div><div class="line">    { ?student ab:lastName ?lname }</div><div class="line">    <span class="keyword">UNION</span></div><div class="line">    { GRAPH &lt;ex125.ttl&gt; { ?course ab:courseTitle ?courseName } }</div><div class="line">}</div></pre></td></tr></tbody></table></figure></li><li><p>GRAPHå…³é”®å­—ï¼šæŸ¥è¯¢ä¸­ä½¿ç”¨è¿™ä¸ªå…³é”®å­—è¡¨æ˜å¼•ç”¨ç‰¹å®šå‘½åå›¾ä¸­çš„æ•°æ®</p></li><li><p>GRAPHåé¢ä¹Ÿå¯ä»¥è·Ÿå˜é‡ï¼Œè®©SPARQLå¤„ç†å™¨å¯»æ‰¾æ»¡è¶³æŸä¸ªæ¨¡å¼çš„å›¾</p>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#è¿™é‡Œåªè®¾ç½®äº†ç‰¹å®šçš„å‘½åå›¾æ¥æŸ¥è¯¢ï¼Œå¦‚æœå­˜åœ¨é»˜è®¤å›¾ï¼Œåˆ™æ²¡æœ‰ä»»ä½•è¿”å›ç»“æœ</div><div class="line">SELECT *</div><div class="line">FROM NAMED &lt;yyy.ttl&gt;</div><div class="line">FROM NAMED &lt;xxx.ttl&gt;</div><div class="line">WHERE</div><div class="line">{GRAPH ?g(?s ?p ?o)}</div></pre></td></tr></tbody></table></figure></li><li><p>SPARQLå¤„ç†å™¨æœ‰ä¸€äº›é¢„å®šä¹‰çš„å‘½åå›¾ï¼Œå½“ä½ åœ¨GRAPHä¸­æŒ‡å®šæ—¶ä¸éœ€è¦äº‹å…ˆæ ‡è¯†</p>  <figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> ?graph ?email </div><div class="line"><span class="keyword">FROM</span> &lt;ex134.ttl&gt; </div><div class="line"><span class="keyword">FROM</span> NAMED &lt;ex125.ttl&gt; </div><div class="line"><span class="keyword">FROM</span> NAMED &lt;ex122.ttl&gt; </div><div class="line"><span class="keyword">WHERE</span> </div><div class="line">{</div><div class="line">    ?graph dc:<span class="built_in">date</span> <span class="string">"2011-09-24"</span> . </div><div class="line">    { GRAPH ?graph { ?s ab:email ?email } }</div><div class="line">}</div></pre></td></tr></tbody></table></figure></li></ul><h4 id="Queries-In-Your-Queries" class="heading-control"><a href="#Queries-In-Your-Queries" class="headerlink" title="Queries In Your Queries"></a>Queries In Your Queries<a class="heading-anchor" href="#Queries-In-Your-Queries" aria-hidden="true"></a></h4><ul><li>å­æŸ¥è¯¢ç‰¹å¾ï¼šå¯ä»¥å°†å¤æ‚çš„æŸ¥è¯¢ç»†åˆ†ï¼Œåˆå¯ä»¥å°†æ¥è‡ªä¸åŒæŸ¥è¯¢çš„ç»“æœåˆå¹¶</li><li>æ¯ä¸ªå­æŸ¥è¯¢å¿…é¡»æ”¾åˆ°è‡ªå·±çš„èŠ±æ‹¬å·ä¸­</li></ul><h4 id="Combining-Values-And-Assigning-Values-To-Variables" class="heading-control"><a href="#Combining-Values-And-Assigning-Values-To-Variables" class="headerlink" title="Combining Values And Assigning Values To Variables"></a>Combining Values And Assigning Values To Variables<a class="heading-anchor" href="#Combining-Values-And-Assigning-Values-To-Variables" aria-hidden="true"></a></h4><ul><li>sparqlæŸ¥è¯¢å‡ºæ¥çš„å€¼å¯ä»¥ç”¨äºæ•°å­¦è¿ç®—ï¼Œå‡½æ•°è°ƒç”¨</li><li><p>BINDå…³é”®å­—</p>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">#æ•°å­¦è¿ç®—çš„ä¾‹å­</div><div class="line">#è¿™é‡Œåˆ©ç”¨amountåˆ›å»ºäº†å˜é‡tipå’Œtotal</div><div class="line">SELECT ?description </div><div class="line">?amount </div><div class="line">((?amount * .2) AS ?tip) </div><div class="line">((?amount + ?tip) AS ?total)</div><div class="line">WHERE</div><div class="line">{</div><div class="line">    ?meal e:description ?description ;</div><div class="line">          e:amount ?amount .</div><div class="line">}</div></pre></td></tr></tbody></table></figure>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">#å‡½æ•°è°ƒç”¨çš„ä¾‹å­</div><div class="line">SELECT </div><div class="line">(UCASE(SUBSTR(?description,1,3))as ?mealCode) </div><div class="line">?amount </div><div class="line">WHERE</div><div class="line">{</div><div class="line">    ?meal e:description ?description ;</div><div class="line">          e:amount ?amount .</div><div class="line">}</div></pre></td></tr></tbody></table></figure>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">#æ”¹è¿›,expression calculation moved to a subquery,åˆ©ç”¨BINDå…³é”®å­—ä¸ºå˜é‡èµ‹å€¼</div><div class="line">SELECT ?mealCode ?amount</div><div class="line">WHERE</div><div class="line">{</div><div class="line">    ?meal e:description ?description ;</div><div class="line">          e:amount ?amount .</div><div class="line">    BIND (UCASE(SUBSTR(?description,1,3)) as ?mealCode)</div><div class="line">}</div></pre></td></tr></tbody></table></figure></li></ul><h4 id="Sorting-Aggregating-Finding-The-Biggest-And-Smallest-Andâ€¦" class="heading-control"><a href="#Sorting-Aggregating-Finding-The-Biggest-And-Smallest-Andâ€¦" class="headerlink" title="Sorting, Aggregating, Finding The Biggest And Smallest Andâ€¦"></a>Sorting, Aggregating, Finding The Biggest And Smallest Andâ€¦<a class="heading-anchor" href="#Sorting-Aggregating-Finding-The-Biggest-And-Smallest-Andâ€¦" aria-hidden="true"></a></h4><ul><li><p>SPARQLä½¿ç”¨<strong>ORDER BY</strong>æ¥æ’åºï¼ˆé»˜è®¤ä»å°åˆ°å¤§ï¼‰.</p>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"># æ ¹æ®amountæ’åº</div><div class="line">SELECT ?description ?date ?amount</div><div class="line">WHERE</div><div class="line">{</div><div class="line">    ?meal e:description ?description ;</div><div class="line">    e:date ?date ;</div><div class="line">    e:amount ?amount .</div><div class="line">}</div><div class="line">ORDER BY ?amount</div></pre></td></tr></tbody></table></figure></li><li><p>ä»å¤§åˆ°å°æ’åºï¼šåˆ©ç”¨DESC()ï¼Œæ‹¬å·é‡Œé¢æ˜¯æ’åºç”¨çš„æŒ‡æ ‡</p>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">#æ ¹æ®amountä»å¤§åˆ°å°æ’åº</div><div class="line">SELECT ?description ?date ?amount </div><div class="line">WHERE</div><div class="line">{</div><div class="line">    ?meal e:description ?description ;</div><div class="line">        e:date ?date ;</div><div class="line">        e:amount ?amount .</div><div class="line">}</div><div class="line">ORDER BY DESC(?amount)</div></pre></td></tr></tbody></table></figure></li><li><p>å¤šæ¡ä»¶æ’åºï¼Œå„ä¸ªæ¡ä»¶ç©ºæ ¼éš”å¼€</p>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"># å…ˆæ ¹æ®descriptionæ’åºï¼ˆå­—æ¯è¡¨ï¼‰ï¼Œå†æ ¹æ®amountä»å¤§åˆ°å°æ’åº</div><div class="line">SELECT ?description ?date ?amount </div><div class="line">WHERE</div><div class="line">{</div><div class="line">    ?meal e:description ?description ;</div><div class="line">        e:date ?date ;</div><div class="line">        e:amount ?amount .</div><div class="line">}</div><div class="line">ORDER BY ?description DESC(?amount)</div></pre></td></tr></tbody></table></figure></li><li><p>æ‰¾æœ€å€¼</p><ul><li>sparql1.0: å…ˆæ’åºï¼Œç„¶åLIMIT 1</li><li>sparql1.1: MAX(),MIN()</li></ul></li><li><p>å‡å€¼ï¼šAVG()</p>  <figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> (<span class="keyword">AVG</span>(?amount) <span class="keyword">as</span> ?avgAmount)</div><div class="line"><span class="keyword">WHERE</span></div><div class="line">{</div><div class="line">    ?meal e:amount ?amount .</div><div class="line">}</div></pre></td></tr></tbody></table></figure></li><li><p>æ±‚å’ŒSUM(),è®¡æ•°COUNT()</p></li><li><p>GROUP_CONCAT(): å°†å¾ˆå¤šæ•°æ®ç»‘å®šåˆ°ä¸€ä¸ªå˜é‡ï¼Œé»˜è®¤çš„åˆ†éš”ç¬¦æ˜¯ç©ºæ ¼</p>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># è¿”å›ä¸€ä¸ªamountlistï¼Œå½¢å¦‚â€œ25.05,10.00,6.65,31.45â€</div><div class="line">SELECT (GROUP_CONCAT(?amount;SEPARATOR = ',') AS amountlist)</div><div class="line">WHERE { ?meal e:amount ?amount.}</div></pre></td></tr></tbody></table></figure></li><li><p>GROUP BY: æ ¹æ®æŸå±æ€§åˆ†ç»„ï¼›ä»£å…¥SUM()å‡½æ•°å¯ä»¥æ±‚å’Œï¼Œç±»ä¼¼çš„ï¼Œå¯ä»¥ä»£å…¥åˆ«çš„å‡½æ•°</p>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># ç»Ÿè®¡æ—©ä¸­æ™šé¤æ€»æ•°</div><div class="line">SELECT ?description (SUM(?amount) AS ?meanTotal)</div><div class="line">WHERE</div><div class="line">{...}</div><div class="line">GROUP BY ?description</div></pre></td></tr></tbody></table></figure></li><li><p>HAVING å…³é”®å­—ï¼šé™å®šæ˜¾ç¤ºå‡ºæ¥çš„ç»“æœéœ€è¦æ»¡è¶³çš„æ¡ä»¶</p>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#æˆ‘ä»¬åªå¯¹æ€»æ•°è¶…è¿‡20çš„æ„Ÿå…´è¶£</div><div class="line">SELECT ?description (SUM(?amount) AS ?meanTotal)</div><div class="line">WHERE</div><div class="line">{...}</div><div class="line">GROUP BY ?description</div><div class="line">HAVING (SUM(?amount)&gt;20)</div></pre></td></tr></tbody></table></figure></li></ul><h4 id="Query-A-Remote-SPARQL-Service" class="heading-control"><a href="#Query-A-Remote-SPARQL-Service" class="headerlink" title="Query A Remote SPARQL Service"></a>Query A Remote SPARQL Service<a class="heading-anchor" href="#Query-A-Remote-SPARQL-Service" aria-hidden="true"></a></h4><ul><li><p>æŸ¥è¯¢è¿œç¨‹sparqlæœåŠ¡</p><ul><li><p>FROM å…³é”®å­—(RDF file)</p>  <figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> ?title</div><div class="line"><span class="keyword">FROM</span> &lt;xxx://xxx.xxx.xxxx/xxx&gt;</div><div class="line">{?s dc:title ?title}</div></pre></td></tr></tbody></table></figure></li><li><p>SERVICE å…³é”®å­—(SPARQL endpoint)</p>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"># åœ¨SPAERQL endpointè¿è¡ŒæŸ¥è¯¢å¾—åˆ°ä¸€äº›å†…å®¹ï¼Œå†è¿›è¡Œæ£€ç´¢è¿”å›ç»“æœ</div><div class="line">SELECT ?p ?o</div><div class="line">WHERE</div><div class="line">{</div><div class="line">    SERVICE &lt;xxx://xxx.xxx/xxx&gt;</div><div class="line">    {</div><div class="line">        SELECT ?p ?o</div><div class="line">        WHERE {xxx ?p ?o}</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></tbody></table></figure></li></ul></li><li><p><strong>ARQ å¿…é¡»æŒ‡å®šâ€“dataå‚æ•°ï¼Œå³ä¾¿æŸ¥è¯¢å¯¹æ•°æ®æ²¡æœ‰ä»»ä½•æ“ä½œï¼ˆä¸Šé¢çš„æŸ¥è¯¢ï¼Œå…¶å®åªæ˜¯æŒ‡å®šäº†å¾…æŸ¥è¯¢çš„endpointï¼Œè€Œä¸æ˜¯æ•°æ®</strong></p></li><li>å¯ä»¥å€ŸåŠ©<strong>D2RQ</strong>ä½¿ç”¨SPARQLæŸ¥è¯¢å…³ç³»æ•°æ®åº“ï¼ˆRDBï¼‰<h4 id="Federated-Queries-Searching-Multiple-Datasets-With-One-Query" class="heading-control"><a href="#Federated-Queries-Searching-Multiple-Datasets-With-One-Query" class="headerlink" title="Federated Queries:Searching Multiple Datasets With One Query"></a>Federated Queries:Searching Multiple Datasets With One Query<a class="heading-anchor" href="#Federated-Queries-Searching-Multiple-Datasets-With-One-Query" aria-hidden="true"></a></h4></li><li>è”åˆæŸ¥è¯¢(Federated Queries):ä¸€ä¸ªqueryæŸ¥è¯¢å¤šä¸ªæ•°æ®é›†<ul><li>ç¬¬ä¸€ä¸ªå­æŸ¥è¯¢ä¸­ç»‘å®šçš„å˜é‡ï¼Œåœ¨ä¹‹åçš„å­æŸ¥è¯¢ä¸­ä¾æ—§å¯ç”¨</li><li>å¦‚æœæ•°æ®é›†ä¹‹é—´å…³ç³»å¯†åˆ‡ï¼Œä¸Šé¢çš„ç‰¹ç‚¹å°±ä¼šå¾ˆæœ‰ç”¨ï¼ˆç”¨æ¥äº¤å‰å¼•ç”¨ï¼‰</li><li>å¦‚æœä¸€ä¸ªæŸ¥è¯¢ç”±ä¸¤ä¸ªå­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢1è¿”å›aä¸ªç»“æœï¼Œå­æŸ¥è¯¢2è¿”å›bä¸ªç»“æœï¼Œé‚£ä¹ˆæ•´ä½“æŸ¥è¯¢å°±è¿”å›a*bä¸ªç»“æœï¼ˆcross-productï¼‰</li><li>å­æŸ¥è¯¢ä¾æ¬¡æ‰§è¡Œï¼Œå¯èƒ½ä¼šèŠ±ç‚¹æ—¶é—´</li></ul></li></ul><h3 id="Coping-Creating-And-Converting-Data" class="heading-control"><a href="#Coping-Creating-And-Converting-Data" class="headerlink" title="Coping,Creating,And Converting Data"></a>Coping,Creating,And Converting Data<a class="heading-anchor" href="#Coping-Creating-And-Converting-Data" aria-hidden="true"></a></h3><p>é™¤äº†æŸ¥è¯¢å‡ºç»“æœè¿˜èƒ½åšæ›´å¤šçš„äº‹</p><h4 id="Query-Forms-SELECT-DESCRIBE-ASK-and-CONSTRUCT" class="heading-control"><a href="#Query-Forms-SELECT-DESCRIBE-ASK-and-CONSTRUCT" class="headerlink" title="Query Forms: SELECT, DESCRIBE, ASK, and CONSTRUCT"></a>Query Forms: SELECT, DESCRIBE, ASK, and CONSTRUCT<a class="heading-anchor" href="#Query-Forms-SELECT-DESCRIBE-ASK-and-CONSTRUCT" aria-hidden="true"></a></h4><ul><li>CONSTRUCTè¿”å›ä¸‰å…ƒç»„ï¼›å¯ä»¥è¿”å›åŸæ•°æ®ä¹Ÿå¯ä»¥æŠ½å–å‡ºå€¼æ¥åˆ›å»ºæ–°çš„ä¸‰å…ƒç»„ï¼›å¯ä»¥ç”¨æ¥å¤åˆ¶ã€åˆ›å»ºã€è½¬æ¢</li><li>ASKè¯¢é—®å¤„ç†å™¨ç»™å®šçš„å›¾æ¨¡å¼æ˜¯å¦æè¿°ç‰¹å®šæ•°æ®é›†ä¸­çš„ä¸€ç»„ä¸‰å…ƒç»„ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼›å¯ä»¥ç”¨æ¥è‡ªåŠ¨åŒ–æ•°æ®å¤„ç†æµç¨‹ä¸­çš„è´¨é‡æ§åˆ¶ï¼›</li><li>DESCRIBEè¦æ±‚æä¾›æè¿°ç‰¹å®šèµ„æºçš„ä¸‰å…ƒç»„</li></ul><h4 id="Copying-Data" class="heading-control"><a href="#Copying-Data" class="headerlink" title="Copying Data"></a>Copying Data<a class="heading-anchor" href="#Copying-Data" aria-hidden="true"></a></h4><ul><li>åˆ©ç”¨CONSTRUCTæŠ½å–ä¸‰å…ƒç»„ï¼›ç»“åˆGRAPHå…³é”®å­—å¯ä»¥ä»ç‰¹å®šå‘½åå›¾ä¸­æŠ½å–ï¼›SELECTåé¢è·Ÿçš„æ˜¯å˜é‡åˆ—è¡¨ï¼ŒCONSTRUCTåé¢è·Ÿçš„æ˜¯æƒ³è¦æ„é€ çš„ä¸‰å…ƒç»„      <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">#constructåé¢è·Ÿçš„æ˜¯ä¸‰å…ƒç»„ï¼Œç”¨èŠ±æ‹¬å·åŒ…å›´,é‡Œé¢å¯ä»¥åŒ…å«ä»»æ„ä¸ªä¸‰å…ƒç»„æ¨¡å¼ï¼ˆtriple patternsï¼‰</div><div class="line">CONSTRUCT</div><div class="line">{?person ?p ?o}</div><div class="line">WHERE</div><div class="line">{...}</div></pre></td></tr></tbody></table></figure></li></ul><h4 id="Creating-New-Data" class="heading-control"><a href="#Creating-New-Data" class="headerlink" title="Creating New Data"></a>Creating New Data<a class="heading-anchor" href="#Creating-New-Data" aria-hidden="true"></a></h4><ul><li>åˆ©ç”¨ä¸€äº›å‡½æ•°å¤„ç†æ•°æ®ï¼Œå¾—åˆ°æ–°çš„å­—æ®µ</li><li>æŒ‡æ˜èµ„æºæ‰€å±çš„ç±»ä¼šè®©ä¿¡æ¯æ¨æ–­æ›´åŠ å®¹æ˜“</li><li>æ‰€è°“çš„åˆ›å»ºä¿¡æ¯å…¶å®æ˜¯å°†éšå«çš„ä¿¡æ¯æ˜ç¡®åŒ–</li></ul><h4 id="Converting-Data" class="heading-control"><a href="#Converting-Data" class="headerlink" title="Converting Data"></a>Converting Data<a class="heading-anchor" href="#Converting-Data" aria-hidden="true"></a></h4><ul><li>å°†ä¸€ä¸ªå‘½åç©ºé—´ä¸­çš„å±æ€§è½¬æ¢åˆ°éœ€è¦çš„å‘½åç©ºé—´</li><li>æ„å‘³ç€è§„èŒƒåŒ–URIä»¥ä¾¿æ›´åŠ å®¹æ˜“åœ°ç»„åˆæ•°æ®</li><li>owl:sameAsæ˜¯DBpediaä¸­ç”¨æ¥å°†ä¸åŒæ¥æºçš„èµ„æºè”ç³»èµ·æ¥çš„æ–¹å¼</li></ul><h4 id="Finding-Bad-Data" class="heading-control"><a href="#Finding-Bad-Data" class="headerlink" title="Finding Bad Data"></a>Finding Bad Data<a class="heading-anchor" href="#Finding-Bad-Data" aria-hidden="true"></a></h4><ul><li>schemaæ˜¯ä¸€ç»„å…³äºæ•°æ®ç»“æ„å’Œæ•°æ®ç±»å‹çš„è§„åˆ™</li><li>å¦‚æœæ•°æ®éµå¾ªäº†æŸä¸ªschemaé‚£ä¹ˆå°±ä¸éœ€è¦ç¨‹åºå‘˜å†™ä»£ç åº”å¯¹â€œç»™å­—ç¬¦ä¸²åŠ äº†1â€è¿™æ ·çš„æƒ…å½¢äº†</li><li>è¯­ä¹‰ç½‘åº”ç”¨é‡‡ç”¨äº†åˆ«çš„æ–¹æ³•ï¼Œé€šè¿‡æ·»åŠ æ›´å¤šçš„metadata</li><li>ä½¿ç”¨SPARQLæ·»åŠ é™åˆ¶è€Œä¸æ˜¯OWL</li></ul><h4 id="Defining-Rules-with-SPARQL" class="heading-control"><a href="#Defining-Rules-with-SPARQL" class="headerlink" title="Defining Rules with SPARQL"></a>Defining Rules with SPARQL<a class="heading-anchor" href="#Defining-Rules-with-SPARQL" aria-hidden="true"></a></h4><ul><li>rules expressed as queries</li><li>ä¸€äº›å¸¸ç”¨çš„ï¼š<ul><li>isURI</li><li>datatype(?amount)) != xsd:integer</li><li>!(bound(?grade))</li><li>?grade &lt; 5</li></ul></li></ul><h4 id="Generating-Data-About-Broken-Rules" class="heading-control"><a href="#Generating-Data-About-Broken-Rules" class="headerlink" title="Generating Data About Broken Rules"></a>Generating Data About Broken Rules<a class="heading-anchor" href="#Generating-Data-About-Broken-Rules" aria-hidden="true"></a></h4><ul><li>å°†ASKæ¢ä¸ºCONSTRUCT</li><li>é—®é¢˜å»ºæ¨¡ï¼šé—®é¢˜ç±»å‹ã€ç›¸å…³å±æ€§</li><li>å¯ä»¥ä½¿ç”¨Unionå°†ä¸åŒçš„è§„åˆ™åŠ åˆå¹¶ï¼Œä½†æ˜¯éšç€è§„åˆ™çš„å¢å¤šï¼Œè¿™ç§æ–¹å¼ä¼šäº§ç”Ÿè¶Šæ¥è¶Šå¤šçš„é”™è¯¯ï¼ˆ thereâ€™d be greater and greater room for error</li><li>å¥½çš„å¤„ç†æ–¹å¼æ˜¯ï¼šåˆ†å¼€å­˜å‚¨è§„åˆ™ï¼Œä½¿ç”¨æ˜¯æ—¶å€™pipeline</li></ul><h4 id="Using-Existing-SPARQL-Rules-Vocabularies" class="heading-control"><a href="#Using-Existing-SPARQL-Rules-Vocabularies" class="headerlink" title="Using Existing SPARQL Rules Vocabularies"></a>Using Existing SPARQL Rules Vocabularies<a class="heading-anchor" href="#Using-Existing-SPARQL-Rules-Vocabularies" aria-hidden="true"></a></h4><ul><li>Schemarama</li><li>SPIN</li><li>å…³ç³»æ•°æ®åº“â€“APIâ€“check for rule compliance using SPARQL</li></ul><h4 id="Asking-for-a-Description-of-a-Resource" class="heading-control"><a href="#Asking-for-a-Description-of-a-Resource" class="headerlink" title="Asking for a Description of a Resource"></a>Asking for a Description of a Resource<a class="heading-anchor" href="#Asking-for-a-Description-of-a-Resource" aria-hidden="true"></a></h4><ul><li>DESCRIBE+URI :è¿”å›èµ„æºçš„ä¸€äº›ä¿¡æ¯ï¼Œå…·ä½“è¿”å›ç»“æœå’ŒSPARQLæŸ¥è¯¢å¼•æ“æœ‰å…³</li><li>CONSTRUCTå¯ä»¥å®Œæˆç›¸åŒçš„äº‹æƒ…ï¼Œwith better controlï¼Œå› æ­¤ä¸å¤ªæ¨èåœ¨seriousçš„åº”ç”¨å¼€å‘ä¸­ä½¿ç”¨</li></ul><h3 id="Datatypes-And-Functions" class="heading-control"><a href="#Datatypes-And-Functions" class="headerlink" title="Datatypes And Functions"></a>Datatypes And Functions<a class="heading-anchor" href="#Datatypes-And-Functions" aria-hidden="true"></a></h3><h4 id="Datatypes-and-Queries" class="heading-control"><a href="#Datatypes-and-Queries" class="headerlink" title="Datatypes and Queries"></a>Datatypes and Queries<a class="heading-anchor" href="#Datatypes-and-Queries" aria-hidden="true"></a></h4><ul><li>æ•°æ®ç±»å‹å…ƒæ•°æ®çš„å­˜å‚¨æ˜¯è®°å½•è¯­ä¹‰ä¿¡æ¯çš„æœ€æ—©æ–¹å¼ä¹‹ä¸€</li><li>æ ‡æ˜æ•°æ®ç±»å‹æ–¹ä¾¿ç†è§£ï¼Œä¸æ ‡æ˜çš„è¯ä¼šæœ‰é»˜è®¤è®¾ç½®</li><li>str()å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼šFILTER (str(?o) = â€œtwoâ€) #è¿”å›æ‰€æœ‰å€¼ä¸ºâ€twoâ€çš„</li></ul><h4 id="Representing-Strings" class="heading-control"><a href="#Representing-Strings" class="headerlink" title="Representing Strings"></a>Representing Strings<a class="heading-anchor" href="#Representing-Strings" aria-hidden="true"></a></h4><ul><li>å•å¼•å·ï¼ŒåŒå¼•å·ï¼Œä¸‰ä¸ªå•å¼•å·æˆ–è€…åŒå¼•å·</li><li>ARQè¾“å‡ºçš„æ—¶å€™:ä½¿ç”¨åŒå¼•å·åˆ†éš”å­—ç¬¦ä¸²ï¼›å›è½¦ä¸º/rï¼Œæ¢è¡Œä¸º/nï¼Œè½¬ä¹‰ä¸º/ï¼›è¾“å‡ºçš„é¡ºåºdoesnâ€™t matter</li></ul><h4 id="Comparing-Values-and-Doing-Arithmetic" class="heading-control"><a href="#Comparing-Values-and-Doing-Arithmetic" class="headerlink" title="Comparing Values and Doing Arithmetic"></a>Comparing Values and Doing Arithmetic<a class="heading-anchor" href="#Comparing-Values-and-Doing-Arithmetic" aria-hidden="true"></a></h4><ul><li>å½“ä½¿ç”¨ä¸åŒçš„æ•°å­—ç±»å‹æ˜¾å¼é”®å…¥ä¸åŒçš„å€¼æ—¶ï¼Œä»ç„¶å¯ä»¥åœ¨æ‰§è¡Œç®—æœ¯æ—¶å°†å®ƒä»¬ä¸€èµ·ä½¿ç”¨ï¼šæ¯”å¦‚integerå’Œdecimalå¯ä»¥ä¹˜åˆ°ä¸€èµ·</li></ul><h4 id="Functions" class="heading-control"><a href="#Functions" class="headerlink" title="Functions"></a>Functions<a class="heading-anchor" href="#Functions" aria-hidden="true"></a></h4><ul><li>SPARQL 1.0è§„èŒƒæä¾›äº†ä¸€äº›åŸºæœ¬å‡½æ•°ï¼ŒSPARQL 1.1æä¾›äº†æ›´å¹¿æ³›çš„é€‰æ‹©ï¼Œå‡ ä¹æ‰€æœ‰éƒ½åŸºäºXPathå‡½æ•°</li><li>SPARQLå¤„ç†å™¨å¯ä»¥æä¾›å…¶å®æ–½è€…æƒ³è¦åŒ…å«çš„ä»»ä½•æ‰©å±•åŠŸèƒ½</li></ul><h4 id="Program-Logic-Functions" class="heading-control"><a href="#Program-Logic-Functions" class="headerlink" title="Program Logic Functions"></a>Program Logic Functions<a class="heading-anchor" href="#Program-Logic-Functions" aria-hidden="true"></a></h4><ul><li>IF()å‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ã€‚ å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸ºtrueï¼Œåˆ™è¯¥å‡½æ•°è¿”å›ç¬¬äºŒä¸ªå‚æ•°çš„å€¼; å¦åˆ™è¿”å›ç¬¬ä¸‰ä¸ª</li><li>COALESCE():æ¥å—å¾ˆå¤šå‚æ•°ï¼Œè¿”å›the first one that doesnâ€™t result in an error  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">SELECT ?first ?last </div><div class="line">WHERE </div><div class="line">{</div><div class="line">?s ab:lastName ?last; </div><div class="line">   ab:firstName ?firstname . </div><div class="line">OPTIONAL{ ?s ab:nick ?nickname . } </div><div class="line">BIND (COALESCE(?nickname,?firstname) AS ?first)</div><div class="line">}</div></pre></td></tr></tbody></table></figure></li></ul><h4 id="Node-Type-and-Datatype-Checking-Functions" class="heading-control"><a href="#Node-Type-and-Datatype-Checking-Functions" class="headerlink" title="Node Type and Datatype Checking Functions"></a>Node Type and Datatype Checking Functions<a class="heading-anchor" href="#Node-Type-and-Datatype-Checking-Functions" aria-hidden="true"></a></h4><ul><li>å‡½æ•°å‚æ•°å¯èƒ½éœ€è¦æ˜¯ç‰¹å®šç±»å‹ï¼Œæ•°æ®å­—æ®µä¹Ÿéœ€è¦æ˜¯ç‰¹å®šç±»å‹</li><li>datatype()å‡½æ•°å¯ä»¥ç”¨æ¥æ£€æµ‹ç±»å‹</li><li>isBlank(), isLiteral(), isNumeric(), isIRI(), and isURI()</li><li>æ•°å­—ï¼Œå­—ç¬¦ä¸²å’Œå…³é”®å­—trueå’Œfalseï¼ˆå…¨éƒ¨å†™æˆå°å†™ï¼‰éƒ½æ˜¯literalsï¼Œåªæœ‰URIå’Œç©ºç™½èŠ‚ç‚¹ä¸æ˜¯</li><li>datatype(params) è¿”å›ä¸€ä¸ªURIï¼Œæ ‡è¯†paramsçš„ç±»å‹,paramsä¸ºç©ºç™½èŠ‚ç‚¹å’ŒURIsæ—¶è¿”å›ä¸ºç©º</li><li>bound()å‘Šè¯‰æˆ‘ä»¬ä¸€ä¸ªå˜é‡æ˜¯å¦æœ‰ä¸€ä¸ªç»‘å®šçš„å€¼</li></ul><h4 id="Node-Type-Conversion-Functions" class="heading-control"><a href="#Node-Type-Conversion-Functions" class="headerlink" title="Node Type Conversion Functions"></a>Node Type Conversion Functions<a class="heading-anchor" href="#Node-Type-Conversion-Functions" aria-hidden="true"></a></h4><ul><li>URI() function lets you convert values to URIs if possible</li><li>åœ¨å°†å€¼ä¼ é€’ç»™URI()æˆ–IRI()å‡½æ•°ä¹‹å‰ï¼Œä½¿ç”¨ENCODE_FOR_URI()å‡½æ•°é¢„å¤„ç†æ˜¯ä¸ªæ¨èçš„åšæ³•ï¼Œä½†è¦æ³¨æ„å®ƒåªæ¥å—simple literalsæˆ–xsdï¼šstring</li><li>str():è¿”å›ä¼ å…¥èµ„æºçš„å­—ç¬¦ä¸²å½¢å¼ï¼Œä¼ å…¥ä¸ºç©ºç™½èŠ‚ç‚¹æ—¶ä¸è¿”å›å€¼</li><li>ä¸€ä¸ªä¾‹å­ï¼š  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">CONSTRUCT {?s ?p ?testURI.} </div><div class="line">WHERE</div><div class="line">{</div><div class="line">    ?s ?p ?o . </div><div class="line">    BIND( IF(isURI(?o), ?o, URI(ENCODE_FOR_URI(str(?o))) ) AS ?testURI)</div><div class="line">}</div></pre></td></tr></tbody></table></figure></li></ul><h4 id="Datatype-Conversion" class="heading-control"><a href="#Datatype-Conversion" class="headerlink" title="Datatype Conversion"></a>Datatype Conversion<a class="heading-anchor" href="#Datatype-Conversion" aria-hidden="true"></a></h4><ul><li>conversion to boolean is pickier: xsd:boolean(?o)ä¸èƒ½è½¬æ¢Trueï¼Œå¯ä»¥è½¬æ¢true</li><li>xsd:dateTime()ä¸èƒ½è½¬æ¢â€œ2011-11-12â€ ï¼Œå¯ä»¥è½¬æ¢â€œ2011-11-12T14:30:00â€</li><li>STRDT()æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªliteralå€¼å’Œä¸€ä¸ªç±»å‹URIï¼Œåˆ›å»ºä¸€ä¸ªtyped literalï¼ˆè‡ªå®šä¹‰ç±»å‹ï¼‰  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">CONSTRUCT { ?s u:amount ?newAmount . } </div><div class="line">WHERE {</div><div class="line">    ?s im:product ?prodName ;</div><div class="line">       im:amount ?amount ; </div><div class="line">       im:units ?units .</div><div class="line">       BIND (STRDT(?amount, URI(CONCAT("http://learningsparql.com/ns/units#",?units))) AS ?newAmount)</div><div class="line">}</div></pre></td></tr></tbody></table></figure></li></ul><h4 id="Checking-Adding-and-Removing-Spoken-Language-Tags" class="heading-control"><a href="#Checking-Adding-and-Removing-Spoken-Language-Tags" class="headerlink" title="Checking, Adding, and Removing Spoken Language Tags"></a>Checking, Adding, and Removing Spoken Language Tags<a class="heading-anchor" href="#Checking-Adding-and-Removing-Spoken-Language-Tags" aria-hidden="true"></a></h4><ul><li>FILTER ( lang(?label) = â€œenâ€ ) #åªè¿”å›è‹±æ–‡æ ‡ç­¾</li><li>BIND (str(?label) AS ?strippedLabel) #å»æ‰@enï¼Œåªè¿”å›æ–‡å­—ä¿¡æ¯</li><li>STRLANG()å‡½æ•°å¯ä»¥ä¸ºå±æ€§åŠ æ ‡ç­¾ï¼Œæ¯”å¦‚ï¼šSTRLANG(?USTerm,â€en-USâ€)</li></ul><h4 id="String-Functions" class="heading-control"><a href="#String-Functions" class="headerlink" title="String Functions"></a>String Functions<a class="heading-anchor" href="#String-Functions" aria-hidden="true"></a></h4><ul><li>STRLEN(), SUBSTR(), UCASE(), and LCASE()</li><li>STRSTARTS(), STRENDS(), CONTAINS(),regex() #è¿”å›å¸ƒå°”å€¼</li><li>The regex() function expects its first argument to be either an xsd:string or a simple literal with no language tagã€‚å¯ä»¥str()ä¸€ä¸‹</li></ul><h4 id="Numeric-Functions" class="heading-control"><a href="#Numeric-Functions" class="headerlink" title="Numeric Functions"></a>Numeric Functions<a class="heading-anchor" href="#Numeric-Functions" aria-hidden="true"></a></h4><ul><li>abs(),round(),ceil(),flloor()</li><li>rand()+CONSTRUCT :ç”Ÿæˆæ ·æœ¬æ•°æ®</li></ul><h4 id="Date-and-Time-Functions" class="heading-control"><a href="#Date-and-Time-Functions" class="headerlink" title="Date and Time Functions"></a>Date and Time Functions<a class="heading-anchor" href="#Date-and-Time-Functions" aria-hidden="true"></a></h4><ul><li>now(),timezone(),tz()</li></ul><h4 id="Hash-Functions" class="heading-control"><a href="#Hash-Functions" class="headerlink" title="Hash Functions"></a>Hash Functions<a class="heading-anchor" href="#Hash-Functions" aria-hidden="true"></a></h4><ul><li>MD5(),SHA1(),SHA224(),SHA256(),SHA384(),SHA512()</li></ul><h4 id="Extension-Functions" class="heading-control"><a href="#Extension-Functions" class="headerlink" title="Extension Functions"></a>Extension Functions<a class="heading-anchor" href="#Extension-Functions" aria-hidden="true"></a></h4><ul><li>ä¸åŒçš„SPARQLå¤„ç†å™¨æ”¯æŒçš„æ‹“å±•å‡½æ•°ä¸åŒ</li><li>less portable</li></ul><h3 id="Updating-Data-With-SPARQL" class="heading-control"><a href="#Updating-Data-With-SPARQL" class="headerlink" title="Updating Data With SPARQL"></a>Updating Data With SPARQL<a class="heading-anchor" href="#Updating-Data-With-SPARQL" aria-hidden="true"></a></h3><p>query the data with the SPARQL query language and manage it with the update language.</p><h4 id="Getting-Started-with-Fuseki" class="heading-control"><a href="#Getting-Started-with-Fuseki" class="headerlink" title="Getting Started with Fuseki"></a>Getting Started with Fuseki<a class="heading-anchor" href="#Getting-Started-with-Fuseki" aria-hidden="true"></a></h4><ul><li>ä¸‹è½½ã€å®‰è£…</li></ul><h4 id="Adding-Data-to-a-Dataset" class="heading-control"><a href="#Adding-Data-to-a-Dataset" class="headerlink" title="Adding Data to a Dataset"></a>Adding Data to a Dataset<a class="heading-anchor" href="#Adding-Data-to-a-Dataset" aria-hidden="true"></a></h4><ul><li><p>æ›´æ–°æ–‡ä»¶åç¼€ä¸º.ruï¼Œæ„æ€æ˜¯ä¸€ä¸ªæ’å…¥è¯·æ±‚ï¼Œnot a query</p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># INSERT DATAåé¢è·Ÿè¦æ’å…¥çš„triples</div><div class="line"># ç®€å•å¿«é€Ÿæ’å…¥æ•°æ®</div><div class="line">INSERT DATA </div><div class="line">{d:i8301 ab:homeTel "(718) 440-9821" . ab:Person a rdfs:Class .}</div></pre></td></tr></tbody></table></figure><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">#whereåé¢è·Ÿtriple patternsï¼Œå¯ä»¥å¼•ç”¨ä¸Šé¢çš„å˜é‡</div><div class="line"># çµæ´»åˆ›é€ </div><div class="line">INSERT {d:i8301 ab:homeTel "(718) 440-9821" . ab:Person a rdfs:Class .}</div><div class="line">WHERE {}</div></pre></td></tr></tbody></table></figure></li><li><p>ä¸‰å…ƒç»„æ¨¡å¼å°±æ˜¯ä»»æ„ä½ç½®éƒ½å¯ä»¥è¢«å˜é‡æ›¿æ¢çš„ä¸‰å…ƒç»„</p></li></ul><h4 id="Deleting-Data" class="heading-control"><a href="#Deleting-Data" class="headerlink" title="Deleting Data"></a>Deleting Data<a class="heading-anchor" href="#Deleting-Data" aria-hidden="true"></a></h4><ul><li>DELETE DATA{}å’ŒDELETE{}WHERE{}</li><li>DELETE WHERE{} :åˆ é™¤åŒ¹é…whereæ¡ä»¶çš„ä¸‰å…ƒç»„</li><li>CLEAR  DEFAULT</li></ul><h4 id="Changing-Existing-Data" class="heading-control"><a href="#Changing-Existing-Data" class="headerlink" title="Changing Existing Data"></a>Changing Existing Data<a class="heading-anchor" href="#Changing-Existing-Data" aria-hidden="true"></a></h4><ul><li>åœ¨ä¸€æ¬¡æ›´æ–°æ“ä½œä¸­ï¼Œåˆ é™¤+æ’å…¥</li><li>å³ä½¿åˆ é™¤å‘ç”Ÿåœ¨æ’å…¥ä¹‹å‰ï¼ŒINSERTå›¾å½¢æ¨¡å¼ä»ç„¶å…·æœ‰WHEREå­å¥å­˜å‚¨çš„æ‰€æœ‰ä¿¡æ¯</li></ul><h4 id="Named-Graphs" class="heading-control"><a href="#Named-Graphs" class="headerlink" title="Named Graphs"></a>Named Graphs<a class="heading-anchor" href="#Named-Graphs" aria-hidden="true"></a></h4><ul><li>SPARQLæ›´æ–°å…è®¸ä½¿ç”¨åˆ†å·è¿æ¥å¤šä¸ªæ“ä½œ</li><li>å°†ä¸‰å…ƒç»„æ’å…¥ä¸å­˜åœ¨çš„å›¾æ—¶ï¼ŒSPARQLå¤„ç†å™¨ä¼šåˆ›å»ºè¯¥å›¾</li></ul><h4 id="Dropping-Graphs" class="heading-control"><a href="#Dropping-Graphs" class="headerlink" title="Dropping Graphs"></a>Dropping Graphs<a class="heading-anchor" href="#Dropping-Graphs" aria-hidden="true"></a></h4><ul><li>DROP GRAPH d:g1 #åˆ é™¤å›¾g1</li><li>DROP DEFAULT #æ¸…é™¤é»˜è®¤å›¾ï¼Œï¼ˆå› ä¸ºé»˜è®¤å›¾æ€»æ˜¯å­˜åœ¨ï¼Œå³ä½¿ä¸ºç©º</li><li>DROP NAMEDï¼šåˆ é™¤å‘½åå›¾</li><li>DROP ALL ï¼šåˆ é™¤æ‰€æœ‰å›¾</li><li>SPARQL Updateæ²¡æœ‰UNDOæ“ä½œï¼Œå› æ­¤DROP ALLæ˜¯ä¸ªéœ€è¦æ…é‡çš„åŠ¨ä½œ</li><li>è¿™é‡Œçš„DROPæ¢ä¸ºCLEARè¡¨ç¤ºå›¾ä¸­çš„æ¸…é™¤ä¸‰å…ƒç»„</li><li>CREATE GRAPHï¼šåˆ›å»ºä¸€ä¸ªç©ºç™½å›¾</li></ul><h4 id="Named-Graph-Syntax-Shortcuts-WITH-and-USING" class="heading-control"><a href="#Named-Graph-Syntax-Shortcuts-WITH-and-USING" class="headerlink" title="Named Graph Syntax Shortcuts: WITH and USING"></a>Named Graph Syntax Shortcuts: WITH and USING<a class="heading-anchor" href="#Named-Graph-Syntax-Shortcuts-WITH-and-USING" aria-hidden="true"></a></h4><ul><li>withè¯­å¥æŒ‡æ˜è¦æ“ä½œçš„å›¾ï¼Œæ¯”GRAPHèŠ‚çœ</li><li>USINGçš„ä½œç”¨ç±»ä¼¼äºSELECTè¯­å¥çš„FROM</li><li><p>USING NAMED === FROM NAMED</p>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">USING NAMED d:g2 </div><div class="line">WHERE</div><div class="line">{ </div><div class="line">    # è¿™é‡Œä¸€å®šè¦å£°æ˜GRAPH d:g2</div><div class="line">    GRAPH d:g2 {?s dm:tag "five" . ?s dm:tag "six" .}</div><div class="line">}</div></pre></td></tr></tbody></table></figure></li><li><p>ä½¿ç”¨USINGå°±ä¸è¦ä½¿ç”¨WITH</p></li></ul><h4 id="Deleting-and-Replacing-Triples-in-Named-Graphs" class="heading-control"><a href="#Deleting-and-Replacing-Triples-in-Named-Graphs" class="headerlink" title="Deleting and Replacing Triples in Named Graphs"></a>Deleting and Replacing Triples in Named Graphs<a class="heading-anchor" href="#Deleting-and-Replacing-Triples-in-Named-Graphs" aria-hidden="true"></a></h4>  <figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">DELETE</span> <span class="keyword">DATA</span> { GRAPH d:g2{ d:x dm:tag <span class="string">"six"</span> }}</div></pre></td></tr></tbody></table></figure>  <figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># GRAPH+å›¾åæˆ–è€…å˜é‡å</div><div class="line">DELETE { GRAPH ?g { ?s ?p "three" } } </div><div class="line">WHERE { GRAPH ?g { ?s ?p "three" } }</div></pre></td></tr></tbody></table></figure>  <figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">WITH d:g1 </div><div class="line"><span class="keyword">DELETE</span> { ?s ?p <span class="string">"four"</span>}</div><div class="line"><span class="keyword">WHERE</span> { ?s ?p <span class="string">"four"</span>}</div></pre></td></tr></tbody></table></figure><h3 id="Building-Applications-With-SPARQL" class="heading-control"><a href="#Building-Applications-With-SPARQL" class="headerlink" title="Building Applications With SPARQL"></a>Building Applications With SPARQL<a class="heading-anchor" href="#Building-Applications-With-SPARQL" aria-hidden="true"></a></h3><ul><li>å°†æŸ¥è¯¢å‘é€åˆ°ç«¯ç‚¹çš„æœ€å¸¸è§æ–¹å¼æ˜¯å°†æŸ¥è¯¢çš„è½¬ä¹‰ç‰ˆæœ¬ä½œä¸ºå‚æ•°æ·»åŠ åˆ°ç«¯ç‚¹çš„URI</li><li>D2RQ</li><li>SPARQLWrapper for python</li><li>ARQ source code for java</li></ul><h3 id="Glossary" class="heading-control"><a href="#Glossary" class="headerlink" title="Glossary"></a>Glossary<a class="heading-anchor" href="#Glossary" aria-hidden="true"></a></h3><ul><li><strong>blank node</strong>: A subject or object in an RDF graph that has no identity. These are typically used to group together other values</li><li><strong>default graph</strong>: The triples in an RDF dataset that donâ€™t belong to a named graph</li><li><strong>IRI</strong>: Internationalized Resource Identifier: a URI that allows a wider choice of characters,making it â€œinternationalized.â€</li><li><strong>literal</strong>: A value, as opposed to a URI, which is a name for something. A literal may have a datatype or a spoken language tag associated with it, but not both. A simple literal is a literal with no language tag or datatype</li><li><strong>N3</strong>: A non-XML RDF serialization format developed by Tim Berners-Lee. Turtle is a simplified version of N3</li><li><strong>N-Triples</strong>: A very simple RDF serialization format that shows complete URIs with no abbreviation and a triple on each line. Often used as a graph dump format</li><li><strong>named graph</strong>: A set of triples, typically within a larger collection of them, that can be referenced with a particular name. The name is a URI</li><li><strong>RDF/XML</strong>: RDFâ€™s original serialization format, based on XML</li><li><strong>RDFS</strong>: the RDF Schema (RDFS) specification lets you specify classes, properties, and metadata about those classes and properties. These serve as metadata to let you infer new facts about your data, not as validation rules to indicate correct versus incorrect data</li><li><strong>triplestore</strong>: A specialized database manager designed for storing triples</li><li><strong>Turtle</strong>: An increasingly popular RDF serialization format based on N3</li><li><strong>URI</strong>: â€œURIâ€ is used more often to refer to an identifier, and â€œURLâ€ to refer to a locator, or address.We use URIs to identify resources and property names in RDF</li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Jumping-Right-In&quot;&gt;&lt;a href=&quot;#Jumping-Right-In&quot; class=&quot;headerlink&quot; title=&quot;Jumping Right In&quot;&gt;&lt;/a&gt;Jumping Right In&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;FROMæŒ‡å®šçš„æ•°æ®é›†ä¼šè¢«è°ƒç”¨SPARQLå¤„ç†å™¨æ—¶æŒ‡å®šçš„æ•°æ®é›†è¦†ç›–ï¼ˆå¦‚æœéƒ½æŒ‡å®šäº†&lt;/li&gt;
&lt;li&gt;RDFä¸æ˜¯æ•°æ®æ ¼å¼ï¼Œè€Œæ˜¯æ•°æ®æ¨¡å‹ï¼Œå®ƒå¯ä»¥é€‰æ‹©å­˜å‚¨æ•°æ®æ–‡ä»¶çš„è¯­æ³•&lt;/li&gt;
&lt;li&gt;å¦‚æœæˆ‘ä»¬å°†æ•°æ®ä¸å…¶å®ƒæ•°æ®ç»“åˆèµ·æ¥ï¼Œé‚£ä¹ˆRDFä¸‰å…ƒç»„çš„ä¸»è¯­å’Œè°“è¯­éƒ½å¿…é¡»å±äºç‰¹å®šçš„åç§°ç©ºé—´ï¼Œä»¥é˜²æ­¢ç±»ä¼¼åç§°ä¹‹é—´çš„æ··æ·†ï¼Œäºæ˜¯æˆ‘ä»¬ä½¿ç”¨URIæ¥è¡¨ç¤ºå®ƒä»¬&lt;/li&gt;
&lt;li&gt;å½“ä½¿ç”¨å®Œæ•´çš„URIæ—¶ï¼Œå°†å…¶æ”¾åœ¨å°–æ‹¬å·ä¸­ä»¥å‘å¤„ç†å™¨æ˜¾ç¤ºå®ƒæ˜¯ä¸€ä¸ªURI&lt;/li&gt;
&lt;li&gt;åœ¨semantic webå¼€å‘ä¸­ï¼Œè¯æ±‡è¡¨æ˜¯ä¸€ç»„ä½¿ç”¨æ ‡å‡†æ ¼å¼å­˜å‚¨çš„æœ¯è¯­ï¼Œä¾›äººä»¬é‡å¤ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;å‘ç°ä¸åŒæ¥æºä¸‰å…ƒç»„ä¹‹é—´è”ç³»çš„èƒ½åŠ›æ˜¯SPARQLçš„æœ€ä½³ç‰¹æ€§ä¹‹ä¸€&lt;/li&gt;
&lt;li&gt;çº¦å®šï¼šä¸»è°“å®¾åˆ†åˆ«ç”¨?s,?p,?oè¡¨ç¤º&lt;/li&gt;
&lt;li&gt;åªæœ‰æ»¡è¶³å›¾æ¨¡å¼ä¸­æ‰€æœ‰ä¸‰å…ƒç»„çš„æ•°æ®æ‰ä¼šè¢«è¿”å›&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>çŸ¥è¯†å›¾è°±å°demo</title>
    <link href="https://yikayiyo.github.io/2018/03/10/kgdemo/"/>
    <id>https://yikayiyo.github.io/2018/03/10/kgdemo/</id>
    <published>2018-03-10T02:14:20.000Z</published>
    <updated>2019-03-15T01:55:28.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®éªŒç¯å¢ƒ" class="heading-control"><a href="#å®éªŒç¯å¢ƒ" class="headerlink" title="å®éªŒç¯å¢ƒ"></a>å®éªŒç¯å¢ƒ<a class="heading-anchor" href="#å®éªŒç¯å¢ƒ" aria-hidden="true"></a></h2><p>ç³»ç»Ÿï¼š<br>ubuntu16.04</p><p>è½¯ä»¶ç›®å½•:</p><ul><li>é¡¹ç›®ç›®å½•/home/gao/software/kgdemo/</li><li>æ•°æ®åº“/home/gao/software/mysql</li><li>åº”ç”¨æ¡†æ¶/home/gao/software/apache-jena-3.6.0ï¼ˆè¿™é‡Œä½¿ç”¨äº†å®ƒçš„TDBç»„ä»¶</li><li>SPARQLæœåŠ¡å™¨/home/gao/software/apache-jena-fuseki-3.6.0</li><li>æ•°æ®è½¬åŒ–å·¥å…·/home/gao/software/d2rq-0.8.1</li><li>æœ¬ä½“æ„å»ºå·¥å…·/home/gao/software/Protege-5.2.0<a id="more"></a></li></ul><h2 id="å‡†å¤‡" class="heading-control"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡<a class="heading-anchor" href="#å‡†å¤‡" aria-hidden="true"></a></h2><h3 id="æ•°æ®" class="heading-control"><a href="#æ•°æ®" class="headerlink" title="æ•°æ®"></a>æ•°æ®<a class="heading-anchor" href="#æ•°æ®" aria-hidden="true"></a></h3><p>ä¸ç”µå½±ç›¸å…³çš„.åŸºæœ¬ç»Ÿè®¡æ•°æ®å¦‚ä¸‹ï¼š</p><ol><li>æ¼”å‘˜æ•°é‡ï¼š505äºº</li><li>ç”µå½±æ•°é‡ï¼š4518éƒ¨</li><li>ç”µå½±ç±»å‹ï¼š19ç±»</li><li>äººç‰©ä¸ç”µå½±çš„å…³ç³»ï¼š14451</li><li>ç”µå½±ä¸ç±»å‹çš„å…³ç³»ï¼š7898</li></ol><p>æ¼”å‘˜çš„åŸºæœ¬ä¿¡æ¯åŒ…æ‹¬ï¼šå§“åã€è‹±æ–‡åã€å‡ºç”Ÿæ—¥æœŸã€æ­»äº¡æ—¥æœŸã€å‡ºç”Ÿåœ°ã€ä¸ªäººç®€ä»‹.<br>ç”µå½±çš„åŸºæœ¬ä¿¡æ¯åŒ…æ‹¬ï¼šç”µå½±åç§°ã€ç”µå½±ç®€ä»‹ã€ç”µå½±è¯„åˆ†ã€ç”µå½±å‘è¡Œæ—¥æœŸã€ç”µå½±ç±»å‹.</p><img src="/2018/03/10/kgdemo/ErGraph.png" alt="ErGraph.png" title=""><h3 id="æœ¬ä½“å»ºæ¨¡" class="heading-control"><a href="#æœ¬ä½“å»ºæ¨¡" class="headerlink" title="æœ¬ä½“å»ºæ¨¡"></a>æœ¬ä½“å»ºæ¨¡<a class="heading-anchor" href="#æœ¬ä½“å»ºæ¨¡" aria-hidden="true"></a></h3><img src="/2018/03/10/kgdemo/OntoGraph.png" alt="OntoGraph.png" title=""><ul><li><p>æ‰“å¼€protege,åœ¨Ontology IRIä¸­å¡«å†™æ–°å»ºæœ¬ä½“èµ„æºçš„IRIä¸ºâ€<a href="http://www.kgmovie.demo.com" target="_blank" rel="external">http://www.kgmovie.demo.com</a>â€œ</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># è¿›å…¥protegeç›®å½•,æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</div><div class="line">./run.sh</div></pre></td></tr></tbody></table></figure></li><li><p>ç‚¹å‡»â€œEntitiesâ€tabæ ‡ç­¾,é€‰æ‹©â€œClassesâ€æ ‡ç­¾.åœ¨è¿™ä¸ªç•Œé¢,æˆ‘ä»¬åˆ›å»ºç”µå½±çŸ¥è¯†å›¾è°±çš„ç±»/æ¦‚å¿µ.</p><p>åœ¨owl:Thingä¸‹åˆ›å»ºä¸‰ä¸ªå­ç±»,Person,Movie,Genre.ä¸‰ä¸ªç±»çš„é»˜è®¤å…³ç³»æ˜¯äº’æ–¥çš„.</p></li></ul><ul><li><p>åˆ‡æ¢åˆ°â€Object Propertiesâ€é¡µé¢åˆ›å»º<strong>ç±»ä¹‹é—´çš„å…³ç³»,å³,å¯¹è±¡å±æ€§</strong>ã€‚</p><p>åˆ›å»ºäº†ä¸‰ä¸ªå¯¹è±¡å±æ€§ï¼Œâ€hasActedInâ€è¡¨ç¤ºæŸäººå‚æ¼”äº†æŸç”µå½±,è¯¥å±æ€§çš„â€domainâ€æ˜¯äºº,â€rangeâ€æ˜¯ç”µå½±ã€‚(<em>â€œdomainâ€è¡¨ç¤ºè¯¥å±æ€§æ˜¯å±äºå“ªä¸ªç±»çš„ï¼Œâ€rangeâ€è¡¨ç¤ºè¯¥å±æ€§çš„å–å€¼èŒƒå›´</em>),è®¾ç½®è¯¥å±æ€§çš„é€†å±æ€§(Inverse of)æ˜¯â€hasActorâ€,å¯ç”¨äºæ¨ç†.å¦å¤–ä¸€ä¸ªå±æ€§â€hasGenreâ€è¡¨ç¤ºç”µå½±å±äºä»€ä¹ˆç±»å‹.</p></li><li><p>åˆ‡æ¢åˆ°â€Data propertiesâ€é¡µé¢åˆ›å»º<strong>ç±»çš„å±æ€§,å³,æ•°æ®å±æ€§</strong>.</p><p>å…¶å®åŒºåˆ†æ•°æ®å±æ€§å’Œå¯¹è±¡å±æ€§è¿˜æœ‰ä¸€ä¸ªå¾ˆç›´è§‚çš„æ–¹æ³•,æˆ‘ä»¬è§‚å¯Ÿå…¶â€rangeâ€å–å€¼èŒƒå›´å³å¯.</p><p><strong>å¯¹è±¡å±æ€§çš„å–å€¼èŒƒå›´æ˜¯ç±»,è€Œæ•°æ®å±æ€§çš„å–å€¼èŒƒå›´åˆ™æ˜¯å­—é¢é‡.</strong></p></li><li><p>ä¿å­˜æ–‡ä»¶,å‘½åä¸ºâ€kgdemo.owlâ€</p></li><li><p>æ³¨æ„åˆ°,<strong>mysqlä¸­æœ‰äº”ä¸ªè¡¨,æœ¬ä½“ä¸­åªæœ‰ä¸‰ä¸ªç±»</strong></p></li></ul><h2 id="æ•°æ®è½¬æ¢" class="heading-control"><a href="#æ•°æ®è½¬æ¢" class="headerlink" title="æ•°æ®è½¬æ¢"></a>æ•°æ®è½¬æ¢<a class="heading-anchor" href="#æ•°æ®è½¬æ¢" aria-hidden="true"></a></h2><h3 id="mysql-gt-RDF" class="heading-control"><a href="#mysql-gt-RDF" class="headerlink" title="mysql -> RDF"></a>mysql -&gt; RDF<a class="heading-anchor" href="#mysql-gt-RDF" aria-hidden="true"></a></h3><ul><li><p>ä¸‹è½½D2RQï¼Œè¿›å…¥å…¶ç›®å½•ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ç”Ÿæˆ<strong>é»˜è®¤çš„</strong>mappingæ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./generate-mapping -u &lt;username&gt; -p &lt;password&gt; -o ../kgdemo/kg_demo_movie_mapping.ttl jdbc:mysql:///kg_demo_movie</div></pre></td></tr></tbody></table></figure></li><li><p>æ ¹æ®æˆ‘ä»¬å®šä¹‰çš„æœ¬ä½“<strong>ä¿®æ”¹mappingæ–‡ä»¶</strong></p><p>ttlæ–‡ä»¶ä¸­æ·»åŠ å‰ç¼€: @prefix : <a href="http://www.kgmovie.demo.com#" target="_blank" rel="external">http://www.kgmovie.demo.com#</a> .(åŒ…æ‹¬æœ€åçš„è¿™ä¸ªå¥å·)</p><p>å»é™¤æ²¡ç”¨çš„genre__labelå’Œgenre_genre_idä¿¡æ¯</p><p>vocab:xxxx æ¢æˆäº†æœ¬ä½“æ„å»ºæ—¶å€™çš„ç±»</p><p>d2rq:propertyå±æ€§ä¿®æ”¹ä¸ºæœ¬ä½“ä¸­å®šä¹‰çš„å±æ€§(å¯¹è±¡å±æ€§æˆ–è€…æ•°æ®å±æ€§)</p></li><li><p>æ•°æ®è½¬ä¸ºRDF</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./dump-rdf -o ../kgdemo/kg_demo_movie.nt ../kgdemo/kg_demo_movie_mapping.ttl</div></pre></td></tr></tbody></table></figure></li><li><p>æŸ¥è¯¢ç¤ºä¾‹</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> ?titles <span class="keyword">WHERE</span> {</div><div class="line">  ?p rdf:<span class="keyword">type</span> :Person.</div><div class="line">  ?p :personEnglishName <span class="string">'Stephen Chow'</span>.</div><div class="line">  ?p :hasActedIn ?movies.</div><div class="line">  ?movies :movieTitle ?titles</div><div class="line">}</div><div class="line"><span class="keyword">limit</span> <span class="number">10</span></div></pre></td></tr></tbody></table></figure></li><li><p>è¿”å›ç»“æœä¸º:</p><p>| titles           |<br>| â€”â€”â€”â€”â€”- |<br>| â€œåŠŸå¤«â€             |<br>| â€œï§Œç’ƒæ¨½â€            |<br>| â€œè‹±é›„æœ¬è‰²â€           |<br>| â€œå°‘æ—è¶³çƒâ€           |<br>| â€œè¥¿æ¸¸è®°ç¬¬å£¹ä½°é›¶å£¹å›ä¹‹æœˆå…‰å®ç›’â€ |<br>| â€œé•¿æ±Ÿä¸ƒå·â€           |<br>| â€œè¥¿æ¸¸è®°å¤§ç»“å±€ä¹‹ä»™å±¥å¥‡ç¼˜â€    |<br>| â€œå»ºå›½å¤§ä¸šâ€           |<br>| â€œå®¡æ­»å®˜â€            |<br>| â€œé¾™åœ¨å¤©æ¶¯â€           |</p></li></ul><h3 id="Bug-To-Fix" class="heading-control"><a href="#Bug-To-Fix" class="headerlink" title="Bug To Fix"></a>Bug To Fix<a class="heading-anchor" href="#Bug-To-Fix" aria-hidden="true"></a></h3><p>ä½¿ç”¨ä¸­æ–‡å§“åæŸ¥è¯¢ä¸åˆ°person</p><h2 id="jena-SPARQL-endpointåŠæ¨ç†" class="heading-control"><a href="#jena-SPARQL-endpointåŠæ¨ç†" class="headerlink" title="jena SPARQL endpointåŠæ¨ç†"></a>jena SPARQL endpointåŠæ¨ç†<a class="heading-anchor" href="#jena-SPARQL-endpointåŠæ¨ç†" aria-hidden="true"></a></h2><h3 id="jenaç¤ºä¾‹" class="heading-control"><a href="#jenaç¤ºä¾‹" class="headerlink" title="jenaç¤ºä¾‹"></a>jenaç¤ºä¾‹<a class="heading-anchor" href="#jenaç¤ºä¾‹" aria-hidden="true"></a></h3><ul><li>ä¸‹è½½apache-jenaå’Œapache-jena-fuseki</li><li>åœ¨apache-jenaç›®å½•ä¸‹,ä½¿ç”¨â€œtdbloaderâ€å°†ä¹‹å‰æˆ‘ä»¬çš„RDFæ•°æ®ä»¥TDBçš„æ–¹å¼å­˜å‚¨ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š</li></ul><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">./tdbloader --loc="../../kgdemo/tdb" "../../kgdemo/kg_demo_movie.nt"</div><div class="line">16:15:50 INFO  loader               :: -- Start triples data phase</div><div class="line">16:15:50 INFO  loader               :: ** Load empty triples table</div><div class="line">16:15:50 INFO  loader               :: -- Start quads data phase</div><div class="line">16:15:50 INFO  loader               :: ** Load empty quads table</div><div class="line">16:15:50 INFO  loader               :: Load: ../../kgdemo/kg_demo_movie.nt -- 2018/03/19 16:15:50 CST</div><div class="line">16:15:52 INFO  loader               :: -- Finish triples data phase</div><div class="line">16:15:52 INFO  loader               :: ** Data: 47,144 triples loaded in 1.26 seconds [Rate: 37,327.00 per second]</div><div class="line">16:15:52 INFO  loader               :: -- Finish quads data phase</div><div class="line">16:15:52 INFO  loader               :: -- Start triples index phase</div><div class="line">16:15:52 INFO  loader               :: ** Index SPO-&gt;POS: 47,144 slots indexed in 0.14 seconds [Rate: 334,354.63 per second]</div><div class="line">16:15:52 INFO  loader               :: ** Index SPO-&gt;OSP: 47,144 slots indexed in 0.13 seconds [Rate: 374,158.72 per second]</div><div class="line">16:15:52 INFO  loader               :: -- Finish triples index phase</div><div class="line">16:15:52 INFO  loader               :: ** 47,144 triples indexed in 0.27 seconds [Rate: 172,688.64 per second]</div><div class="line">16:15:52 INFO  loader               :: -- Finish triples load</div><div class="line">16:15:52 INFO  loader               :: ** Completed: 47,144 triples loaded in 1.55 seconds [Rate: 30,356.73 per second]</div><div class="line">16:15:52 INFO  loader               :: -- Finish quads load</div></pre></td></tr></tbody></table></figure><ul><li>åœ¨fuseki-serverç›®å½•ä¸‹,è¿è¡Œ <em>./fuseki-server</em> æœåŠ¡,ä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆrunæ–‡ä»¶å¤¹,å°†æœ¬ä½“æ–‡ä»¶é‡å‘½åä¸ºâ€kgdemo.ttlâ€æ”¾å…¥run/database,ç„¶ååœ¨run/configurationé‡Œåˆ›å»ºconfig.ttlæ–‡ä»¶,å†…å®¹ä¸º:</li></ul><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">@prefix :      &lt;http://base/#&gt; .</div><div class="line">@prefix tdb:   &lt;http://jena.hpl.hp.com/2008/tdb#&gt; .</div><div class="line">@prefix rdf:   &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .</div><div class="line">@prefix ja:    &lt;http://jena.hpl.hp.com/2005/11/Assembler#&gt; .</div><div class="line">@prefix rdfs:  &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .</div><div class="line">@prefix fuseki: &lt;http://jena.apache.org/fuseki#&gt; .</div><div class="line"></div><div class="line"></div><div class="line">:service1        a                fuseki:Service ;</div><div class="line">fuseki:dataset                    &lt;#dataset&gt; ;</div><div class="line">fuseki:name                       "kg_demo_movie" ;</div><div class="line">fuseki:serviceQuery               "query" , "sparql" ;</div><div class="line">fuseki:serviceReadGraphStore      "get" ;</div><div class="line">fuseki:serviceReadWriteGraphStore "data" ;</div><div class="line">fuseki:serviceUpdate              "update" ;</div><div class="line">fuseki:serviceUpload              "upload" .</div><div class="line"></div><div class="line"></div><div class="line">&lt;#dataset&gt; rdf:type ja:RDFDataset ;</div><div class="line">    ja:defaultGraph &lt;#model_inf&gt; ;</div><div class="line">    .</div><div class="line"></div><div class="line">&lt;#model_inf&gt; a ja:InfModel ;</div><div class="line">    ja:baseModel &lt;#tdbGraph&gt; ;</div><div class="line"></div><div class="line">    #æœ¬ä½“æ–‡ä»¶çš„è·¯å¾„</div><div class="line">    ja:content [ja:externalContent &lt;file:////home/gao/software/apache-jena-fuseki-3.6.0/run/databases/kgdemo.ttl&gt; ] ;</div><div class="line">    </div><div class="line">    #å¯ç”¨OWLæ¨ç†æœº</div><div class="line">    ja:reasoner [ja:reasonerURL &lt;http://jena.hpl.hp.com/2003/OWLFBRuleReasoner&gt;] .</div><div class="line"></div><div class="line">&lt;#tdbGraph&gt; rdf:type tdb:GraphTDB ;</div><div class="line">    tdb:dataset &lt;#tdbDataset&gt; ;</div><div class="line">    .</div><div class="line"></div><div class="line">&lt;#tdbDataset&gt; rdf:type tdb:DatasetTDB ;</div><div class="line">    tdb:location "/home/gao/software/kgdemo/tdb" ;</div></pre></td></tr></tbody></table></figure><ul><li>é‡å¯è¿è¡Œ <em>./fuseki-server</em></li></ul><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[2018-03-19 16:39:13] Server     INFO  Apache Jena Fuseki 3.6.0</div><div class="line">[2018-03-19 16:39:13] Config     INFO  FUSEKI_HOME=/home/gao/software/apache-jena-fuseki-3.6.0</div><div class="line">[2018-03-19 16:39:13] Config     INFO  FUSEKI_BASE=/home/gao/software/apache-jena-fuseki-3.6.0/run</div><div class="line">[2018-03-19 16:39:13] Config     INFO  Shiro file: file:///home/gao/software/apache-jena-fuseki-3.6.0/run/shiro.ini</div><div class="line">[2018-03-19 16:39:13] Config     INFO  Configuration file: /home/gao/software/apache-jena-fuseki-3.6.0/run/config.ttl</div><div class="line">[2018-03-19 16:39:13] Config     INFO  Load configuration: file:///home/gao/software/apache-jena-fuseki-3.6.0/run/configuration/conf.ttl</div><div class="line">[2018-03-19 16:39:13] Config     INFO  Register: /kg_demo_movie</div><div class="line">[2018-03-19 16:39:13] Server     INFO  Started 2018/03/19 16:39:13 CST on port 3030</div></pre></td></tr></tbody></table></figure><ul><li>æ‰“å¼€é¡µé¢localhost:3030,æŸ¥è¯¢,è¿™é‡Œä½¿ç”¨ä¸­æ–‡ok</li></ul><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;</div><div class="line">prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;</div><div class="line">prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt;</div><div class="line">prefix : &lt;http://www.kgmovie.demo.com#&gt;</div><div class="line"></div><div class="line">SELECT ?titles WHERE {</div><div class="line">  ?p rdf:type :Person.</div><div class="line">  ?p :personName 'å‘¨æ˜Ÿé©°'.</div><div class="line">  ?p :hasActedIn ?movies.</div><div class="line">  ?movies :movieTitle ?titles</div><div class="line">}</div><div class="line">limit 10</div></pre></td></tr></tbody></table></figure><table><thead><tr><th></th><th>titles</th></tr></thead><tbody><tr><td>1</td><td>â€œï§Œç’ƒæ¨½â€</td></tr><tr><td>2</td><td>â€œè¥¿æ¸¸è®°ç¬¬å£¹ä½°é›¶å£¹å›ä¹‹æœˆå…‰å®ç›’â€</td></tr><tr><td>3</td><td>â€œå¤§å†…å¯†æ¢é›¶é›¶å‘â€</td></tr><tr><td>4</td><td>â€œåŠŸå¤«â€</td></tr><tr><td>5</td><td>â€œé•¿æ±Ÿä¸ƒå·â€</td></tr><tr><td>6</td><td>â€œå›é­‚å¤œâ€</td></tr><tr><td>7</td><td>â€œç™¾å˜æ˜Ÿå›â€</td></tr><tr><td>8</td><td>â€œè‹±é›„æœ¬è‰²â€</td></tr><tr><td>9</td><td>â€œå»ºå›½å¤§ä¸šâ€</td></tr><tr><td>10</td><td>â€œå”ä¼¯è™ç‚¹ç§‹é¦™â€</td></tr></tbody></table><h3 id="è‡ªå®šä¹‰æ¨ç†è§„åˆ™" class="heading-control"><a href="#è‡ªå®šä¹‰æ¨ç†è§„åˆ™" class="headerlink" title="è‡ªå®šä¹‰æ¨ç†è§„åˆ™"></a>è‡ªå®šä¹‰æ¨ç†è§„åˆ™<a class="heading-anchor" href="#è‡ªå®šä¹‰æ¨ç†è§„åˆ™" aria-hidden="true"></a></h3><ul><li>åœ¨â€œdatabasesâ€æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶â€œrules.ttlâ€ï¼Œå¡«å…¥å¦‚ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">@prefix : &lt;http://www.kgmovie.demo.com#&gt; .</div><div class="line">@prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt; .</div><div class="line">@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .</div><div class="line">@prefix xsd: &lt;XML Schema&gt; .</div><div class="line">@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .</div><div class="line"></div><div class="line">[ruleComedian: (?p :hasActedIn ?m) (?m :hasGenre ?g) (?g :genreName 'å–œå‰§') -&gt; (?p rdf:type :Comedian)]</div><div class="line">[ruleInverse: (?p :hasActedIn ?m) -&gt; (?m :hasActor ?p)]</div></pre></td></tr></tbody></table></figure><ul><li>ä¿®æ”¹juseki-serveré…ç½®æ–‡ä»¶:</li></ul><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">@prefix :      &lt;http://base/#&gt; .</div><div class="line">@prefix tdb:   &lt;http://jena.hpl.hp.com/2008/tdb#&gt; .</div><div class="line">@prefix rdf:   &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .</div><div class="line">@prefix ja:    &lt;http://jena.hpl.hp.com/2005/11/Assembler#&gt; .</div><div class="line">@prefix rdfs:  &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .</div><div class="line">@prefix fuseki: &lt;http://jena.apache.org/fuseki#&gt; .</div><div class="line"></div><div class="line"></div><div class="line">:service1        a                fuseki:Service ;</div><div class="line">fuseki:dataset                    &lt;#dataset&gt; ;</div><div class="line">fuseki:name                       "kg_demo_movie" ;</div><div class="line">fuseki:serviceQuery               "query" , "sparql" ;</div><div class="line">fuseki:serviceReadGraphStore      "get" ;</div><div class="line">fuseki:serviceReadWriteGraphStore "data" ;</div><div class="line">fuseki:serviceUpdate              "update" ;</div><div class="line">fuseki:serviceUpload              "upload" .</div><div class="line"></div><div class="line"></div><div class="line">&lt;#dataset&gt; rdf:type ja:RDFDataset ;</div><div class="line">    ja:defaultGraph &lt;#model_inf&gt; ;</div><div class="line">    .</div><div class="line"></div><div class="line">&lt;#model_inf&gt; a ja:InfModel ;</div><div class="line">    ja:baseModel &lt;#tdbGraph&gt; ;</div><div class="line"></div><div class="line">    #æœ¬ä½“æ–‡ä»¶çš„è·¯å¾„</div><div class="line">    ja:content [ja:externalContent &lt;file:////home/gao/software/apache-jena-fuseki-3.6.0/run/databases/kgdemo.ttl&gt; ] ;</div><div class="line">    </div><div class="line">    #å…³é—­OWLæ¨ç†æœº</div><div class="line">    #ja:reasoner [ja:reasonerURL &lt;http://jena.hpl.hp.com/2003/OWLFBRuleReasoner&gt;] .</div><div class="line"></div><div class="line">#å¼€å¯è§„åˆ™æ¨ç†æœºï¼Œå¹¶æŒ‡å®šè§„åˆ™æ–‡ä»¶è·¯å¾„</div><div class="line">    ja:reasoner [</div><div class="line">        ja:reasonerURL &lt;http://jena.hpl.hp.com/2003/GenericRuleReasoner&gt; ; </div><div class="line">        ja:rulesFrom &lt;file:////home/gao/software/apache-jena-fuseki-3.6.0/run/databases/rules.ttl&gt; ; ]</div><div class="line">    .</div><div class="line">&lt;#tdbGraph&gt; rdf:type tdb:GraphTDB ;</div><div class="line">    tdb:dataset &lt;#tdbDataset&gt; ;</div><div class="line">    .</div><div class="line"></div><div class="line">&lt;#tdbDataset&gt; rdf:type tdb:DatasetTDB ;</div><div class="line">    tdb:location "/home/gao/software/kgdemo/tdb" ;</div><div class="line">    .</div></pre></td></tr></tbody></table></figure><ul><li>æŸ¥è¯¢:</li></ul><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> n <span class="keyword">WHERE</span> {</div><div class="line">?x rdf:<span class="keyword">type</span> :Comedian.</div><div class="line">?x :personName ?n.</div><div class="line">}</div><div class="line"><span class="keyword">limit</span> <span class="number">10</span></div></pre></td></tr></tbody></table></figure><p>ç»“æœå¦‚ä¸‹:</p><table><thead><tr><th></th><th>n</th></tr></thead><tbody><tr><td>1</td><td>â€œé‚“æµ©å…‰â€</td></tr><tr><td>2</td><td>â€œæ¢æœä¼Ÿâ€</td></tr><tr><td>3</td><td>â€œæ¨æ­å¦‚â€</td></tr><tr><td>4</td><td>â€œæ¢éŸµè•Šâ€</td></tr><tr><td>5</td><td>â€œå´å®‡æ£®â€</td></tr><tr><td>6</td><td>â€œå¾é”¦æ±Ÿâ€</td></tr><tr><td>7</td><td>â€œé»„å®¶é©¹â€</td></tr><tr><td>8</td><td>â€œå¶è¿›â€</td></tr><tr><td>9</td><td>â€œåˆé©¬â€</td></tr><tr><td>10</td><td>â€œæ¢å’çªâ€</td></tr></tbody></table><h3 id="TODO" class="heading-control"><a href="#TODO" class="headerlink" title="TODO"></a>TODO<a class="heading-anchor" href="#TODO" aria-hidden="true"></a></h3><p>ä¸ç”¨sparqlï¼Œç”¨natural languageæŸ¥è¯¢ç»“æœ<br>query-answer</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å®éªŒç¯å¢ƒ&quot;&gt;&lt;a href=&quot;#å®éªŒç¯å¢ƒ&quot; class=&quot;headerlink&quot; title=&quot;å®éªŒç¯å¢ƒ&quot;&gt;&lt;/a&gt;å®éªŒç¯å¢ƒ&lt;/h2&gt;&lt;p&gt;ç³»ç»Ÿï¼š&lt;br&gt;ubuntu16.04&lt;/p&gt;
&lt;p&gt;è½¯ä»¶ç›®å½•:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¡¹ç›®ç›®å½•/home/gao/software/kgdemo/&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“/home/gao/software/mysql&lt;/li&gt;
&lt;li&gt;åº”ç”¨æ¡†æ¶/home/gao/software/apache-jena-3.6.0ï¼ˆè¿™é‡Œä½¿ç”¨äº†å®ƒçš„TDBç»„ä»¶&lt;/li&gt;
&lt;li&gt;SPARQLæœåŠ¡å™¨/home/gao/software/apache-jena-fuseki-3.6.0&lt;/li&gt;
&lt;li&gt;æ•°æ®è½¬åŒ–å·¥å…·/home/gao/software/d2rq-0.8.1&lt;/li&gt;
&lt;li&gt;æœ¬ä½“æ„å»ºå·¥å…·/home/gao/software/Protege-5.2.0&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="çŸ¥è¯†å›¾è°±" scheme="https://yikayiyo.github.io/tags/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/"/>
    
  </entry>
  
  <entry>
    <title>æ„å»ºITé¢†åŸŸæ¦‚å¿µå›¾è°±</title>
    <link href="https://yikayiyo.github.io/2018/01/10/%E6%9E%84%E5%BB%BAIT%E9%A2%86%E5%9F%9F%E6%A6%82%E5%BF%B5%E5%9B%BE%E8%B0%B1/"/>
    <id>https://yikayiyo.github.io/2018/01/10/%E6%9E%84%E5%BB%BAIT%E9%A2%86%E5%9F%9F%E6%A6%82%E5%BF%B5%E5%9B%BE%E8%B0%B1/</id>
    <published>2018-01-10T09:17:14.000Z</published>
    <updated>2018-01-10T10:08:30.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.sciencedirect.com/science/article/pii/S0957417415005941" target="_blank" rel="external">åŸæ–‡åœ°å€</a></p><h3 id="æ‘˜è¦" class="heading-control"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦<a class="heading-anchor" href="#æ‘˜è¦" aria-hidden="true"></a></h3><p>â€‹    <strong>å…³è”å¼€æ”¾æ•°æ®</strong>ï¼ˆLODï¼‰ä¸­åŒ…å«ä¸°å¯Œçš„çŸ¥è¯†å’Œè¯­ä¹‰ï¼Œå®ƒçš„å‘å±•ä¿ƒä½¿äº†å¾ˆå¤šçŸ¥è¯†å‹åº”ç”¨çš„è¯ç”Ÿå’Œå…´èµ·ã€‚åœ¨è¿™äº›åº”ç”¨ä¸­ï¼Œå®ä½“é—´çš„ç›¸å…³æ€§ï¼ˆä¸åŒäºç›¸ä¼¼æ€§ï¼‰è¿™ä¸€æ¦‚å¿µæ‰®æ¼”äº†é‡è¦è§’è‰²ã€‚</p><p>â€‹    åœ¨ç»™å®šä¸€ä¸ªæŸ¥è¯¢åæˆ‘ä»¬æ„Ÿå…´è¶£çš„ä¸åªæ˜¯ç¡®åˆ‡çš„è¿”å›å€¼ï¼ˆexact answers ï¼‰ï¼Œè¿˜æœ‰é‚£äº›ä¸æŸ¥è¯¢ç´§å¯†ç›¸å…³çš„ä¸œè¥¿ã€‚</p><p>â€‹    åˆ©ç”¨DBpediaä¸­ITé¢†åŸŸæ•°æ®æ„å»ºæ¦‚å¿µå›¾è°±çš„æ–¹æ³•ï¼Œä¸ä»…åˆ©ç”¨å­—ç¬¦ä¸²åŒ¹é…ï¼Œè¿˜å¯ä»¥åˆ©ç”¨LODæ•°æ®é›†ä¸­ç¼–ç çš„æ˜¾ç¤ºæˆ–éšå¼è¯­ä¹‰ã€‚åœ¨æ­¤åŸºç¡€ä¸Šæ„å»ºçš„ä¸“å®¶ç³»ç»Ÿï¼Œå¯ä»¥å¸®åŠ©é‚£äº›åœ¨ITé¢†åŸŸè¿›è¡Œ<strong>å®ä½“æœç´¢</strong>ä»»åŠ¡çš„ç”¨æˆ·ã€‚</p><p>â€‹    ä¸ºäº†å¯¹ç›¸å…³å®ä½“è¿›è¡Œ<strong>æ’åº</strong>éœ€è¦è®¡ç®—ç›¸å…³åº¦ï¼Œè¿™å°±æ¶‰åŠåˆ°ä¸åŒçš„<strong>ç›¸å…³æ€§åº¦é‡</strong>ï¼ˆrelatedness measuresï¼‰ã€‚</p><h3 id="å¯¼è¯»" class="heading-control"><a href="#å¯¼è¯»" class="headerlink" title="å¯¼è¯»"></a>å¯¼è¯»<a class="heading-anchor" href="#å¯¼è¯»" aria-hidden="true"></a></h3><p>â€‹    åŸºäºå…³é”®è¯åŒ¹é…çš„æœç´¢åœ¨åŒä¹‰ã€æ­§ä¹‰å‘ç”Ÿæ—¶ï¼Œè¡¨ç°å¾—å¾ˆæŒ£æ‰ï¼ˆsufferï¼‰ã€‚å“ªæ€•æŸ¥è¯¢è¯­å¥ã€èµ„æºæè¿°éƒ½ç»“æ„åŒ–äº†ï¼ŒåŒæ ·çš„é—®é¢˜ä¾ç„¶å­˜åœ¨ã€‚å¯¼è‡´è¿™ä¸€é—®é¢˜çš„ä¸»è¦åŸå› æ˜¯ï¼Œå®ƒä»¬éƒ½<strong>æ— æ³•æ•è·</strong>æŸ¥è¯¢ã€èµ„æºæè¿°ä¸­çš„è¯è¯­çš„<strong>è¯ä¹‰(meaning of terms)ä»¥åŠè¯­ä¹‰å…³è”(the semantic relation)</strong>ã€‚</p><p>â€‹    ç›¸å…³æ€§ï¼ˆrelatednessï¼‰æ˜¯è¯­ä¹‰ä¸Šçš„ï¼Œæ¯”ç›¸ä¼¼æ€§æ¦‚å¿µå®½æ³›ï¼ˆwiderï¼‰ã€‚ä¸¾ä¾‹æ¥è¯´ï¼ŒMySQLå’ŒPostgreSQLå¾ˆç›¸ä¼¼çš„ï¼ŒPHPå’ŒMySQLåˆ™æ˜¯å¾ˆç›¸å…³çš„ã€‚</p><p>â€‹    æ„å»ºå›¾è°±çš„å…³é”®åœ¨äºï¼Œæ€ä¹ˆè¡¡é‡ä¸¤ä¸ªå®ä½“é—´çš„ç›¸å…³åº¦ã€‚</p><p>â€‹    æœ¬æ–‡æå‡ºäº†ä¸€ç§è¯­ä¹‰æ„ŸçŸ¥çš„åº¦é‡æ¥è¯„ä¼°å®ä½“é—´ç›¸å…³åº¦ï¼Œå¹¶åˆ©ç”¨è¿™ä¸ªåº¦é‡æ„å»ºITé¢†åŸŸæ¦‚å¿µå›¾è°±ï¼Œå›¾ä¸Šæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ITæ¦‚å¿µï¼ˆç¼–ç¨‹è¯­è¨€ã€æ•°æ®åº“ã€æŠ€æœ¯ã€æ¡†æ¶ï¼Œç­‰ç­‰ï¼‰ã€‚</p><p>â€‹    æ„å»ºå›¾è°±æ—¶ï¼Œåˆ©ç”¨äº†æ¥è‡ªwebçš„æ•°æ®çš„<strong>ç»Ÿè®¡ç‰¹å¾</strong>ä»¥åŠä»LODæ•°æ®é›†ä¸­æŠ½å–çš„<strong>è¯­ä¹‰çŸ¥è¯†</strong>ã€‚</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://www.sciencedirect.com/science/article/pii/S0957417415005941&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;åŸæ–‡åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;æ‘˜è¦&quot; cla
      
    
    </summary>
    
    
    
      <category term="çŸ¥è¯†å›¾è°±" scheme="https://yikayiyo.github.io/tags/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/"/>
    
      <category term="å…³è”æ•°æ®" scheme="https://yikayiyo.github.io/tags/%E5%85%B3%E8%81%94%E6%95%B0%E6%8D%AE/"/>
    
      <category term="DBpedia" scheme="https://yikayiyo.github.io/tags/DBpedia/"/>
    
  </entry>
  
  <entry>
    <title>çº¿æ€§æ¨¡å‹</title>
    <link href="https://yikayiyo.github.io/2017/11/11/%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/"/>
    <id>https://yikayiyo.github.io/2017/11/11/%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/</id>
    <published>2017-11-11T03:22:45.000Z</published>
    <updated>2018-04-10T08:52:50.000Z</updated>
    
    <content type="html"><![CDATA[<p>èƒ½ä¸èƒ½ä½¿ç”¨çº¿æ€§åˆ†ç±»å™¨å¾—åˆ°å½¢çŠ¶ä¸ºåœ†åœˆçš„å†³ç­–è¾¹ç•Œï¼Ÿ<br><a id="more"></a></p><ul><li>å¯ä»¥çš„ï¼æ‰€è°“çš„çº¿æ€§åˆ†ç±»å™¨ï¼Œ<strong>çº¿æ€§</strong>æŒ‡çš„æ˜¯æƒé‡å‘é‡<strong>w</strong>å’Œæ ‡ç­¾yçš„å…³ç³»ï¼Œè€Œå†³ç­–è¾¹ç•ŒæŒ‡çš„æ˜¯yå¦‚ä½•éšç€xçš„å˜åŒ–è€Œå˜åŒ–</li></ul><p><strong>the prediction is driven by the score w Â· Ï†(x)</strong>ï¼Œå…¶ä¸­xæ˜¯åŸå§‹è¾“å…¥ï¼ŒÏ†(x)æ˜¯æå–åˆ°çš„ç‰¹å¾</p><p>æœºå™¨å­¦ä¹ é—®é¢˜ï¼šå®šä¹‰ä¼˜åŒ–é—®é¢˜ï¼Œæ±‚è§£å¾—åˆ°<strong>w</strong>ï¼ˆåœ¨ Ï†(x)å›ºå®šçš„æƒ…å†µä¸‹ï¼‰</p><p>æ„é€ ç‰¹å¾ï¼š</p><ul><li>å…ˆéªŒçŸ¥è¯†</li><li>ç‰¹å¾æ¨¡æ¿</li></ul><p>å®šä¹‰ç‰¹å¾ï¼š</p><ul><li>æ•°ç»„ï¼šé€‚ç”¨äºç‰¹å¾ç¨ å¯†çš„æƒ…å†µï¼Œå‡å®šç‰¹å¾æ’åºå›ºå®š</li><li>å­—å…¸ï¼šç‰¹å¾ç¨€ç–(few nonzeros)æ—¶ç”¨å­—å…¸è¡¨ç¤ºå­—æ®µåˆ°double<br>çš„æ˜ å°„æ›´æœ‰æ•ˆ</li></ul><p>å®šä¹‰ç‰¹å¾æ—¶ä¸€å®šè¦æ˜ç¡®ç‰¹å¾çš„å«ä¹‰</p><p>æ¨¡å‹çš„è¡¨è¾¾ï¼ˆè¡¨ç°ï¼‰èƒ½åŠ›â€”â€”Expressivityï¼š</p><ul><li>hypothesis classï¼šç‰¹å¾Ï†(x)å›ºå®šè€Œ<strong>w</strong>ä¸åŒçš„é¢„æµ‹å™¨çš„é›†åˆ<br>$$<br>F = {f_w : w âˆˆ R^d}<br>$$</li><li>å­¦ä¹ çš„ç›®çš„ï¼šåˆ©ç”¨è®­ç»ƒæ•°æ®ä»Fä¸­æ‰¾åˆ°ä¸€ä¸ªç‰¹å®šçš„é¢„æµ‹å™¨</li><li>å¦‚æœ<strong>Ï†(x)å®šä¹‰çš„F</strong>ä¸­çš„é¢„æµ‹å™¨éƒ½å¾ˆå·®åŠ²ï¼Œno amount of learning can help.</li><li>å…³é”®åœ¨äºï¼šÏ†(x)èƒ½ä¸èƒ½æŠŠå¥½çš„é¢„æµ‹å™¨è¡¨è¾¾å‡ºæ¥</li><li>Fæ˜¯ä¸æ˜¯<strong>è¶Šå¤§è¶Šå¥½ï¼Ÿ</strong></li></ul><p><strong>non-linearities in the original measurements(åŸå§‹åº¦é‡ä¸­çš„éçº¿æ€§)</strong> :</p><ul><li>Non-monotonicity(éå•è°ƒæ€§)ï¼š<ul><li>ä½“æ¸©å’Œå¥åº·ç¨‹åº¦çš„å…³ç³»å°±ä¸æ˜¯å•è°ƒçš„ï¼Œä½ ä¸èƒ½è¯´ä½“æ¸©è¶Šé«˜è¶Šå¥åº·ï¼Œåä¹‹äº¦ç„¶</li><li>Ï†(x) = [1, temperature(x)]   bad</li><li>Ï†(x) = [1, (temperature(x) âˆ’ 37)^2] è½¬æ¢ç‰¹å¾ï¼Œåˆ©ç”¨äº†å…ˆéªŒçŸ¥è¯†</li><li>Ï†(x) = [1, temperature(x), temperature(x)^2]   task to simple blocks</li></ul></li><li>Saturation(é¥±å’Œ)ï¼š<ul><li>äº§å“æ¨è</li><li>Ï†(x) = N(x) è´­ä¹°äº§å“çš„äººæ•°ï¼ˆå—æ¬¢è¿ç¨‹åº¦ï¼‰å’Œç›¸å…³æ€§ï¼Œä¸å…·æœ‰çº¿æ€§å…³ç³»</li><li>Ï†(x) = logN(x) è½¬æ¢ç‰¹å¾ï¼Œå–å¯¹æ•°ï¼ˆN with a large dynamic rangeï¼‰</li><li>Ï†(x) = [1[0 &lt; N(x) â‰¤ 10], 1[10 &lt; N(x) â‰¤ 100],â€¦]ç¦»æ•£åŒ–ï¼ŒèŒƒå›´è¶³å¤Ÿç²¾ç»†çš„è¯ï¼Œå¯ä»¥éå¸¸çµæ´»åœ°æ•æ‰å¸¸è§„å…³ç³»</li></ul></li><li>Interaction between features(ç‰¹å¾ç»„åˆ)ï¼š<ul><li>æ ¹æ®èº«é«˜ã€ä½“é‡é¢„æµ‹å¥åº·ç—…äººçŠ¶å†µ</li><li>Ï†(x) = [height(x), weight(x)] #æ²¡èƒ½æ•è·èº«é«˜ä½“é‡çš„å…³ç³»</li><li>Ï†(x) = (52 + 1.9(height(x) âˆ’ 60) âˆ’ weight(x))^2 #ç»„åˆè¾“å…¥å¾—åˆ°æ–°çš„ç‰¹å¾ï¼Œåˆ©ç”¨äº†å¤–ç•ŒçŸ¥è¯†</li><li>Ï†(x) = [1, height(x), weight(x), height(x)^2, weight(x)^2, height(x)weight(x)] #æ·»åŠ åŒ…å«å¤šä¸ªåº¦é‡çš„ç‰¹å¾</li></ul></li></ul><p>Linear in whatï¼Ÿ </p><ul><li>Linear in w?  Yes</li><li>Linear in Ï†(x)?  Yes </li><li>Linear in x?  No! (x not necessarily even a vectorï¼Œå¯ä»¥æ˜¯å›¾ç‰‡ã€æ–‡å­—)</li></ul><p>å°ç»“ï¼š</p><ul><li>ä»ç‰¹å¾æå–çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰<strong>ä»»æ„</strong>ç‰¹å¾ï¼Œå¸¦æ¥xçš„æåº¦éçº¿æ€§çš„å‡½æ•°</li><li>ä»å­¦ä¹ çš„è§’åº¦æ¥çœ‹ï¼Œçº¿æ€§åœ¨æœ‰æ•ˆä¼˜åŒ–æƒé‡æ–¹é¢èµ·ç€é‡è¦ä½œç”¨ï¼ˆå› ä¸ºå®ƒä¼šå¯¼è‡´å‡¸ä¼˜åŒ–é—®é¢˜ï¼‰</li><li><strong>çº¿æ€§æ¨¡å‹å¾ˆå¼ºå¤§</strong>ï¼</li><li>å°†æ‰‹å·¥å®šä¹‰ç‰¹å¾è‡ªåŠ¨åŒ–â€”&gt; ç¥ç»ç½‘ç»œ</li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;èƒ½ä¸èƒ½ä½¿ç”¨çº¿æ€§åˆ†ç±»å™¨å¾—åˆ°å½¢çŠ¶ä¸ºåœ†åœˆçš„å†³ç­–è¾¹ç•Œï¼Ÿ&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="machine learning" scheme="https://yikayiyo.github.io/tags/machine-learning/"/>
    
  </entry>
  
  <entry>
    <title>jupyter notebookæ·»åŠ kernel</title>
    <link href="https://yikayiyo.github.io/2017/08/03/jupyter%20notebook%E6%B7%BB%E5%8A%A0kernel/"/>
    <id>https://yikayiyo.github.io/2017/08/03/jupyter%20notebook%E6%B7%BB%E5%8A%A0kernel/</id>
    <published>2017-08-03T02:20:33.000Z</published>
    <updated>2017-08-03T09:18:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>å®‰è£…jupyteræ—¶ä½¿ç”¨äº†æ¨èçš„Anacondaï¼Œpythoné»˜è®¤ç¯å¢ƒpython3ã€‚<br>æ·»åŠ python2çš„æ–¹æ³•å¦‚ä¸‹ï¼Œäº²æµ‹æœ‰æ•ˆ - 0-</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">conda create -n py27 python=<span class="number">2.7</span></div><div class="line">source activate py27</div><div class="line">conda install notebook ipykernel</div><div class="line">ipython kernel install --user</div></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å®‰è£…jupyteræ—¶ä½¿ç”¨äº†æ¨èçš„Anacondaï¼Œpythoné»˜è®¤ç¯å¢ƒpython3ã€‚&lt;br&gt;æ·»åŠ python2çš„æ–¹æ³•å¦‚ä¸‹ï¼Œäº²æµ‹æœ‰æ•ˆ - 0-&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=
      
    
    </summary>
    
    
    
      <category term="python" scheme="https://yikayiyo.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šç¼–ç ã€‹è¯»åæ„Ÿ</title>
    <link href="https://yikayiyo.github.io/2017/07/31/%E7%BC%96%E7%A0%81%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
    <id>https://yikayiyo.github.io/2017/07/31/%E7%BC%96%E7%A0%81%E8%AF%BB%E5%90%8E%E6%84%9F/</id>
    <published>2017-07-31T14:33:33.000Z</published>
    <updated>2017-08-01T10:47:34.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¾ˆæœ‰è¶£çš„ä¹¦ã€‚</p><p>æ—©ç‚¹è¯»åˆ°è¿™æœ¬ä¹¦çš„è¯ï¼Œå­¦ä¹ è®¡ç®—æœºåŸºç¡€çŸ¥è¯†çš„æ—¶å€™åº”è¯¥ä¼šä¸€è¾¹å­¦ä¸€è¾¹æ„Ÿå¹â€œå“‡ï¼æœ‰æ„æ€ï¼â€å§ã€‚</p><p>è®¡ç®—æœºåœ¨ä»Šå¤©å¦‚æ­¤æ™®åŠï¼Œç°ä»£äººäº«å—ä¾¿åˆ©çš„æ—¶å€™å¦‚æœæƒ³æƒ³è¿™ä¸œè¥¿æ˜¯æ€ä¹ˆå‘æ˜å‡ºæ¥çš„ï¼Œä¸€å®šå¾—æƒŠå¹â€œä¸å¯æ€è®®â€ã€‚</p><p>ç›²æ–‡ã€æ‘©æ–¯ç ã€ç¯æ³¡ã€ç”µæ± ã€ç»§ç”µå™¨ã€åè¿›åˆ¶ã€bitã€äºŒè¿›åˆ¶ã€é—¨ç”µè·¯ç­‰ç­‰ï¼Œä¹¦ä¸­è®°å½•äº†è¿™äº›æ¢ç´¢æ˜¯å¦‚ä½•ä¸€æ­¥ä¸€æ­¥å½±å“ç€ç°ä»£ç§‘æŠ€çš„ã€‚</p><p><strong>æ¯ä¸€ç§è¯­è¨€éƒ½å¯ä»¥çœ‹ä½œæ˜¯ä¸€å¥—ç¼–ç </strong>ã€‚</p><p>ç¼–ç æ˜¯ä¸ºäº†æ»¡è¶³äººçš„æŸä¸ªéœ€æ±‚å‡ºç°çš„ï¼Œè€Œè¯­è¨€æ˜¯ä¸ºäº†äº¤æµã€‚</p><p>è§„åˆ™ä¸ä¸€æ ·æ—¶ï¼ŒåŒä¸€ä¸ªç‰©ä½“åœ¨ç¼–ç ç©ºé—´æ‰€å¤„çš„ä½ç½®å°±ä¸ä¸€æ ·äº†ã€‚</p><p>å¦‚æœåªæœ‰ä¸€é—¨è¯­è¨€ï¼Œä¸€ç§ç¼–ç ï¼Œå°±ä¸éœ€è¦ç¿»è¯‘äº†ã€‚</p><p>äººç±»èµ·åˆåœ¨ä¸åŒçš„åŒºåŸŸå½¢æˆäº†ä¸åŒçš„è¯­è¨€ï¼Œå¦‚ä»Šäº¤æµå¦‚æ­¤é¢‘ç¹ï¼Œå›å½’ä¸€ç§è¯­è¨€æ˜¯ä¸æ˜¯æœ‰ä¸€ç§å®¿å‘½çš„æ„Ÿè§‰ã€‚</p><p>God is watching you.</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¾ˆæœ‰è¶£çš„ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;æ—©ç‚¹è¯»åˆ°è¿™æœ¬ä¹¦çš„è¯ï¼Œå­¦ä¹ è®¡ç®—æœºåŸºç¡€çŸ¥è¯†çš„æ—¶å€™åº”è¯¥ä¼šä¸€è¾¹å­¦ä¸€è¾¹æ„Ÿå¹â€œå“‡ï¼æœ‰æ„æ€ï¼â€å§ã€‚&lt;/p&gt;
&lt;p&gt;è®¡ç®—æœºåœ¨ä»Šå¤©å¦‚æ­¤æ™®åŠï¼Œç°ä»£äººäº«å—ä¾¿åˆ©çš„æ—¶å€™å¦‚æœæƒ³æƒ³è¿™ä¸œè¥¿æ˜¯æ€ä¹ˆå‘æ˜å‡ºæ¥çš„ï¼Œä¸€å®šå¾—æƒŠå¹â€œä¸å¯æ€è®®â€ã€‚&lt;/p&gt;
&lt;p&gt;ç›²æ–‡ã€æ‘©æ–¯ç ã€ç¯æ³¡ã€ç”µæ± ã€ç»§ç”µå™¨
      
    
    </summary>
    
    
    
      <category term="è¯»ä¹¦ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
      <category term="æ‚" scheme="https://yikayiyo.github.io/tags/%E6%9D%82/"/>
    
  </entry>
  
  <entry>
    <title>çˆ¬è™«tipsï¼ˆ2ï¼‰</title>
    <link href="https://yikayiyo.github.io/2017/07/24/%E7%88%AC%E8%99%ABtips%EF%BC%882%EF%BC%89/"/>
    <id>https://yikayiyo.github.io/2017/07/24/%E7%88%AC%E8%99%ABtips%EF%BC%882%EF%BC%89/</id>
    <published>2017-07-24T07:55:00.000Z</published>
    <updated>2017-07-29T14:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="åŠ¨æ€å†…å®¹" class="heading-control"><a href="#åŠ¨æ€å†…å®¹" class="headerlink" title="åŠ¨æ€å†…å®¹"></a>åŠ¨æ€å†…å®¹<a class="heading-anchor" href="#åŠ¨æ€å†…å®¹" aria-hidden="true"></a></h3><p>ä¾èµ–JavaScriptçš„åŠ¨æ€ç½‘ç«™ï¼Œä¸æ˜¯åœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶ä¸‹è½½å…¨éƒ¨å†…å®¹ï¼Œç½‘é¡µä¸­å±•ç¤ºçš„å†…å®¹å¹¶æ²¡æœ‰å‡ºç°åœ¨HTMLæºç ä¸­</p><h4 id="AJAX" class="heading-control"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX<a class="heading-anchor" href="#AJAX" aria-hidden="true"></a></h4><blockquote><p>Asynchronous JavaScript and XML<br>ç»¼åˆäº†å¤šé¡¹æŠ€æœ¯çš„æµè§ˆå™¨ç«¯ç½‘é¡µå¼€å‘æŠ€æœ¯<br>å…è®¸JavaScriptåˆ›å»ºåˆ°æœåŠ¡å™¨çš„HTTPè¯·æ±‚å¹¶è·å¾—å“åº”</p></blockquote><a id="more"></a><p>â€ƒâ€ƒä¼ ç»Ÿçš„Webåº”ç”¨å…è®¸ç”¨æˆ·ç«¯å¡«å†™è¡¨å•ï¼ˆformï¼‰ï¼Œå½“æäº¤è¡¨å•æ—¶å°±å‘ç½‘é¡µæœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ã€‚æœåŠ¡å™¨æ¥æ”¶å¹¶å¤„ç†ä¼ æ¥çš„è¡¨å•ï¼Œç„¶åé€å›ä¸€ä¸ªæ–°çš„ç½‘é¡µï¼Œä½†è¿™ä¸ªåšæ³•æµªè´¹äº†è®¸å¤šå¸¦å®½ï¼Œå› ä¸ºåœ¨å‰åä¸¤ä¸ªé¡µé¢ä¸­çš„å¤§éƒ¨åˆ†HTMLç å¾€å¾€æ˜¯ç›¸åŒçš„ã€‚ç”±äºæ¯æ¬¡åº”ç”¨çš„æ²Ÿé€šéƒ½éœ€è¦å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œåº”ç”¨çš„å›åº”æ—¶é—´ä¾èµ–äºæœåŠ¡å™¨çš„å›åº”æ—¶é—´ã€‚è¿™å¯¼è‡´äº†ç”¨æˆ·ç•Œé¢çš„å›åº”æ¯”æœ¬æœºåº”ç”¨æ…¢å¾—å¤šã€‚<br>â€ƒâ€ƒä¸æ­¤ä¸åŒï¼ŒAJAXåº”ç”¨å¯ä»¥ä»…å‘æœåŠ¡å™¨å‘é€å¹¶å–å›å¿…é¡»çš„æ•°æ®ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯é‡‡ç”¨JavaScriptå¤„ç†æ¥è‡ªæœåŠ¡å™¨çš„å›åº”ã€‚å› ä¸ºåœ¨æœåŠ¡å™¨å’Œæµè§ˆå™¨ä¹‹é—´äº¤æ¢çš„æ•°æ®å¤§é‡å‡å°‘ï¼ˆå¤§çº¦åªæœ‰åŸæ¥çš„5%ï¼‰[æ¥æºè¯·æ±‚],æœåŠ¡å™¨å›åº”æ›´å¿«äº†ã€‚åŒæ—¶ï¼Œå¾ˆå¤šçš„å¤„ç†å·¥ä½œå¯ä»¥åœ¨å‘å‡ºè¯·æ±‚çš„å®¢æˆ·ç«¯æœºå™¨ä¸Šå®Œæˆï¼Œå› æ­¤WebæœåŠ¡å™¨çš„è´Ÿè·ä¹Ÿå‡å°‘äº†ã€‚</p><h3 id="æŠ“å–æ–¹å¼" class="heading-control"><a href="#æŠ“å–æ–¹å¼" class="headerlink" title="æŠ“å–æ–¹å¼"></a>æŠ“å–æ–¹å¼<a class="heading-anchor" href="#æŠ“å–æ–¹å¼" aria-hidden="true"></a></h3><ul><li>JavaScripté€†å‘å·¥ç¨‹</li><li>æ¸²æŸ“ JavaScript</li></ul><h4 id="JavaScripté€†å‘å·¥ç¨‹" class="heading-control"><a href="#JavaScripté€†å‘å·¥ç¨‹" class="headerlink" title="JavaScripté€†å‘å·¥ç¨‹"></a>JavaScripté€†å‘å·¥ç¨‹<a class="heading-anchor" href="#JavaScripté€†å‘å·¥ç¨‹" aria-hidden="true"></a></h4><p>æ‰€è°“é€†å‘å·¥ç¨‹å°±æ˜¯å»äº†è§£æ•°æ®çš„è¯·æ±‚é“¾æ¥æ˜¯ä»€ä¹ˆå½¢å¼<br>AJAXæ•°æ®å¯ä»¥ç›´æ¥è¯·æ±‚ï¼Œæˆ‘ä»¬è¦åšçš„æ˜¯æ„å»ºè¯·æ±‚ï¼Œç„¶ååˆ†æè¿”å›çš„ç»“æœï¼ˆ ä¸€èˆ¬æ˜¯JSONæ•°æ®â€”â€”pythonæä¾›äº†jsonæ¨¡å—å¯ä»¥æ–¹ä¾¿åœ°è§£æresponseæ•°æ®<br>ä¸æŠ½å–htmlå†åˆ†æç›¸æ¯”ï¼Œè¿™ç§æ–¹å¼ä¸‹æ•°æ®çš„ç»“æ„å…¶å®æ›´å®¹æ˜“æŠ½å–<br><strong>æ„å»ºè¯·æ±‚æ—¶åˆ©ç”¨è¾¹ç•Œæƒ…å†µè¿›è¡Œç®€åŒ–</strong>ï¼š</p><ol><li>æé«˜æ¯ä¸ªé¡µé¢çš„æ˜¾ç¤ºæ•°é‡å¯ä»¥å‡å°‘ä¸‹è½½æ¬¡æ•°</li><li>å°è¯•åˆ©ç”¨æ­£åˆ™å‡å°‘è¯·æ±‚ï¼Œä½¿ç”¨ä¸€æ¬¡æœç´¢æŸ¥è¯¢å°±èƒ½åŒ¹é…æ‰€æœ‰ç»“æœ</li></ol><h4 id="æ¸²æŸ“JavaScript" class="heading-control"><a href="#æ¸²æŸ“JavaScript" class="headerlink" title="æ¸²æŸ“JavaScript"></a>æ¸²æŸ“JavaScript<a class="heading-anchor" href="#æ¸²æŸ“JavaScript" aria-hidden="true"></a></h4><p>æ¸²æŸ“å¼•æ“æ˜¯æµè§ˆå™¨åœ¨æ˜¾ç¤ºç½‘é¡µæ—¶è§£æHTMLã€åº”ç”¨cssæ ·å¼å¹¶æ‰§è¡ŒJavaScriptè¯­å¥çš„éƒ¨åˆ†<br>åˆ©ç”¨Selenium+PhantomJSå¯ä»¥æ¨¡æ‹Ÿ<strong>ä¸Šè¿°è¡Œä¸º</strong>ï¼ˆSeleniumä¹Ÿå¯ä»¥æ‰§è¡ŒJavaScriptè„šæœ¬ï¼‰æ²¡æœ‰å…³æ³¨<strong>é“¾æ¥æ„é€ </strong><br>è½®è¯¢ç½‘é¡µï¼šåˆ¤æ–­ç‰¹å®šå†…å®¹æœ‰æ²¡æœ‰å‡ºç°</p><h4 id="æ¯”è¾ƒ" class="heading-control"><a href="#æ¯”è¾ƒ" class="headerlink" title="æ¯”è¾ƒ"></a>æ¯”è¾ƒ<a class="heading-anchor" href="#æ¯”è¾ƒ" aria-hidden="true"></a></h4><p>å‰è€…ä»é•¿æœŸæ¥çœ‹æ€§èƒ½å’Œå¯é æ€§æ›´é«˜<br>åè€…é€‚åˆä½œä¸ºçŸ­æœŸè§£å†³æ–¹æ¡ˆï¼Œä¸éœ€è¦æˆ‘ä»¬äº†è§£ç½‘ç«™çš„åç«¯å·¥ä½œåŸç†<br>ä¸è¶³åœ¨äºæ¸²æŸ“ç½‘é¡µå¢åŠ äº†å¼€é”€ï¼Œè½®è¯¢ç½‘é¡µåœ¨ç½‘ç»œè¾ƒæ…¢æ—¶ç»å¸¸å¤±è´¥</p><h4 id="TODO" class="heading-control"><a href="#TODO" class="headerlink" title="TODO"></a>TODO<a class="heading-anchor" href="#TODO" aria-hidden="true"></a></h4><p>è¡¨å•äº¤äº’</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;åŠ¨æ€å†…å®¹&quot;&gt;&lt;a href=&quot;#åŠ¨æ€å†…å®¹&quot; class=&quot;headerlink&quot; title=&quot;åŠ¨æ€å†…å®¹&quot;&gt;&lt;/a&gt;åŠ¨æ€å†…å®¹&lt;/h3&gt;&lt;p&gt;ä¾èµ–JavaScriptçš„åŠ¨æ€ç½‘ç«™ï¼Œä¸æ˜¯åœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶ä¸‹è½½å…¨éƒ¨å†…å®¹ï¼Œç½‘é¡µä¸­å±•ç¤ºçš„å†…å®¹å¹¶æ²¡æœ‰å‡ºç°åœ¨HTMLæºç ä¸­&lt;/p&gt;
&lt;h4 id=&quot;AJAX&quot;&gt;&lt;a href=&quot;#AJAX&quot; class=&quot;headerlink&quot; title=&quot;AJAX&quot;&gt;&lt;/a&gt;AJAX&lt;/h4&gt;&lt;blockquote&gt;&lt;p&gt;Asynchronous JavaScript and XML&lt;br&gt;ç»¼åˆäº†å¤šé¡¹æŠ€æœ¯çš„æµè§ˆå™¨ç«¯ç½‘é¡µå¼€å‘æŠ€æœ¯&lt;br&gt;å…è®¸JavaScriptåˆ›å»ºåˆ°æœåŠ¡å™¨çš„HTTPè¯·æ±‚å¹¶è·å¾—å“åº”&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="çˆ¬è™«" scheme="https://yikayiyo.github.io/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>selenium + phantomJS å°Demo</title>
    <link href="https://yikayiyo.github.io/2017/07/23/selenium%20+%20phantomJS%20%E5%B0%8FDemo/"/>
    <id>https://yikayiyo.github.io/2017/07/23/selenium%20+%20phantomJS%20%E5%B0%8FDemo/</id>
    <published>2017-07-23T12:20:16.000Z</published>
    <updated>2017-07-26T13:42:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>å€ŸåŠ©seleniumå’ŒphantomJSæŠ“å–æ·˜å®ç¾é£Ÿä¿¡æ¯.</p><h4 id="é…ç½®" class="heading-control"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®<a class="heading-anchor" href="#é…ç½®" aria-hidden="true"></a></h4><p>æ•°æ®åº“é…ç½®<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#æ ·ä¾‹</span></div><div class="line">MONGO_URL=<span class="string">'localhost'</span></div><div class="line">MONGO_DB=<span class="string">'taobao'</span></div><div class="line">MONGO_TABLE=<span class="string">'product'</span></div></pre></td></tr></tbody></table></figure><p></p><p>å£°æ˜æµè§ˆå™¨</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">browser=webdriver.PhantomJS(service_args=SERVICE_ARGS)</div></pre></td></tr></tbody></table></figure><p>æµè§ˆå™¨é…ç½®<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#ä¸åŠ è½½å›¾ç‰‡ã€å¼€å¯ç¼“å­˜</span></div><div class="line">SERVICE_ARGS=[<span class="string">'--load-images=false'</span>,<span class="string">'--disk-cache=true'</span>]</div></pre></td></tr></tbody></table></figure><p></p><h4 id="æœç´¢" class="heading-control"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢<a class="heading-anchor" href="#æœç´¢" aria-hidden="true"></a></h4><a id="more"></a><ol><li>ç»™å®šurl,è¯·æ±‚é¡µé¢</li><li>åˆ¤æ–­åŠ è½½æˆåŠŸï¼Œå®šä½æœç´¢æ¡†inputï¼Œæœç´¢æŒ‰é’®submit</li><li>æœç´¢æ¡†ä¸­è¾“å…¥ä¿¡æ¯ï¼Œinput.send_keys(â€˜ç¾é£Ÿâ€™)ï¼›ç‚¹å‡»æœç´¢æŒ‰é’®ï¼Œsubmit.click()</li><li>ç­‰å¾…åŠ è½½ï¼Œè·å–ç»“æœæ€»é¡µæ•°ï¼ˆæ­£åˆ™æå–æ•°å­—)</li></ol><h4 id="ç¿»é¡µ" class="heading-control"><a href="#ç¿»é¡µ" class="headerlink" title="ç¿»é¡µ"></a>ç¿»é¡µ<a class="heading-anchor" href="#ç¿»é¡µ" aria-hidden="true"></a></h4><p>é‡‡ç”¨é¡µé¢è·³è½¬ï¼Œå³è¾“å…¥åˆ°ç¬¬Xé¡µç„¶åç‚¹å‡»ç¡®å®šã€‚</p><ol><li>åˆ¤æ–­åŠ è½½æˆåŠŸï¼Œå®šä½è·³è½¬æŒ‰é’®ï¼Œé¡µç æ¡†</li><li>æ¸…é™¤é¡µç æ¡†ä¸­åŸå§‹ä¿¡æ¯ï¼Œè¾“å…¥é¡µç ï¼Œç‚¹å‡»è·³è½¬æŒ‰é’®</li><li>åˆ¤æ–­ç¿»é¡µæˆåŠŸï¼šé«˜äº®é¡µç  == é¡µç æ¡†ä¸­çš„æ•° ==&gt; text_to_be_present_in_element()</li></ol><h4 id="é¡µé¢è§£æ" class="heading-control"><a href="#é¡µé¢è§£æ" class="headerlink" title="é¡µé¢è§£æ"></a>é¡µé¢è§£æ<a class="heading-anchor" href="#é¡µé¢è§£æ" aria-hidden="true"></a></h4><ol><li>åˆ¤æ–­åŠ è½½æ˜¯å¦æˆåŠŸ</li><li>è·å–page_source</li><li>åˆ©ç”¨cssè§£æå™¨æˆ–è€…xpathï¼Œå¯¹äºitemlistä¸­çš„æ¯ä¸€ä¸ªitemï¼Œæå–ç›¸å…³ä¿¡æ¯</li><li>å­˜å…¥æ•°æ®åº“</li></ol><h4 id="æ³¨æ„" class="heading-control"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„<a class="heading-anchor" href="#æ³¨æ„" aria-hidden="true"></a></h4><p>æŠ›å‡ºå¼‚å¸¸</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å€ŸåŠ©seleniumå’ŒphantomJSæŠ“å–æ·˜å®ç¾é£Ÿä¿¡æ¯.&lt;/p&gt;
&lt;h4 id=&quot;é…ç½®&quot;&gt;&lt;a href=&quot;#é…ç½®&quot; class=&quot;headerlink&quot; title=&quot;é…ç½®&quot;&gt;&lt;/a&gt;é…ç½®&lt;/h4&gt;&lt;p&gt;æ•°æ®åº“é…ç½®&lt;br&gt;&lt;/p&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#æ ·ä¾‹&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;MONGO_URL=&lt;span class=&quot;string&quot;&gt;&#39;localhost&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;MONGO_DB=&lt;span class=&quot;string&quot;&gt;&#39;taobao&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;MONGO_TABLE=&lt;span class=&quot;string&quot;&gt;&#39;product&#39;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;å£°æ˜æµè§ˆå™¨&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;browser=webdriver.PhantomJS(service_args=SERVICE_ARGS)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æµè§ˆå™¨é…ç½®&lt;br&gt;&lt;/p&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#ä¸åŠ è½½å›¾ç‰‡ã€å¼€å¯ç¼“å­˜&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;SERVICE_ARGS=[&lt;span class=&quot;string&quot;&gt;&#39;--load-images=false&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;--disk-cache=true&#39;&lt;/span&gt;]&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;
&lt;h4 id=&quot;æœç´¢&quot;&gt;&lt;a href=&quot;#æœç´¢&quot; class=&quot;headerlink&quot; title=&quot;æœç´¢&quot;&gt;&lt;/a&gt;æœç´¢&lt;/h4&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="çˆ¬è™«" scheme="https://yikayiyo.github.io/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>çˆ¬è™«tips</title>
    <link href="https://yikayiyo.github.io/2017/07/21/%E7%88%AC%E8%99%ABtips/"/>
    <id>https://yikayiyo.github.io/2017/07/21/%E7%88%AC%E8%99%ABtips/</id>
    <published>2017-07-21T07:16:19.000Z</published>
    <updated>2017-08-22T09:33:54.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="é“¾æ¥æŠ“å–" class="heading-control"><a href="#é“¾æ¥æŠ“å–" class="headerlink" title="é“¾æ¥æŠ“å–"></a>é“¾æ¥æŠ“å–<a class="heading-anchor" href="#é“¾æ¥æŠ“å–" aria-hidden="true"></a></h3><ul><li>æ ¹æ®é¦–é¡µé“¾æ¥æŠ“å–å†…å®¹</li><li>é¡µé¢åŒ…å«çš„é“¾æ¥æ”¾å…¥ä¸€ä¸ªset,é¿å…é‡å¤</li><li>è§£ærobot.txt,é¿å…ä¸‹è½½ç¦æ­¢çˆ¬å–çš„é¡µé¢</li><li>å·²ç»æŠ“å–è¿‡çš„é“¾æ¥æ”¾åœ¨ä¸€ä¸ªset</li><li><a id="more"></a></li><li>æŠ½å–æ·±åº¦è¾¾åˆ°é™å®šå€¼ååœæ­¢,é¿å…çˆ¬è™«é™·é˜±</li><li>åŒä¸€åŸŸåçš„ä¸¤æ¬¡ä¸‹è½½ä¹‹é—´è®¾ç½®å»¶è¿Ÿ,é¿å…çˆ¬å–è¿‡å¿«</li><li>ä¸‹è½½å¤±è´¥æ—¶é‡è¯•ä¸‹è½½(è®¾ç½®ä¸€ä¸ªtry_timeså‚æ•°,é€’å½’è°ƒç”¨ </li></ul><p>å¾—åˆ°ä¸€å †htmlé¡µé¢</p><h3 id="æ•°æ®æŠ“å–" class="heading-control"><a href="#æ•°æ®æŠ“å–" class="headerlink" title="æ•°æ®æŠ“å–"></a>æ•°æ®æŠ“å–<a class="heading-anchor" href="#æ•°æ®æŠ“å–" aria-hidden="true"></a></h3><table><thead><tr><th>æ–¹æ³•</th><th>æ€§èƒ½</th><th>ä½¿ç”¨éš¾åº¦</th><th>å®‰è£…éš¾åº¦</th></tr></thead><tbody><tr><td>æ­£åˆ™</td><td>å¿«</td><td>å›°éš¾</td><td>ç®€å•</td></tr><tr><td>Beautiful Soup</td><td>æ…¢</td><td>ç®€å•</td><td>ç®€å•</td></tr><tr><td>Lxml</td><td>å¿«</td><td>ç®€å•</td><td>ç›¸å¯¹å›°éš¾</td></tr></tbody></table><p>å¦‚æœçˆ¬è™«çš„ç“¶é¢ˆåœ¨ä¸‹è½½é¡µé¢,ä¸æ˜¯æ•°æ®æŠ“å–,é‚£ä¹ˆå¯ä»¥ä½¿ç”¨BS<br>å¦‚æœè¦æŠ“çš„æ•°æ®ä¸å¤š,ä½¿ç”¨æ­£åˆ™æ›´åŠ é«˜æ•ˆç‡<br>lxmlæ˜¯æœ€ä½³é€‰æ‹©</p><h4 id="æ­£åˆ™" class="heading-control"><a href="#æ­£åˆ™" class="headerlink" title="æ­£åˆ™"></a>æ­£åˆ™<a class="heading-anchor" href="#æ­£åˆ™" aria-hidden="true"></a></h4><p>å¦‚æœè¦é€‰å–çš„ä¸œè¥¿,æ ¼å¼å¾ˆå¸¸è§,æœ‰å¾ˆå¤šç›¸ä¼¼é¡¹,å¯ä»¥å°è¯•æŒ‡æ˜å®ƒçš„çˆ¶å…ƒç´ æˆ–è€…ç¥–å…ˆå…ƒç´ ,æœ€å¥½æ˜¯æœ‰idå±æ€§ (:_&lt; idæ˜¯<strong>å”¯ä¸€</strong>çš„å§)  </p><h4 id="CSSé€‰æ‹©å™¨" class="heading-control"><a href="#CSSé€‰æ‹©å™¨" class="headerlink" title="CSSé€‰æ‹©å™¨"></a>CSSé€‰æ‹©å™¨<a class="heading-anchor" href="#CSSé€‰æ‹©å™¨" aria-hidden="true"></a></h4><ul><li>é€‰æ‹©æ‰€æœ‰æ ‡ç­¾: *.</li><li>é€‰æ‹©aæ ‡ç­¾: a</li><li>é€‰æ‹©class=â€linkâ€çš„å…ƒç´ : .link</li><li>é€‰æ‹©class=â€linkâ€çš„aæ ‡ç­¾: a.link</li><li>é€‰æ‹©id=â€homeâ€çš„aæ ‡ç­¾: a#home</li><li>é€‰æ‹©çˆ¶å…ƒç´ ä¸ºaæ ‡ç­¾çš„æ‰€æœ‰spanæ ‡ç­¾: a &gt; span</li><li>é€‰æ‹©aæ ‡ç­¾å†…çš„æ‰€æœ‰spanæ ‡ç­¾: a span</li><li>é€‰æ‹©titleå±æ€§ä¸ºâ€homeâ€çš„æ‰€æœ‰aæ ‡ç­¾: a[title=home]</li></ul><h4 id="ç»™é“¾æ¥æŠ½å–æ·»åŠ æ•°æ®å¤„ç†å›è°ƒ" class="heading-control"><a href="#ç»™é“¾æ¥æŠ½å–æ·»åŠ æ•°æ®å¤„ç†å›è°ƒ" class="headerlink" title="ç»™é“¾æ¥æŠ½å–æ·»åŠ æ•°æ®å¤„ç†å›è°ƒ"></a>ç»™é“¾æ¥æŠ½å–æ·»åŠ æ•°æ®å¤„ç†å›è°ƒ<a class="heading-anchor" href="#ç»™é“¾æ¥æŠ½å–æ·»åŠ æ•°æ®å¤„ç†å›è°ƒ" aria-hidden="true"></a></h4><ul><li>æ„é€ å›è°ƒ<strong>å‡½æ•°</strong>æˆ–è€…å›è°ƒ<strong>ç±»</strong>(å®šä¹‰<strong>__call__()</strong>æ–¹æ³•)</li><li>æ•°æ®å†™å…¥æ–‡ä»¶</li></ul><h3 id="ä¸‹è½½ç¼“å­˜" class="heading-control"><a href="#ä¸‹è½½ç¼“å­˜" class="headerlink" title="ä¸‹è½½ç¼“å­˜"></a>ä¸‹è½½ç¼“å­˜<a class="heading-anchor" href="#ä¸‹è½½ç¼“å­˜" aria-hidden="true"></a></h3><h4 id="ç£ç›˜ç¼“å­˜" class="heading-control"><a href="#ç£ç›˜ç¼“å­˜" class="headerlink" title="ç£ç›˜ç¼“å­˜"></a>ç£ç›˜ç¼“å­˜<a class="heading-anchor" href="#ç£ç›˜ç¼“å­˜" aria-hidden="true"></a></h4><ul><li>ä¸‹è½½å‰æ£€æŸ¥ç¼“å­˜</li><li>æ²¡æœ‰æ—¶å†è¯·æ±‚ç½‘é¡µä¸‹è½½,å¹¶å­˜è‡³ç¼“å­˜</li><li>è®¾è®¡URLåˆ°æ–‡ä»¶åçš„<strong>æ˜ å°„</strong> : æ³¨æ„å‘½åæ ¼å¼é™åˆ¶,ä¾‹å¦‚é•¿åº¦,å…è®¸çš„å­—ç¬¦</li><li>æ•°æ®(html)å¯ä»¥å‹ç¼©: zlib.compress|zlib.decompress</li><li><p>ä¿å­˜æ—¶é—´æˆ³,è¿‡æœŸç¼“å­˜å¤±æ•ˆ</p><p><strong>ç¼ºç‚¹</strong>: å—é™äºæ–‡ä»¶ç³»ç»Ÿ,æ•°é‡æœ‰é™</p></li></ul><h4 id="æ•°æ®åº“ç¼“å­˜" class="heading-control"><a href="#æ•°æ®åº“ç¼“å­˜" class="headerlink" title="æ•°æ®åº“ç¼“å­˜"></a>æ•°æ®åº“ç¼“å­˜<a class="heading-anchor" href="#æ•°æ®åº“ç¼“å­˜" aria-hidden="true"></a></h4><p>å­˜å‚¨å¤§é‡æ•°æ®,æ²¡æœ‰å¤æ‚çš„è¿æ¥æ“ä½œ,é€‰æ‹©æ˜“æ‹“å±•çš„NoSql<br>åŠ è½½æ—¶é—´æ¯”æ–‡ä»¶ç³»ç»Ÿå¤š,ä½†å…äºæ–‡ä»¶ç³»ç»Ÿçš„é™åˆ¶</p><h3 id="å¹¶å‘ä¸‹è½½" class="heading-control"><a href="#å¹¶å‘ä¸‹è½½" class="headerlink" title="å¹¶å‘ä¸‹è½½"></a>å¹¶å‘ä¸‹è½½<a class="heading-anchor" href="#å¹¶å‘ä¸‹è½½" aria-hidden="true"></a></h3><h4 id="å¤šçº¿ç¨‹çˆ¬è™«" class="heading-control"><a href="#å¤šçº¿ç¨‹çˆ¬è™«" class="headerlink" title="å¤šçº¿ç¨‹çˆ¬è™«"></a>å¤šçº¿ç¨‹çˆ¬è™«<a class="heading-anchor" href="#å¤šçº¿ç¨‹çˆ¬è™«" aria-hidden="true"></a></h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#å¤„ç†urlçš„å‡½æ•°</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">thread_crawler</span>:</span></div><div class="line">    ...</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">process_url</span>:</span></div><div class="line"><span class="keyword">pass</span></div><div class="line">    ...</div><div class="line"></div><div class="line">    <span class="comment">#é€»è¾‘:è®¾å®šä¸€ä¸ªçº¿ç¨‹æ± ,æœ€å¤§çº¿ç¨‹æ•°ä¸ºmax_threads.å½“æœ‰URLçˆ¬å–æ—¶,æ£€æµ‹æ˜¯å¦æœ‰çº¿ç¨‹,æœ‰çš„è¯å¤„ç†æ‰å®Œæˆçš„çº¿ç¨‹,å†åˆ¤æ–­æ˜¯å¦åˆ›å»ºæ–°çº¿ç¨‹</span></div><div class="line">    threads=[]</div><div class="line">    <span class="keyword">while</span> threads <span class="keyword">or</span> crawl_queue:</div><div class="line">        <span class="keyword">for</span> thread <span class="keyword">in</span> threads:</div><div class="line">            <span class="keyword">if</span> <span class="keyword">not</span> thread.is_allive():</div><div class="line">                <span class="comment">#remove</span></div><div class="line">                threads.remove(thread)</div><div class="line">        <span class="comment">#åœ¨å¤šä¸ªçº¿ç¨‹ä¸­å¯åŠ¨process_url,æ¡ä»¶æ˜¯å½“å‰çº¿ç¨‹æ•°å°äºè®¾å®šå€¼,å¹¶ä¸”å¾…çˆ¬é˜Ÿåˆ—ä¸ä¸ºç©º</span></div><div class="line">        <span class="keyword">while</span> len(threads)&lt;max_threads <span class="keyword">and</span> crawl_queue:</div><div class="line">            thread = threading.Thread(target=process_url)</div><div class="line">            thread.start()</div><div class="line">            threads.append(thread)</div></pre></td></tr></tbody></table></figure><h4 id="å¤šè¿›ç¨‹çˆ¬è™«" class="heading-control"><a href="#å¤šè¿›ç¨‹çˆ¬è™«" class="headerlink" title="å¤šè¿›ç¨‹çˆ¬è™«"></a>å¤šè¿›ç¨‹çˆ¬è™«<a class="heading-anchor" href="#å¤šè¿›ç¨‹çˆ¬è™«" aria-hidden="true"></a></h4><p>æœ‰å‡ ä¸ªcpuåˆ›å»ºå‡ ä¸ªè¿›ç¨‹</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">processes=[]</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(num_cpus):</div><div class="line">    p=multiprocessing.Process(target=thread_crawler)</div><div class="line">    p.start()</div><div class="line">    processes.append(p)</div></pre></td></tr></tbody></table></figure><h3 id="åŠ¨æ€å†…å®¹" class="heading-control"><a href="#åŠ¨æ€å†…å®¹" class="headerlink" title="åŠ¨æ€å†…å®¹"></a>åŠ¨æ€å†…å®¹<a class="heading-anchor" href="#åŠ¨æ€å†…å®¹" aria-hidden="true"></a></h3><p>todoâ€¦</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;é“¾æ¥æŠ“å–&quot;&gt;&lt;a href=&quot;#é“¾æ¥æŠ“å–&quot; class=&quot;headerlink&quot; title=&quot;é“¾æ¥æŠ“å–&quot;&gt;&lt;/a&gt;é“¾æ¥æŠ“å–&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æ ¹æ®é¦–é¡µé“¾æ¥æŠ“å–å†…å®¹&lt;/li&gt;
&lt;li&gt;é¡µé¢åŒ…å«çš„é“¾æ¥æ”¾å…¥ä¸€ä¸ªset,é¿å…é‡å¤&lt;/li&gt;
&lt;li&gt;è§£ærobot.txt,é¿å…ä¸‹è½½ç¦æ­¢çˆ¬å–çš„é¡µé¢&lt;/li&gt;
&lt;li&gt;å·²ç»æŠ“å–è¿‡çš„é“¾æ¥æ”¾åœ¨ä¸€ä¸ªset&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="çˆ¬è™«" scheme="https://yikayiyo.github.io/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>seleniumå­¦ä¹ </title>
    <link href="https://yikayiyo.github.io/2017/07/19/selenium%E5%AD%A6%E4%B9%A0/"/>
    <id>https://yikayiyo.github.io/2017/07/19/selenium%E5%AD%A6%E4%B9%A0/</id>
    <published>2017-07-19T12:59:19.000Z</published>
    <updated>2017-07-19T13:42:00.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å£°æ˜æµè§ˆå™¨å¯¹è±¡" class="heading-control"><a href="#å£°æ˜æµè§ˆå™¨å¯¹è±¡" class="headerlink" title="å£°æ˜æµè§ˆå™¨å¯¹è±¡"></a>å£°æ˜æµè§ˆå™¨å¯¹è±¡<a class="heading-anchor" href="#å£°æ˜æµè§ˆå™¨å¯¹è±¡" aria-hidden="true"></a></h3><p>ubuntuä¸‹æ‰“ä¸å¼€chromeæµè§ˆå™¨ï¼Œé‡æ–°å®‰è£…äº†chromium-browserï¼Œå¹¶ä½¿ç”¨ä¸‹é¢çš„å£°æ˜è¯­å¥<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">browser = webdriver.Chrome(<span class="string">"/usr/lib/chromium-browser/chromedriver"</span>)</div></pre></td></tr></tbody></table></figure><p></p><p>æ–¹æ¡ˆæ¥æº<a href="https://stackoverflow.com/questions/22476112/using-chromedriver-with-selenium-python-ubuntu" target="_blank" rel="external">https://stackoverflow.com/questions/22476112/using-chromedriver-with-selenium-python-ubuntu</a> </p><p>è²Œä¼¼æ·»åŠ chromeçš„pathä¹Ÿèƒ½è§£å†³ </p><h3 id="è·å–å…ƒç´ " class="heading-control"><a href="#è·å–å…ƒç´ " class="headerlink" title="è·å–å…ƒç´ "></a>è·å–å…ƒç´ <a class="heading-anchor" href="#è·å–å…ƒç´ " aria-hidden="true"></a></h3><p>å¯ä»¥é€šè¿‡idï¼Œnameï¼Œclassnameï¼Œxpathï¼Œcss_selectorç­‰è·å¾—<br>ä¸¤ç§å†™æ³•ï¼š<a id="more"></a><br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</div><div class="line">elem = browser.find_element(By.ID,<span class="string">"kw"</span>)</div></pre></td></tr></tbody></table></figure><p></p><p>æˆ–è€…<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">elem = browser.find_element_by_id(<span class="string">"kw"</span>)</div></pre></td></tr></tbody></table></figure><p></p><h3 id="è·å–å¤šä¸ªå…ƒç´ " class="heading-control"><a href="#è·å–å¤šä¸ªå…ƒç´ " class="headerlink" title="è·å–å¤šä¸ªå…ƒç´ "></a>è·å–å¤šä¸ªå…ƒç´ <a class="heading-anchor" href="#è·å–å¤šä¸ªå…ƒç´ " aria-hidden="true"></a></h3><p>å°±æ˜¯elementå’Œelementsçš„å°åŒºåˆ«ï¼Œè¿”å›ä¸€ä¸ªåˆ—è¡¨ </p><h3 id="å…ƒç´ äº¤äº’" class="heading-control"><a href="#å…ƒç´ äº¤äº’" class="headerlink" title="å…ƒç´ äº¤äº’"></a>å…ƒç´ äº¤äº’<a class="heading-anchor" href="#å…ƒç´ äº¤äº’" aria-hidden="true"></a></h3><p>å…ˆè·å–ç‰¹å®šå…ƒç´ ï¼Œå†å¯¹å…¶è°ƒç”¨äº¤äº’<br>input.send_keys(â€œxxxâ€) ä¸ºå…ƒç´ èµ‹å€¼â€xxxâ€œ<br>button.click() ç‚¹å‡»buttonå…ƒç´ </p><h3 id="äº¤äº’åŠ¨ä½œ" class="heading-control"><a href="#äº¤äº’åŠ¨ä½œ" class="headerlink" title="äº¤äº’åŠ¨ä½œ"></a>äº¤äº’åŠ¨ä½œ<a class="heading-anchor" href="#äº¤äº’åŠ¨ä½œ" aria-hidden="true"></a></h3><p>å°†åŠ¨ä½œé™„åŠ åˆ°åŠ¨ä½œé“¾ä¸­æ‰§è¡Œ,æ¯”å¦‚å¯ä»¥å®ç°å…ƒç´ æ‹–æ‹½ã€ç‚¹å‡»ã€åŒå‡»ç­‰<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</div></pre></td></tr></tbody></table></figure><p></p><h3 id="æ‰§è¡ŒJavaScript" class="heading-control"><a href="#æ‰§è¡ŒJavaScript" class="headerlink" title="æ‰§è¡ŒJavaScript"></a>æ‰§è¡ŒJavaScript<a class="heading-anchor" href="#æ‰§è¡ŒJavaScript" aria-hidden="true"></a></h3><p>browser.execute_script(script_name)  </p><h3 id="è·å–å±æ€§å€¼" class="heading-control"><a href="#è·å–å±æ€§å€¼" class="headerlink" title="è·å–å±æ€§å€¼"></a>è·å–å±æ€§å€¼<a class="heading-anchor" href="#è·å–å±æ€§å€¼" aria-hidden="true"></a></h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">elem.get_attribute(<span class="string">'xxx'</span>) </div><div class="line">elem.get_property(<span class="string">'xxxx'</span>)</div></pre></td></tr></tbody></table></figure><h3 id="è·å–æ–‡æœ¬å€¼" class="heading-control"><a href="#è·å–æ–‡æœ¬å€¼" class="headerlink" title="è·å–æ–‡æœ¬å€¼"></a>è·å–æ–‡æœ¬å€¼<a class="heading-anchor" href="#è·å–æ–‡æœ¬å€¼" aria-hidden="true"></a></h3><p>elem.text  </p><h3 id="è·å–IDã€ä½ç½®ã€æ ‡ç­¾åã€å¤§å°" class="heading-control"><a href="#è·å–IDã€ä½ç½®ã€æ ‡ç­¾åã€å¤§å°" class="headerlink" title="è·å–IDã€ä½ç½®ã€æ ‡ç­¾åã€å¤§å°"></a>è·å–IDã€ä½ç½®ã€æ ‡ç­¾åã€å¤§å°<a class="heading-anchor" href="#è·å–IDã€ä½ç½®ã€æ ‡ç­¾åã€å¤§å°" aria-hidden="true"></a></h3><p>elem.id<br>elem.location<br>elem.tag_name<br>elem.size</p><h3 id="Frame" class="heading-control"><a href="#Frame" class="headerlink" title="Frame"></a>Frame<a class="heading-anchor" href="#Frame" aria-hidden="true"></a></h3><p>æå–å…ƒç´ æ—¶ï¼Œè¦æ³¨æ„frameçš„åˆ‡æ¢<br>ä½äºå­frameæ—¶ï¼Œæ‰¾ä¸åˆ°çˆ¶frameä¸­çš„å…ƒç´ </p><h3 id="ç­‰å¾…" class="heading-control"><a href="#ç­‰å¾…" class="headerlink" title="ç­‰å¾…"></a>ç­‰å¾…<a class="heading-anchor" href="#ç­‰å¾…" aria-hidden="true"></a></h3><p>éšå¼ç­‰å¾…<br>æ˜¾å¼ç­‰å¾…</p><h3 id="å‰è¿›åé€€" class="heading-control"><a href="#å‰è¿›åé€€" class="headerlink" title="å‰è¿›åé€€"></a>å‰è¿›åé€€<a class="heading-anchor" href="#å‰è¿›åé€€" aria-hidden="true"></a></h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">brower.back()</div><div class="line">brower.forward()</div></pre></td></tr></tbody></table></figure><h3 id="Cookies" class="heading-control"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies<a class="heading-anchor" href="#Cookies" aria-hidden="true"></a></h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">browser.get_cookies()</div><div class="line">browser.add_cookie({dict})</div></pre></td></tr></tbody></table></figure><h3 id="é€‰é¡¹å¡ç®¡ç†" class="heading-control"><a href="#é€‰é¡¹å¡ç®¡ç†" class="headerlink" title="é€‰é¡¹å¡ç®¡ç†"></a>é€‰é¡¹å¡ç®¡ç†<a class="heading-anchor" href="#é€‰é¡¹å¡ç®¡ç†" aria-hidden="true"></a></h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#æ‰“å¼€ä¸€ä¸ªé¡µé¢ï¼Œæ–°å»ºä¸€ä¸ªé€‰é¡¹å¡ï¼Œåˆ‡æ¢å›é¡µé¢</span></div><div class="line">url=<span class="string">"http://www.runoob.com/try/try.php?filename=jqueryui-api-droppable"</span></div><div class="line">browser.get(url)</div><div class="line">browser.execute_script(<span class="string">'window.open()'</span>)</div><div class="line">browser.switch_to.window(browser.window_handles[<span class="number">0</span>])</div></pre></td></tr></tbody></table></figure><h3 id="å¼‚å¸¸" class="heading-control"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸<a class="heading-anchor" href="#å¼‚å¸¸" aria-hidden="true"></a></h3><p>è¶…æ—¶ã€å…ƒç´ ä¸å­˜åœ¨ç­‰</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å£°æ˜æµè§ˆå™¨å¯¹è±¡&quot;&gt;&lt;a href=&quot;#å£°æ˜æµè§ˆå™¨å¯¹è±¡&quot; class=&quot;headerlink&quot; title=&quot;å£°æ˜æµè§ˆå™¨å¯¹è±¡&quot;&gt;&lt;/a&gt;å£°æ˜æµè§ˆå™¨å¯¹è±¡&lt;/h3&gt;&lt;p&gt;ubuntuä¸‹æ‰“ä¸å¼€chromeæµè§ˆå™¨ï¼Œé‡æ–°å®‰è£…äº†chromium-browserï¼Œå¹¶ä½¿ç”¨ä¸‹é¢çš„å£°æ˜è¯­å¥&lt;br&gt;&lt;/p&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;browser = webdriver.Chrome(&lt;span class=&quot;string&quot;&gt;&quot;/usr/lib/chromium-browser/chromedriver&quot;&lt;/span&gt;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;æ–¹æ¡ˆæ¥æº&lt;a href=&quot;https://stackoverflow.com/questions/22476112/using-chromedriver-with-selenium-python-ubuntu&quot;&gt;https://stackoverflow.com/questions/22476112/using-chromedriver-with-selenium-python-ubuntu&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;è²Œä¼¼æ·»åŠ chromeçš„pathä¹Ÿèƒ½è§£å†³ &lt;/p&gt;
&lt;h3 id=&quot;è·å–å…ƒç´ &quot;&gt;&lt;a href=&quot;#è·å–å…ƒç´ &quot; class=&quot;headerlink&quot; title=&quot;è·å–å…ƒç´ &quot;&gt;&lt;/a&gt;è·å–å…ƒç´ &lt;/h3&gt;&lt;p&gt;å¯ä»¥é€šè¿‡idï¼Œnameï¼Œclassnameï¼Œxpathï¼Œcss_selectorç­‰è·å¾—&lt;br&gt;ä¸¤ç§å†™æ³•ï¼š&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="çˆ¬è™«" scheme="https://yikayiyo.github.io/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>Integer Break</title>
    <link href="https://yikayiyo.github.io/2017/06/23/Integer%20Break/"/>
    <id>https://yikayiyo.github.io/2017/06/23/Integer%20Break/</id>
    <published>2017-06-23T02:59:19.000Z</published>
    <updated>2017-07-24T13:36:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>Given a positive integer n, break it into the sum of at least two positive integers and maximize the product of those integers. Return the maximum product you can get.</p><p>For example, given n = 2, return 1 (2 = 1 + 1); given n = 10, return 36 (10 = 3 + 3 + 4).<br>Note: You may assume that n is not less than 2 and not larger than 58.</p><p><strong>æ€è·¯:<a id="more"></a> æœ€å€¼é—®é¢˜,æ±‚å¯¼.</strong><br>å‡è®¾ä¸€ä¸ªæ•°Nåˆ†æˆäº†N/xä»½,æ¯ä»½éƒ½æ˜¯x,åˆ™æœ‰<br>$$<br>y=x^{N/x},\<br>\ln y=(N/x)\ln x,\<br>\frac{1}{y}*y^{â€˜}=\frac{n}{x^2}(1-\ln x),<br>$$<br>å¦yâ€™=0,åˆ™æœ‰lnx=1,x=e.<br>é¢˜ä¸­è§„å®šxåªèƒ½æ˜¯æ­£æ•´æ•°,eçº¦ä¸º2.718,åˆ™å–ç¦»eè¾ƒè¿‘çš„æ•°3,æ­¤æ—¶yè¾ƒå¤§.<br>äºæ˜¯æœ‰é€’æ¨å¼: dp(i)=3dp(i-3) (i&gt;4 ),i&lt;=4æ—¶,dp[i]=[1,1,1,2,4].</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">integerBreak</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: int</div><div class="line">        bottom to up dp.</div><div class="line">        """</div><div class="line">        res=[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>]</div><div class="line">        <span class="keyword">if</span> n&lt;=<span class="number">4</span>:<span class="keyword">return</span> res[n]</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            ans=<span class="number">1</span></div><div class="line">            <span class="keyword">while</span> n&gt;<span class="number">4</span>:</div><div class="line">                ans*=<span class="number">3</span></div><div class="line">                n-=<span class="number">3</span></div><div class="line">            ans*=n</div><div class="line">        <span class="keyword">return</span> ans</div></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Given a positive integer n, break it into the sum of at least two positive integers and maximize the product of those integers. Return the maximum product you can get.&lt;/p&gt;
&lt;p&gt;For example, given n = 2, return 1 (2 = 1 + 1); given n = 10, return 36 (10 = 3 + 3 + 4).&lt;br&gt;Note: You may assume that n is not less than 2 and not larger than 58.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ€è·¯:&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="åŠ¨æ€è§„åˆ’" scheme="https://yikayiyo.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>æ·±ã€æµ…æ‹·è´</title>
    <link href="https://yikayiyo.github.io/2017/06/22/%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/"/>
    <id>https://yikayiyo.github.io/2017/06/22/%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/</id>
    <published>2017-06-22T01:50:22.000Z</published>
    <updated>2017-08-01T10:48:10.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>æ‹·è´æ˜¯å¯¹äºå¯å˜å¯¹è±¡listè€Œè¨€çš„ï¼Œéå®¹å™¨ç±»å‹ï¼ˆå¦‚æ•°å­—ã€å­—ç¬¦ä¸²ã€å’Œå…¶ä»–â€™åŸå­â€™ç±»å‹çš„å¯¹è±¡ï¼‰æ˜¯æ²¡æœ‰æ‹·è´è¿™ä¸ªè¯´æ³•çš„</strong></p><h3 id="èµ‹å€¼" class="heading-control"><a href="#èµ‹å€¼" class="headerlink" title="èµ‹å€¼"></a>èµ‹å€¼<a class="heading-anchor" href="#èµ‹å€¼" aria-hidden="true"></a></h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>]]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>b = a</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a <span class="keyword">is</span> b</div><div class="line"><span class="keyword">True</span></div></pre></td></tr></tbody></table></figure><p>bæ˜¯açš„åˆ«åï¼ŒæŒ‡å‘ä¸€ä¸ªåœ°å€<a id="more"></a></p><h3 id="æµ…æ‹·è´" class="heading-control"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´<a class="heading-anchor" href="#æµ…æ‹·è´" aria-hidden="true"></a></h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>b = a[:]              <span class="comment">#æˆ–è€…ä½¿ç”¨ b = list(a)</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a <span class="keyword">is</span> b</div><div class="line"><span class="keyword">False</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">0</span>] <span class="keyword">is</span> b[<span class="number">0</span>]</div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>b.append([<span class="number">6</span>,<span class="number">7</span>])</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>b</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>], [<span class="number">6</span>, <span class="number">7</span>]]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>]]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">3</span>].append(<span class="string">'x'</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>b</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>, <span class="string">'x'</span>], [<span class="number">6</span>, <span class="number">7</span>]]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>, <span class="string">'x'</span>]]</div></pre></td></tr></tbody></table></figure><p>æµ…æ‹·è´æ„é€ äº†ä¸€ä¸ªæ–°çš„listå¯¹è±¡<br>bçš„å†…éƒ¨å…ƒç´ <strong>æ˜¯aå…ƒç´ çš„å¼•ç”¨</strong> ( the new list represents a sequence of references to the same elements as in the first )<br>ä¿®æ”¹bä¸­çš„å¯å˜å¯¹è±¡ä¼šå½±å“a ï¼›</p><h3 id="æ·±æ‹·è´" class="heading-control"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´<a class="heading-anchor" href="#æ·±æ‹·è´" aria-hidden="true"></a></h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> copy</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>b=copy.deepcopy(a)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a <span class="keyword">is</span> b</div><div class="line"><span class="keyword">False</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>b</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>, <span class="string">'x'</span>]]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>, <span class="string">'x'</span>]]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">3</span>].pop()</div><div class="line"><span class="string">'x'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>b</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>]]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>, <span class="string">'x'</span>]]</div></pre></td></tr></tbody></table></figure><p>ä¸ä»…listå¯¹è±¡æ˜¯æ–°çš„ï¼Œlisté‡Œçš„å…ƒç´ ä¹Ÿæ˜¯æ–°çš„ï¼›<br>è¿™é‡Œa[3] is not b[3] .</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;æ‹·è´æ˜¯å¯¹äºå¯å˜å¯¹è±¡listè€Œè¨€çš„ï¼Œéå®¹å™¨ç±»å‹ï¼ˆå¦‚æ•°å­—ã€å­—ç¬¦ä¸²ã€å’Œå…¶ä»–â€™åŸå­â€™ç±»å‹çš„å¯¹è±¡ï¼‰æ˜¯æ²¡æœ‰æ‹·è´è¿™ä¸ªè¯´æ³•çš„&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;èµ‹å€¼&quot;&gt;&lt;a href=&quot;#èµ‹å€¼&quot; class=&quot;headerlink&quot; title=&quot;èµ‹å€¼&quot;&gt;&lt;/a&gt;èµ‹å€¼&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a = [&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,[&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;]]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;b = a&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; b&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;True&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;bæ˜¯açš„åˆ«åï¼ŒæŒ‡å‘ä¸€ä¸ªåœ°å€&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://yikayiyo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="python" scheme="https://yikayiyo.github.io/tags/python/"/>
    
  </entry>
  
</feed>
